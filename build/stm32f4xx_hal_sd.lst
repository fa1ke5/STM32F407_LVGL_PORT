ARM GAS  D:\Temp\cccH9bx8.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"stm32f4xx_hal_sd.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SD_DMATransmitCplt,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	SD_DMATransmitCplt:
  26              	.LVL0:
  27              	.LFB157:
  28              		.file 1 "Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c"
   1:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
   2:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
   3:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @file    stm32f4xx_hal_sd.c
   4:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @author  MCD Application Team
   5:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief   SD card HAL module driver.
   6:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This file provides firmware functions to manage the following
   7:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          functionalities of the Secure Digital (SD) peripheral:
   8:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Initialization and de-initialization functions
   9:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + IO operation functions
  10:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral Control functions
  11:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *           + Peripheral State functions
  12:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
  13:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @verbatim
  14:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  15:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### How to use this driver #####
  16:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
  17:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  18:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver implements a high level communication layer for read and write from/to
  19:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     this memory. The needed STM32 hardware resources (SDIO and GPIO) are performed by
  20:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     the user in HAL_SD_MspInit() function (MSP layer).
  21:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Basically, the MSP layer configuration should be the same as we provide in the
  22:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     examples.
  23:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     You can easily tailor this configuration according to hardware resources.
  24:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  25:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  26:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This driver is a generic layered driver for SDIO memories which uses the HAL
  27:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO driver functions to interface with SD and uSD cards devices.
  28:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     It is used as follows:
  29:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  30:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#)Initialize the SDIO low level resources by implementing the HAL_SD_MspInit() API:
ARM GAS  D:\Temp\cccH9bx8.s 			page 2


  31:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) Enable the SDIO interface clock using __HAL_RCC_SDIO_CLK_ENABLE();
  32:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) SDIO pins configuration for SD card
  33:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the clock for the SDIO GPIOs using the functions __HAL_RCC_GPIOx_CLK_ENABL
  34:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure these SDIO pins as alternate function pull-up using HAL_GPIO_Init()
  35:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and according to your pin assignment;
  36:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) DMA configuration if you need to use DMA process (HAL_SD_ReadBlocks_DMA()
  37:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_DMA() APIs).
  38:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the DMAx interface clock using __HAL_RCC_DMAx_CLK_ENABLE();
  39:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the DMA using the function HAL_DMA_Init() with predeclared and filled.
  40:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process when using DMA transfer.
  41:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the SDIO and DMA interrupt priorities using functions
  42:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   HAL_NVIC_SetPriority(); DMA priority is superior to SDIO's priority
  43:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the NVIC DMA and SDIO IRQs using function HAL_NVIC_EnableIRQ()
  44:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  45:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  46:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  47:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  48:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         (##) NVIC configuration if you need to use interrupt process (HAL_SD_ReadBlocks_IT()
  49:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****              and HAL_SD_WriteBlocks_IT() APIs).
  50:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Configure the SDIO interrupt priorities using function HAL_NVIC_SetPriority();
  51:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) Enable the NVIC SDIO IRQs using function HAL_NVIC_EnableIRQ()
  52:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts are managed using the macros __HAL_SD_ENABLE_IT()
  53:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_DISABLE_IT() inside the communication process.
  54:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             (+++) SDIO interrupts pending bits are managed using the macros __HAL_SD_GET_IT()
  55:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                   and __HAL_SD_CLEAR_IT()
  56:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) At this stage, you can perform SD read/write/erase operations after SD card initialization
  57:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  58:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  59:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Initialization and configuration ***
  60:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ================================================
  61:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
  62:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     To initialize the SD Card, use the HAL_SD_Init() function. It Initializes
  63:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SDIO Peripheral(STM32 side) and the SD Card, and put it into StandBy State (Ready for data tran
  64:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function provide the following operations:
  65:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  66:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Apply the SD Card initialization process at 400KHz and check the SD Card
  67:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         type (Standard Capacity or High Capacity). You can change or adapt this
  68:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  69:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         The SD Card frequency (SDIO_CK) is computed as follows:
  70:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  71:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****            SDIO_CK = SDIOCLK / (ClockDiv + 2)
  72:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  73:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In initialization mode and according to the SD Card standard,
  74:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         make sure that the SDIO_CK frequency doesn't exceed 400KHz.
  75:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  76:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This phase of initialization is done through SDIO_Init() and
  77:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_PowerState_ON() SDIO low level APIs.
  78:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  79:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Initialize the SD card. The API used is HAL_SD_InitCard().
  80:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This phase allows the card initialization and identification
  81:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         and check the SD Card type (Standard Capacity or High Capacity)
  82:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         The initialization flow is compatible with SD standard.
  83:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  84:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This API (HAL_SD_InitCard()) could be used also to reinitialize the card in case
  85:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         of plug-off plug-in.
  86:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  87:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card Data transfer frequency. You can change or adapt this
ARM GAS  D:\Temp\cccH9bx8.s 			page 3


  88:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         frequency by adjusting the "ClockDiv" field.
  89:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         In transfer mode and according to the SD Card standard, make sure that the
  90:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_CK frequency doesn't exceed 25MHz and 50MHz in High-speed mode switch.
  91:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         To be able to use a frequency higher than 24MHz, you should use the SDIO
  92:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         peripheral in bypass mode. Refer to the corresponding reference manual
  93:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for more details.
  94:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  95:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Select the corresponding SD Card according to the address read with the step 2.
  96:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  97:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (#) Configure the SD Card in wide bus mode: 4-bits data.
  98:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
  99:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Read operation ***
 100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================
 101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in polling mode by using function HAL_SD_ReadBlocks().
 103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in DMA mode by using function HAL_SD_ReadBlocks_DMA().
 111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Rx interrupt event.
 118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can read from SD card in Interrupt mode by using function HAL_SD_ReadBlocks_IT().
 120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Rx interrupt event.
 127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD Card Write operation ***
 129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ===============================
 130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in polling mode by using function HAL_SD_WriteBlocks().
 132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in DMA mode by using function HAL_SD_WriteBlocks_DMA().
 140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
ARM GAS  D:\Temp\cccH9bx8.s 			page 4


 145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You could also check the DMA transfer process through the SD Tx interrupt event.
 147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) You can write to SD card in Interrupt mode by using function HAL_SD_WriteBlocks_IT().
 149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         This function support only 512-bytes block length (the block size should be
 150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         chosen as 512 bytes).
 151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You can choose either one block read operation or multiple block read operation
 152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         by adjusting the "NumberOfBlocks" parameter.
 153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         After this, you have to ensure that the transfer is done correctly. The check is done
 154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         through HAL_SD_GetCardState() function for SD card state.
 155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         You could also check the IT transfer process through the SD Tx interrupt event.
 156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card status ***
 158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ======================
 159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) The SD Status contains status bits that are related to the SD Memory
 161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         Card proprietary features. To get SD card status use the HAL_SD_GetCardStatus().
 162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card information ***
 164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ===========================
 165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) To get SD card information, you can use the function HAL_SD_GetCardInfo().
 167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         It returns useful information about the SD card such as block size, card type,
 168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         block number ...
 169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card CSD register ***
 171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ============================
 172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCSD() API allows to get the parameters of the CSD register.
 173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD card CID register ***
 176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ============================
 177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) The HAL_SD_GetCardCID() API allows to get the parameters of the CID register.
 178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         Some of the CSD parameters are useful for card initialization and identification.
 179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** SD HAL driver macros list ***
 181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==================================
 182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Below the list of most used macros in SD HAL driver.
 184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE : Enable the SD device
 186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE : Disable the SD device
 187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_DMA_ENABLE: Enable the SDIO DMA transfer
 188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_DMA_DISABLE: Disable the SDIO DMA transfer
 189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_ENABLE_IT: Enable the SD device interrupt
 190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_DISABLE_IT: Disable the SD device interrupt
 191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_GET_FLAG:Check whether the specified SD flag is set or not
 192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (+) __HAL_SD_CLEAR_FLAG: Clear the SD's pending flags
 193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (@) You can refer to the SD HAL driver header file for more useful macros
 195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *** Callback registration ***
 197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   =============================================
 198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     The compilation define USE_HAL_SD_REGISTER_CALLBACKS when set to 1
 200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     allows the user to configure dynamically the driver callbacks.
 201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 5


 202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Use Functions @ref HAL_SD_RegisterCallback() to register a user callback,
 203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     it allows to register following callbacks:
 204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function takes as parameters the HAL peripheral handle, the Callback ID
 211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and a pointer to the user callback function.
 212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Use function @ref HAL_SD_UnRegisterCallback() to reset a callback to the default
 214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     weak (surcharged) function. It allows to reset following callbacks:
 215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) TxCpltCallback : callback when a transmission transfer is completed.
 216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) RxCpltCallback : callback when a reception transfer is completed.
 217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) ErrorCallback : callback when error occurs.
 218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) AbortCpltCallback : callback when abort is completed.
 219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) MspInitCallback    : SD MspInit.
 220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (+) MspDeInitCallback  : SD MspDeInit.
 221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This function) takes as parameters the HAL peripheral handle and the Callback ID.
 222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     By default, after the @ref HAL_SD_Init and if the state is HAL_SD_STATE_RESET
 224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     all callbacks are reset to the corresponding legacy weak (surcharged) functions.
 225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Exception done for MspInit and MspDeInit callbacks that are respectively
 226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     reset to the legacy weak (surcharged) functions in the @ref HAL_SD_Init
 227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and @ref  HAL_SD_DeInit only when these callbacks are null (not registered beforehand).
 228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     If not, MspInit or MspDeInit are not null, the @ref HAL_SD_Init and @ref HAL_SD_DeInit
 229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     keep and use the user MspInit/MspDeInit callbacks (registered beforehand)
 230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Callbacks can be registered/unregistered in READY state only.
 232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Exception done for MspInit/MspDeInit callbacks that can be registered/unregistered
 233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     in READY or RESET state, thus registered (user) MspInit/DeInit callbacks can be used
 234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     during the Init/DeInit.
 235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     In that case first register the MspInit/MspDeInit user callbacks
 236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     using @ref HAL_SD_RegisterCallback before calling @ref HAL_SD_DeInit
 237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     or @ref HAL_SD_Init function.
 238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     When The compilation define USE_HAL_SD_REGISTER_CALLBACKS is set to 0 or
 240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     not defined, the callback registering feature is not available
 241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     and weak (surcharged) callbacks are used.
 242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   @endverbatim
 244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @attention
 246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * <h2><center>&copy; Copyright (c) 2017 STMicroelectronics.
 248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * All rights reserved.</center></h2>
 249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * This software component is licensed by ST under BSD 3-Clause license,
 251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * the "License"; You may not use this file except in compliance with the
 252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * License. You may obtain a copy of the License at:
 253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                       opensource.org/licenses/BSD-3-Clause
 254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *
 255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ******************************************************************************
 256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Includes ------------------------------------------------------------------*/
ARM GAS  D:\Temp\cccH9bx8.s 			page 6


 259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #include "stm32f4xx_hal.h"
 260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO)
 262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup STM32F4xx_HAL_Driver
 264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD
 268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #ifdef HAL_SD_MODULE_ENABLED
 272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private typedef -----------------------------------------------------------*/
 274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private define ------------------------------------------------------------*/
 275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Defines
 276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private macro -------------------------------------------------------------*/
 284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private variables ---------------------------------------------------------*/
 285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function prototypes -----------------------------------------------*/
 286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private functions ---------------------------------------------------------*/
 287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @defgroup SD_Private_Functions SD Private Functions
 288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd);
 291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd);
 292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus);
 293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus);
 294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd);
 295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd);
 296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR);
 297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd);
 298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd);
 299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd);
 300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma);
 301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma);
 302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma);
 303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma);
 304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma);
 305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Exported functions --------------------------------------------------------*/
 310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions
 311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group1
 315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Initialization and de-initialization functions
ARM GAS  D:\Temp\cccH9bx8.s 			page 7


 316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim
 318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           ##### Initialization and de-initialization functions #####
 320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This section provides functions allowing to initialize/de-initialize the SD
 323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     card device to be ready for use.
 324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD according to the specified parameters in the
 331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             SD_HandleTypeDef and create the associated handle.
 332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to the SD handle
 333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Init(SD_HandleTypeDef *hsd)
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd == NULL)
 339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the parameters */
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_ALL_INSTANCE(hsd->Instance));
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_EDGE(hsd->Init.ClockEdge));
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_BYPASS(hsd->Init.ClockBypass));
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(hsd->Init.BusWide));
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLKDIV(hsd->Init.ClockDiv));
 351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_RESET)
 353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Allocate lock resource and initialize it */
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Lock = HAL_UNLOCKED;
 356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Reset Callback pointers in HAL_SD_STATE_RESET only */
 358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxCpltCallback    = HAL_SD_TxCpltCallback;
 359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxCpltCallback    = HAL_SD_RxCpltCallback;
 360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCallback     = HAL_SD_ErrorCallback;
 361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->AbortCpltCallback = HAL_SD_AbortCallback;
 362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->MspInitCallback == NULL)
 364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
 366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Init the low level hardware */
 369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->MspInitCallback(hsd);
 370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
 371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Init the low level hardware : GPIO, CLOCK, CORTEX...etc */
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_MspInit(hsd);
ARM GAS  D:\Temp\cccH9bx8.s 			page 8


 373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the Card parameters */
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (HAL_SD_InitCard(hsd) != HAL_OK)
 380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the error code */
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the SD operation */
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the SD state */
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD Card.
 398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This function initializes the SD card. It could be used when a card
 400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             re-initialization is needed.
 401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_InitCard(SD_HandleTypeDef *hsd)
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_StatusTypeDef status;
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef Init;
 408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Default SDIO peripheral configuration for SD card initialization */
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockEdge           = SDIO_CLOCK_EDGE_RISING;
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize SDIO peripheral interface with default configuration */
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   status = SDIO_Init(hsd->Instance, Init);
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(status != HAL_OK)
 420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable SDIO Clock */
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_DISABLE(hsd);
 426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to ON */
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_PowerState_ON(hsd->Instance);
 429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 9


 430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable SDIO Clock */
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_ENABLE(hsd);
 432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Identify card operating voltage */
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_PowerON(hsd);
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Card initialization */
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_InitCard(hsd);
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initializes the SD card.
 456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_DeInit(SD_HandleTypeDef *hsd)
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd == NULL)
 463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the parameters */
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_ALL_INSTANCE(hsd->Instance));
 469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
 471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set SD power state to off */
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_PowerOFF(hsd);
 474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->MspDeInitCallback == NULL)
 477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->MspDeInitCallback = HAL_SD_MspDeInit;
 479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DeInit the low level hardware */
 482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->MspDeInitCallback(hsd);
 483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
 484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* De-Initialize the MSP layer */
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_MspDeInit(hsd);
 486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
ARM GAS  D:\Temp\cccH9bx8.s 			page 10


 487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->ErrorCode = HAL_SD_ERROR_NONE;
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the SD MSP.
 497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspInit(SD_HandleTypeDef *hsd)
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspInit could be implemented in the user file
 507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  De-Initialize SD MSP.
 512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
 514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_MspDeInit(SD_HandleTypeDef *hsd)
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
 519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
 521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_MspDeInit could be implemented in the user file
 522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
 527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group2
 530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   Data transfer functions
 531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
 532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim
 533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                         ##### IO operation functions #####
 535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
 536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
 537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to manage the data
 538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     transfer from/to SD card.
 539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
 541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
 542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 11


 544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by polling mode.
 547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the received data
 551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to read
 553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint3
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
 566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       add *= 512U;
 589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  D:\Temp\cccH9bx8.s 			page 12


 601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Read block(s) in polling mode */
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_MULTIPLE_BLOCK;
 615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Read Multi Block command */
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
 618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
 620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_READ_SINGLE_BLOCK;
 622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Read Single Block command */
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
 625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Poll on SDIO flags */
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     dataremaining = config.DataLength;
 638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDI
 640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDI
 642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF) && (dataremaining > 0U))
 645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read data from SDIO Rx FIFO */
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data = SDIO_ReadFIFO(hsd->Instance);
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
ARM GAS  D:\Temp\cccH9bx8.s 			page 13


 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
 673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock read */
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Send stop transmission command */
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Clear all the static flags */
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get error state */
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
ARM GAS  D:\Temp\cccH9bx8.s 			page 14


 715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
 724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
 726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Empty FIFO if there is still any data */
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while ((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)) && (dataremaining > 0U))
 730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data = SDIO_ReadFIFO(hsd->Instance);
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
 758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_OK;
 762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Allows to write block(s) to a specified address in a card. The Data
ARM GAS  D:\Temp\cccH9bx8.s 			page 15


 772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         transfer is managed by polling mode.
 773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: pointer to the buffer that will contain the data to transmit
 777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
 778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of SD blocks to write
 779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  Timeout: Specify timeout value
 780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, uint
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
 792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
 808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
 811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
 813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       add *= 512U;
 815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
ARM GAS  D:\Temp\cccH9bx8.s 			page 16


 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
 839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_MULTIPLE_BLOCK;
 841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Multi Block command */
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
 844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
 846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_WRITE_SINGLE_BLOCK;
 848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Single Block command */
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
 851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Write block(s) in polling mode */
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     dataremaining = config.DataLength;
 864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SD
 866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SD
 868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
 869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE) && (dataremaining > 0U))
 871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Write data to SDIO Tx FIFO */
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         for(count = 0U; count < 8U; count++)
 874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data = (uint32_t)(*tempbuff);
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
ARM GAS  D:\Temp\cccH9bx8.s 			page 17


 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((HAL_GetTick()-tickstart) >=  Timeout) || (Timeout == 0U))
 892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
 899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send stop transmission command in case of multiblock write */
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) && (NumberOfBlocks > 1U))
 904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SECURED)
 906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Send stop transmission command */
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           /* Clear all the static flags */
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get error state */
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
 923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
 932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR))
 941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
ARM GAS  D:\Temp\cccH9bx8.s 			page 18


 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
 950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
 956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_OK;
 960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
 962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_BUSY;
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
 969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
 970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed in interrupt mode.
 971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
 972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
 973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Rx
 974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         interrupt event.
 975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
 976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
 977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
 978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
 979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
 980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
 981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, ui
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
 988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
 994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
 996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
 998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
ARM GAS  D:\Temp\cccH9bx8.s 			page 19


1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->pRxBuffPtr = pData;
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
1010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
1013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
1015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       add *= 512U;
1020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
1041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Read Blocks in IT mode */
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_IT);
1046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Read Multi Block command */
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_IT);
1053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Read Single Block command */
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  D:\Temp\cccH9bx8.s 			page 20


1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_OK;
1068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_BUSY;
1072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed in interrupt mode.
1078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   You could also check the IT transfer process through the SD Tx
1081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         interrupt event.
1082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
1087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_IT(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
1095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
1098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
ARM GAS  D:\Temp\cccH9bx8.s 			page 21


1114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->pTxBuffPtr = pData;
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
1117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Enable transfer interrupts */
1119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR | SDIO_IT_DATAE
1121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR | SDIO_IT_DATAE
1123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       add *= 512U;
1128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK| SD_CONTEXT_IT);
1145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Multi Block command */
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_IT);
1152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Single Block command */
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SD DPSM (Data Path State Machine) */
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataTimeOut   = SDMMC_DATATIMEOUT;
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
ARM GAS  D:\Temp\cccH9bx8.s 			page 22


1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
1174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_OK;
1176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_BUSY;
1180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Reads block(s) from a specified address in a card. The Data transfer
1185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode.
1186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Rx
1189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         interrupt event.
1190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer SD handle
1191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the received data
1192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address from where data is to be read
1193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to read.
1194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
1195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ReadBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, u
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
1203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
1206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
1225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DATAEN
1227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
ARM GAS  D:\Temp\cccH9bx8.s 			page 23


1228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmarx->XferCpltCallback = SD_DMAReceiveCplt;
1231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA error callback */
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmarx->XferErrorCallback = SD_DMAError;
1234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmarx->XferAbortCallback = NULL;
1237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Enable the DMA Channel */
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmarx, (uint32_t)&hsd->Instance->FIFO, (uint32_t)pData, (uint32_t)(BL
1240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_RXOVERR | SDIO_IT_DAT
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Enable SD DMA transfer */
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_DMA_ENABLE(hsd);
1251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         add *= 512U;
1255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Set Block Size for Card */
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
1266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
1276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Read Blocks in DMA mode */
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(NumberOfBlocks > 1U)
1279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read Multi Block command */
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadMultiBlock(hsd->Instance, add);
1284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
ARM GAS  D:\Temp\cccH9bx8.s 			page 24


1285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       else
1286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = (SD_CONTEXT_READ_SINGLE_BLOCK | SD_CONTEXT_DMA);
1288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Read Single Block command */
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdReadSingleBlock(hsd->Instance, add);
1291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
1300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_OK;
1303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_BUSY;
1308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Writes block(s) to a specified address in a card. The Data transfer
1313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         is managed by DMA mode.
1314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   You could also check the DMA transfer process through the SD Tx
1317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         interrupt event.
1318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pData: Pointer to the buffer that will contain the data to transmit
1320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockAdd: Block Address where data will be written
1321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  NumberOfBlocks: Number of blocks to write
1322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
1323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_WriteBlocks_DMA(SD_HandleTypeDef *hsd, uint8_t *pData, uint32_t BlockAdd, 
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
1329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(NULL == pData)
1331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
1334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((add + NumberOfBlocks) > (hsd->SdCard.LogBlockNbr))
1341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  D:\Temp\cccH9bx8.s 			page 25


1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Initialize data control register */
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL = 0U;
1350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Enable SD Error interrupts */
1352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR | SDIO_IT_STBIT
1354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR));   
1356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA transfer complete callback */
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmatx->XferCpltCallback = SD_DMATransmitCplt;
1360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA error callback */
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmatx->XferErrorCallback = SD_DMAError;
1363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set the DMA Abort callback */
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->hdmatx->XferAbortCallback = NULL;
1366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       add *= 512U;
1370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Block Size for Card */
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBlockLength(hsd->Instance, BLOCKSIZE);
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Write Blocks in Polling mode */
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(NumberOfBlocks > 1U)
1385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_MULTIPLE_BLOCK | SD_CONTEXT_DMA);
1387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Multi Block command */
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteMultiBlock(hsd->Instance, add);
1390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = (SD_CONTEXT_WRITE_SINGLE_BLOCK | SD_CONTEXT_DMA);
1394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Write Single Block command */
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdWriteSingleBlock(hsd->Instance, add);
1397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  D:\Temp\cccH9bx8.s 			page 26


1399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Enable SDIO DMA transfer */
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_DMA_ENABLE(hsd);
1410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Enable the DMA Channel */
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(HAL_DMA_Start_IT(hsd->hdmatx, (uint32_t)pData, (uint32_t)&hsd->Instance->FIFO, (uint32_t)(BL
1413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR | SDIO_IT_ST
1416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, (SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT | SDIO_IT_TXUNDERR));   
1418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Configure the SD DPSM (Data Path State Machine) */
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataTimeOut   = SDMMC_DATATIMEOUT;
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
1435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_OK;
1437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_BUSY;
1442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Erases the specified memory area of the given SD card.
1447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @note   This API should be followed by a check on the card state through
1448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         HAL_SD_GetCardState().
1449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockStartAdd: Start Block address
1451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  BlockEndAdd: End Block address
1452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
1453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Erase(SD_HandleTypeDef *hsd, uint32_t BlockStartAdd, uint32_t BlockEndAdd)
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
ARM GAS  D:\Temp\cccH9bx8.s 			page 27


1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
1459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = HAL_SD_ERROR_NONE;
1463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(end_add < start_add)
1465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(end_add > (hsd->SdCard.LogBlockNbr))
1471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_ADDR_OUT_OF_RANGE;
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_BUSY;
1477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Check if the card command class supports erase command */
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(((hsd->SdCard.Class) & SDIO_CCCC_ERASE) == 0U)
1480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
1489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get start and end block for high capacity cards */
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SDHC_SDXC)
1499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       start_add *= 512U;
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       end_add   *= 512U;
1502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* According to sd-card spec 1.0 ERASE_GROUP_START (CMD32) and erase_group_end(CMD33) */
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->SdCard.CardType != CARD_SECURED)
1506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send CMD32 SD_ERASE_GRP_START with argument as addr  */
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseStartAdd(hsd->Instance, start_add);
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
ARM GAS  D:\Temp\cccH9bx8.s 			page 28


1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
1516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Send CMD33 SD_ERASE_GRP_END with argument as addr  */
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SDMMC_CmdSDEraseEndAdd(hsd->Instance, end_add);
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
1521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Clear all the static flags */
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
1527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD38 ERASE */
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdErase(hsd->Instance);
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
1533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
1539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
1542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_OK;
1544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_BUSY;
1548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  This function handles SD card interrupt request.
1553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
1554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** void HAL_SD_IRQHandler(SD_HandleTypeDef *hsd)
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
1560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check for SDIO interrupt flags */
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF) != RESET) && ((context & SD_CONTEXT_IT) != 0U))
1563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SD_Read_IT(hsd);
1565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DATAEND) != RESET)
1568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DATAEND);
ARM GAS  D:\Temp\cccH9bx8.s 			page 29


1570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND  | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR | SDIO_IT_RXOVERR  | SDIO_IT_TXFIFOHE |\
1574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_RXFIFOHF | SDIO_IT_STBITERR);
1575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND  | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR | SDIO_IT_RXOVERR  | SDIO_IT_TXFIFOHE |\
1578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_RXFIFOHF);
1579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL &= ~(SDIO_DCTRL_DTEN);
1582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_MULTIPLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPL
1586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
1589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear all the static flags */
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
1601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
1605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->RxCpltCallback(hsd);
1608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         HAL_SD_RxCpltCallback(hsd);
1610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       else
1613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if((context & SD_CONTEXT_WRITE_MULTIPLE_BLOCK) != 0U)
1624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  D:\Temp\cccH9bx8.s 			page 30


1627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
1629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCallback(hsd);
1631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           HAL_SD_ErrorCallback(hsd);
1633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) == 0U) && ((context & SD_CONTEXT_READ_MULTIPLE_B
1637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Disable the DMA transfer for transmit request by setting the DMAEN bit
1639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         in the SD DCTRL register */
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
1641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->TxCpltCallback(hsd);
1646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         HAL_SD_TxCpltCallback(hsd);
1648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
1654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXFIFOHE) != RESET) && ((context & SD_CONTEXT_IT) != 0U
1658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     SD_Write_IT(hsd);
1660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_RXOVERR | SDIO
1664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_FLAG_RXOVERR | SDIO
1666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Set Error code */
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL) != RESET)
1670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
1672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT) != RESET)
1674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR) != RESET)
1678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
1680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_TXUNDERR) != RESET)
1682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
ARM GAS  D:\Temp\cccH9bx8.s 			page 31


1684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_STBITERR) != RESET)
1687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
1689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
1693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear All flags */
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS | SDIO_FLAG_STBITERR);
1695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Disable all interrupts */
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR | SDIO_IT_STBITERR);
1699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
1700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear All flags */
1701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
1702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Disable all interrupts */
1704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
1705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
1706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* SDIO_STA_STBITERR */
1707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
1709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((context & SD_CONTEXT_IT) != 0U)
1711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Set the SD state to ready to be able to start again the process */
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
1715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
1717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
1719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if((context & SD_CONTEXT_DMA) != 0U)
1722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Abort the SD DMA channel */
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE
1725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Set the DMA Tx abort callback */
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
1728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
1730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           SD_DMATxAbort(hsd->hdmatx);
1732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       else if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTI
1735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Set the DMA Rx abort callback */
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
1738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
1740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
ARM GAS  D:\Temp\cccH9bx8.s 			page 32


1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           SD_DMARxAbort(hsd->hdmarx);
1742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
1743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       else
1745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode = HAL_SD_ERROR_NONE;
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
1749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->AbortCpltCallback(hsd);
1751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         HAL_SD_AbortCallback(hsd);
1753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
1754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
1755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
1757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
1759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Nothing to do */
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief return the SD state
1769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd: Pointer to sd handle
1770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL state
1771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_StateTypeDef HAL_SD_GetState(SD_HandleTypeDef *hsd)
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return hsd->State;
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** * @brief  Return the SD error code
1779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** * @param  hsd : Pointer to a SD_HandleTypeDef structure that contains
1780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *              the configuration information.
1781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** * @retval SD Error Code
1782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** */
1783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** uint32_t HAL_SD_GetError(SD_HandleTypeDef *hsd)
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return hsd->ErrorCode;
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief Tx Transfer completed callbacks
1790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd: Pointer to SD handle
1791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_TxCpltCallback(SD_HandleTypeDef *hsd)
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 33


1798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_TxCpltCallback can be implemented in the user file
1800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief Rx Transfer completed callbacks
1805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_RxCpltCallback(SD_HandleTypeDef *hsd)
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_RxCpltCallback can be implemented in the user file
1815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief SD error callbacks
1820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_ErrorCallback(SD_HandleTypeDef *hsd)
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_ErrorCallback can be implemented in the user file
1830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief SD Abort callbacks
1835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd: Pointer SD handle
1836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
1837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** __weak void HAL_SD_AbortCallback(SD_HandleTypeDef *hsd)
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   UNUSED(hsd);
1842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* NOTE : This function should not be modified, when the callback is needed,
1844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             the HAL_SD_AbortCallback can be implemented in the user file
1845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****    */
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
1849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Register a User SD Callback
1851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         To be used instead of the weak (surcharged) predefined callback
1852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd : SD handle
1853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be registered
1854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *        This parameter can be one of the following values:
ARM GAS  D:\Temp\cccH9bx8.s 			page 34


1855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID    SD Tx Complete Callback ID
1856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID    SD Rx Complete Callback ID
1857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID      SD Error Callback ID
1858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID      SD Abort Callback ID
1859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID   SD MspInit Callback ID
1860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID SD MspDeInit Callback ID
1861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param pCallback : pointer to the Callback function
1862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval status
1863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_RegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef CallbackI
1865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(pCallback == NULL)
1869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Update the error code */
1871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
1873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Process locked */
1876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_LOCK(hsd);
1877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     switch (CallbackID)
1881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
1883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->TxCpltCallback = pCallback;
1884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
1886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->RxCpltCallback = pCallback;
1887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
1889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCallback = pCallback;
1890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
1892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->AbortCpltCallback = pCallback;
1893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
1896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
1899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     default :
1901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Update the error code */
1902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* update return status */
1904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       status =  HAL_ERROR;
1905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     switch (CallbackID)
1911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  D:\Temp\cccH9bx8.s 			page 35


1912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspInitCallback = pCallback;
1914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspDeInitCallback = pCallback;
1917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     default :
1919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Update the error code */
1920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* update return status */
1922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       status =  HAL_ERROR;
1923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
1927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Update the error code */
1929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* update return status */
1931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     status =  HAL_ERROR;
1932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Release Lock */
1935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
1936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return status;
1937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
1938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
1940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Unregister a User SD Callback
1941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SD Callback is redirected to the weak (surcharged) predefined callback
1942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param hsd : SD handle
1943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param CallbackID : ID of the callback to be unregistered
1944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *        This parameter can be one of the following values:
1945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_TX_CPLT_CB_ID    SD Tx Complete Callback ID
1946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_RX_CPLT_CB_ID    SD Rx Complete Callback ID
1947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ERROR_CB_ID      SD Error Callback ID
1948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_ABORT_CB_ID      SD Abort Callback ID
1949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_INIT_CB_ID   SD MspInit Callback ID
1950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          @arg @ref HAL_SD_MSP_DEINIT_CB_ID SD MspDeInit Callback ID
1951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval status
1952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
1953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_UnRegisterCallback(SD_HandleTypeDef *hsd, HAL_SD_CallbackIDTypeDef Callbac
1954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
1955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_StatusTypeDef status = HAL_OK;
1956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Process locked */
1958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_LOCK(hsd);
1959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
1960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->State == HAL_SD_STATE_READY)
1961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     switch (CallbackID)
1963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_TX_CPLT_CB_ID :
1965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->TxCpltCallback = HAL_SD_TxCpltCallback;
1966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_RX_CPLT_CB_ID :
1968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->RxCpltCallback = HAL_SD_RxCpltCallback;
ARM GAS  D:\Temp\cccH9bx8.s 			page 36


1969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_ERROR_CB_ID :
1971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCallback = HAL_SD_ErrorCallback;
1972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_ABORT_CB_ID :
1974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->AbortCpltCallback = HAL_SD_AbortCallback;
1975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
1978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
1981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     default :
1983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Update the error code */
1984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
1985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* update return status */
1986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       status =  HAL_ERROR;
1987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
1989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
1990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if (hsd->State == HAL_SD_STATE_RESET)
1991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
1992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     switch (CallbackID)
1993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
1994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_INIT_CB_ID :
1995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspInitCallback = HAL_SD_MspInit;
1996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
1997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     case HAL_SD_MSP_DEINIT_CB_ID :
1998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->MspDeInitCallback = HAL_SD_MspDeInit;
1999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
2000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     default :
2001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Update the error code */
2002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* update return status */
2004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       status =  HAL_ERROR;
2005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       break;
2006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Update the error code */
2011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_INVALID_CALLBACK;
2012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* update return status */
2013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     status =  HAL_ERROR;
2014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Release Lock */
2017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_UNLOCK(hsd);
2018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return status;
2019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 37


2026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Exported_Functions_Group3
2027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *  @brief   management functions
2028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****  *
2029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @verbatim
2030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
2031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                       ##### Peripheral Control functions #####
2032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   ==============================================================================
2033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   [..]
2034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     This subsection provides a set of functions allowing to control the SD card
2035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     operations and get the related information
2036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** @endverbatim
2038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         the CID register.
2044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCID: Pointer to a HAL_SD_CardCIDTypeDef structure that  
2046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         contains all CID register parameters
2047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCID(SD_HandleTypeDef *hsd, HAL_SD_CardCIDTypeDef *pCID)
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
2052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->OEM_AppliID = (uint16_t)((hsd->CID[0] & 0x00FFFF00U) >> 8U);
2054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ProdName1 = (((hsd->CID[0] & 0x000000FFU) << 24U) | ((hsd->CID[1] & 0xFFFFFF00U) >> 8U));
2056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ProdName2 = (uint8_t)(hsd->CID[1] & 0x000000FFU);
2058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ProdRev = (uint8_t)((hsd->CID[2] & 0xFF000000U) >> 24U);
2060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ProdSN = (((hsd->CID[2] & 0x00FFFFFFU) << 8U) | ((hsd->CID[3] & 0xFF000000U) >> 24U));
2062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->Reserved1 = (uint8_t)((hsd->CID[3] & 0x00F00000U) >> 20U);
2064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ManufactDate = (uint16_t)((hsd->CID[3] & 0x000FFF00U) >> 8U);
2066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->CID_CRC = (uint8_t)((hsd->CID[3] & 0x000000FEU) >> 1U);
2068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->Reserved2 = 1U;
2070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns information the information of the card which are stored on
2076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         the CSD register.
2077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCSD: Pointer to a HAL_SD_CardCSDTypeDef structure that  
2079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         contains all CSD register parameters
2080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardCSD(SD_HandleTypeDef *hsd, HAL_SD_CardCSDTypeDef *pCSD)
ARM GAS  D:\Temp\cccH9bx8.s 			page 38


2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
2085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->SysSpecVersion = (uint8_t)((hsd->CSD[0] & 0x3C000000U) >> 26U);
2087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->Reserved1 = (uint8_t)((hsd->CSD[0] & 0x03000000U) >> 24U);
2089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->TAAC = (uint8_t)((hsd->CSD[0] & 0x00FF0000U) >> 16U);
2091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->NSAC = (uint8_t)((hsd->CSD[0] & 0x0000FF00U) >> 8U);
2093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->MaxBusClkFrec = (uint8_t)(hsd->CSD[0] & 0x000000FFU);
2095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CardComdClasses = (uint16_t)((hsd->CSD[1] & 0xFFF00000U) >> 20U);
2097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->RdBlockLen = (uint8_t)((hsd->CSD[1] & 0x000F0000U) >> 16U);
2099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->PartBlockRead   = (uint8_t)((hsd->CSD[1] & 0x00008000U) >> 15U);
2101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->WrBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00004000U) >> 14U);
2103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->RdBlockMisalign = (uint8_t)((hsd->CSD[1] & 0x00002000U) >> 13U);
2105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->DSRImpl = (uint8_t)((hsd->CSD[1] & 0x00001000U) >> 12U);
2107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->Reserved2 = 0U; /*!< Reserved */
2109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->SdCard.CardType == CARD_SDSC)
2111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x000003FFU) << 2U) | ((hsd->CSD[2] & 0xC0000000U) >> 30U))
2113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x38000000U) >> 27U);
2115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->MaxRdCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x07000000U) >> 24U);
2117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMin = (uint8_t)((hsd->CSD[2] & 0x00E00000U) >> 21U);
2119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->MaxWrCurrentVDDMax = (uint8_t)((hsd->CSD[2] & 0x001C0000U) >> 18U);
2121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->DeviceSizeMul = (uint8_t)((hsd->CSD[2] & 0x00038000U) >> 15U);
2123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr  = (pCSD->DeviceSize + 1U) ;
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
2127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr =  (hsd->SdCard.BlockNbr) * ((hsd->SdCard.BlockSize) / 512U);
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
2130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(hsd->SdCard.CardType == CARD_SDHC_SDXC)
2132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Byte 7 */
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pCSD->DeviceSize = (((hsd->CSD[1] & 0x0000003FU) << 16U) | ((hsd->CSD[2] & 0xFFFF0000U) >> 16U)
2135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr = ((pCSD->DeviceSize + 1U) * 1024U);
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
ARM GAS  D:\Temp\cccH9bx8.s 			page 39


2140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
2148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->EraseGrSize = (uint8_t)((hsd->CSD[2] & 0x00004000U) >> 14U);
2151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->EraseGrMul = (uint8_t)((hsd->CSD[2] & 0x00003F80U) >> 7U);
2153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->WrProtectGrSize = (uint8_t)(hsd->CSD[2] & 0x0000007FU);
2155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->WrProtectGrEnable = (uint8_t)((hsd->CSD[3] & 0x80000000U) >> 31U);
2157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->ManDeflECC = (uint8_t)((hsd->CSD[3] & 0x60000000U) >> 29U);
2159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->WrSpeedFact = (uint8_t)((hsd->CSD[3] & 0x1C000000U) >> 26U);
2161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->MaxWrBlockLen= (uint8_t)((hsd->CSD[3] & 0x03C00000U) >> 22U);
2163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->WriteBlockPaPartial = (uint8_t)((hsd->CSD[3] & 0x00200000U) >> 21U);
2165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->Reserved3 = 0;
2167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->ContentProtectAppli = (uint8_t)((hsd->CSD[3] & 0x00010000U) >> 16U);
2169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->FileFormatGroup = (uint8_t)((hsd->CSD[3] & 0x00008000U) >> 15U);
2171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CopyFlag = (uint8_t)((hsd->CSD[3] & 0x00004000U) >> 14U);
2173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->PermWrProtect = (uint8_t)((hsd->CSD[3] & 0x00002000U) >> 13U);
2175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->TempWrProtect = (uint8_t)((hsd->CSD[3] & 0x00001000U) >> 12U);
2177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->FileFormat = (uint8_t)((hsd->CSD[3] & 0x00000C00U) >> 10U);
2179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->ECC= (uint8_t)((hsd->CSD[3] & 0x00000300U) >> 8U);
2181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CSD_CRC = (uint8_t)((hsd->CSD[3] & 0x000000FEU) >> 1U);
2183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->Reserved4 = 1;
2185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the SD status info.
2191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pStatus: Pointer to the HAL_SD_CardStatusTypeDef structure that 
2193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         will contain the SD card status information
2194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardStatus(SD_HandleTypeDef *hsd, HAL_SD_CardStatusTypeDef *pStatus)
ARM GAS  D:\Temp\cccH9bx8.s 			page 40


2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16];
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_SendSDStatus(hsd, sd_status);
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
2209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->DataBusWidth = (uint8_t)((sd_status[0] & 0xC0U) >> 6U);
2213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->SecuredMode = (uint8_t)((sd_status[0] & 0x20U) >> 5U);
2215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->CardType = (uint16_t)(((sd_status[0] & 0x00FF0000U) >> 8U) | ((sd_status[0] & 0xFF0000
2217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->ProtectedAreaSize = (((sd_status[1] & 0xFFU) << 24U)    | ((sd_status[1] & 0xFF00U) <<
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
2220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->SpeedClass = (uint8_t)(sd_status[2] & 0xFFU);
2222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->PerformanceMove = (uint8_t)((sd_status[2] & 0xFF00U) >> 8U);
2224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->AllocationUnitSize = (uint8_t)((sd_status[2] & 0xF00000U) >> 20U);
2226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->EraseSize = (uint16_t)(((sd_status[2] & 0xFF000000U) >> 16U) | (sd_status[3] & 0xFFU))
2228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->EraseTimeout = (uint8_t)((sd_status[3] & 0xFC00U) >> 10U);
2230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pStatus->EraseOffset = (uint8_t)((sd_status[3] & 0x0300U) >> 8U);
2232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the SD card info.
2239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardInfo: Pointer to the HAL_SD_CardInfoTypeDef structure that
2241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         will contain the SD card status information
2242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_GetCardInfo(SD_HandleTypeDef *hsd, HAL_SD_CardInfoTypeDef *pCardInfo)
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
ARM GAS  D:\Temp\cccH9bx8.s 			page 41


2254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables wide bus operation for the requested card if supported by
2260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         card.
2261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  WideMode: Specifies the SD card wide bus mode
2263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *          This parameter can be one of the following values:
2264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_8B: 8-bit data transfer
2265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_4B: 4-bit data transfer
2266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *            @arg SDIO_BUS_WIDE_1B: 1-bit data transfer
2267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_ConfigWideBusOperation(SD_HandleTypeDef *hsd, uint32_t WideMode)
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef Init;
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the parameters */
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(WideMode));
2276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Change State */
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_BUSY;
2279:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2281:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(WideMode == SDIO_BUS_WIDE_8B)
2283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2285:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(WideMode == SDIO_BUS_WIDE_4B)
2287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Enable(hsd);
2289:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2291:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if(WideMode == SDIO_BUS_WIDE_1B)
2293:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       errorstate = SD_WideBus_Disable(hsd);
2295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2300:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* WideMode is not a valid argument*/
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_PARAM;
2302:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2303:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2304:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2305:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2306:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* MMC Card does not support this feature */
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2308:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
ARM GAS  D:\Temp\cccH9bx8.s 			page 42


2311:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2312:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
2316:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2317:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2318:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2319:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Configure the SDIO peripheral */
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockEdge           = hsd->Init.ClockEdge;
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.BusWide             = WideMode;
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
2327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2329:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Change State */
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2331:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2334:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2335:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Gets the current sd card data state.
2337:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval Card state
2339:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_SD_CardStateTypeDef HAL_SD_GetCardState(SD_HandleTypeDef *hsd)
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t cardstate;
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t resp1 = 0;
2345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_SendStatus(hsd, &resp1);
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
2350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2351:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   cardstate = ((resp1 >> 9U) & 0x0FU);
2353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return (HAL_SD_CardStateTypeDef)cardstate;
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2356:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2357:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2358:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD.
2359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2360:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for SD module.
2361:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2363:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort(SD_HandleTypeDef *hsd)
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
2367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 43


2368:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* DIsable All interrupts */
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2370:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2371:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear All flags */
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDIO_DCTRL_DTEN);
2376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
2378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Disable the SD DMA request */
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2382:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
2384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmatx) != HAL_OK)
2386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2390:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
2392:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort(hsd->hdmarx) != HAL_OK)
2394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2397:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2399:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2400:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Initialize the SD operation */
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2408:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
2417:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Abort the current transfer and disable the SD (IT mode).
2423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
2424:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *                the configuration information for SD module.
ARM GAS  D:\Temp\cccH9bx8.s 			page 44


2425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval HAL status
2426:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2427:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** HAL_StatusTypeDef HAL_SD_Abort_IT(SD_HandleTypeDef *hsd)
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
2431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable All interrupts */
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   CLEAR_BIT(hsd->Instance->DCTRL, SDIO_DCTRL_DTEN);
2437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if ((context & SD_CONTEXT_DMA) != 0U)
2439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2440:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Disable the SD DMA request */
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2442:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Abort the SD DMA Tx channel */
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if (((context & SD_CONTEXT_WRITE_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_WRITE_MULTIPLE_
2445:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->hdmatx->XferAbortCallback = SD_DMATxAbort;
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
2448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->hdmatx = NULL;
2450:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2451:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Abort the SD DMA Rx channel */
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else if (((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIP
2454:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->hdmarx->XferAbortCallback = SD_DMARxAbort;
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
2457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->hdmarx = NULL;
2459:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2461:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2463:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Nothing to do */
2464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2465:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* No transfer ongoing on both DMA channels*/
2467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2469:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear All flags */
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2471:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     CardState = HAL_SD_GetCardState(hsd);
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode = SDMMC_CmdStopTransfer(hsd->Instance);
2478:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(hsd->ErrorCode != HAL_SD_ERROR_NONE)
2480:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  D:\Temp\cccH9bx8.s 			page 45


2482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
2486:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->AbortCpltCallback(hsd);
2487:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       HAL_SD_AbortCallback(hsd);
2489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
2490:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_OK;
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2495:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2496:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2497:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2499:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @}
2502:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2504:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /* Private function ----------------------------------------------------------*/
2505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /** @addtogroup SD_Private_Functions
2506:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @{
2507:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2510:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  DMA SD transmit process complete callback
2511:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: DMA handle
2512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMATransmitCplt(DMA_HandleTypeDef *hdma)
2515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  29              		.loc 1 2515 1 view -0
  30              		.cfi_startproc
  31              		@ args = 0, pretend = 0, frame = 0
  32              		@ frame_needed = 0, uses_anonymous_args = 0
  33              		@ link register save eliminated.
2516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
  34              		.loc 1 2516 3 view .LVU1
  35              		.loc 1 2516 21 is_stmt 0 view .LVU2
  36 0000 836B     		ldr	r3, [r0, #56]
  37              	.LVL1:
2517:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Enable DATAEND Interrupt */
2519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_ENABLE_IT(hsd, (SDIO_IT_DATAEND));
  38              		.loc 1 2519 3 is_stmt 1 view .LVU3
  39 0002 1A68     		ldr	r2, [r3]
  40 0004 D36B     		ldr	r3, [r2, #60]
  41              	.LVL2:
  42              		.loc 1 2519 3 is_stmt 0 view .LVU4
  43 0006 43F48073 		orr	r3, r3, #256
  44 000a D363     		str	r3, [r2, #60]
  45              	.LVL3:
2520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
  46              		.loc 1 2520 1 view .LVU5
ARM GAS  D:\Temp\cccH9bx8.s 			page 46


  47 000c 7047     		bx	lr
  48              		.cfi_endproc
  49              	.LFE157:
  51              		.section	.text.SD_PowerON,"ax",%progbits
  52              		.align	1
  53              		.syntax unified
  54              		.thumb
  55              		.thumb_func
  56              		.fpu fpv4-sp-d16
  58              	SD_PowerON:
  59              	.LVL4:
  60              	.LFB163:
2521:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2522:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  DMA SD receive process complete callback
2524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: DMA handle
2525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2527:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMAReceiveCplt(DMA_HandleTypeDef *hdma)
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send stop command in multiblock write */
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->Context == (SD_CONTEXT_READ_MULTIPLE_BLOCK | SD_CONTEXT_DMA))
2534:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdStopTransfer(hsd->Instance);
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
2539:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2540:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCallback(hsd);
2541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       HAL_SD_ErrorCallback(hsd);
2543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2544:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2545:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2546:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Disable the DMA transfer for transmit request by setting the DMAEN bit
2548:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   in the SD DCTRL register */
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Instance->DCTRL &= (uint32_t)~((uint32_t)SDIO_DCTRL_DMAEN);
2550:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2551:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static flags */
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2553:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2556:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->RxCpltCallback(hsd);
2559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_RxCpltCallback(hsd);
2561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  DMA SD communication error callback
ARM GAS  D:\Temp\cccH9bx8.s 			page 47


2566:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: DMA handle
2567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMAError(DMA_HandleTypeDef *hdma)
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
2574:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* if DMA error is FIFO error ignore it */
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(HAL_DMA_GetError(hdma) != HAL_DMA_ERROR_FE)
2577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     RxErrorCode = hsd->hdmarx->ErrorCode;
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
2581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2582:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Clear All flags */
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
2584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Disable All interrupts */
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_DISABLE_IT(hsd, SDIO_IT_DATAEND | SDIO_IT_DCRCFAIL | SDIO_IT_DTIMEOUT|\
2587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
2588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
2594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2595:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State= HAL_SD_STATE_READY;
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
2598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2601:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
2602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  DMA SD Tx Abort callback
2610:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: DMA handle
2611:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2613:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMATxAbort(DMA_HandleTypeDef *hdma)
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2618:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear All flags */
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2620:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
ARM GAS  D:\Temp\cccH9bx8.s 			page 48


2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
2627:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
2630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
2635:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2638:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
2641:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2643:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2646:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2648:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  DMA SD Rx Abort callback
2649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hdma: DMA handle
2650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_DMARxAbort(DMA_HandleTypeDef *hdma)
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
2656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear All flags */
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   CardState = HAL_SD_GetCardState(hsd);
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
2664:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= SDMMC_CmdStopTransfer(hsd->Instance);
2666:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2667:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->ErrorCode == HAL_SD_ERROR_NONE)
2669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->AbortCpltCallback(hsd);
2672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_AbortCallback(hsd);
2674:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2676:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2678:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
2679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCallback(hsd);
ARM GAS  D:\Temp\cccH9bx8.s 			page 49


2680:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     HAL_SD_ErrorCallback(hsd);
2682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
2683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2685:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Initializes the sd card.
2688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval SD Card error state
2690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2691:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_InitCard(SD_HandleTypeDef *hsd)
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
2696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the power State */
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(SDIO_GetPowerState(hsd->Instance) == 0U)
2699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Power off */
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
2702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2706:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD2 ALL_SEND_CID */
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCID(hsd->Instance);
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get Card identification number data */
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[0U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
2719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2723:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD3 SET_REL_ADDR with argument 0 */
2725:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SD Card publishes its RCA. */
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdSetRelAdd(hsd->Instance, &sd_rca);
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2728:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2730:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(hsd->SdCard.CardType != CARD_SECURED)
2733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get the SD card RCA */
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.RelCardAdd = sd_rca;
2736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 50


2737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD9 SEND_CSD with argument as card's RCA */
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdSendCSD(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     else
2744:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       /* Get Card Specific Data */
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[0U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
2750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2753:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get the Card Class */
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->SdCard.Class = (SDIO_GetResponse(hsd->Instance, SDIO_RESP2) >> 20U);
2755:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2756:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get CSD parameters */
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (HAL_SD_GetCardCSD(hsd, &CSD) != HAL_OK)
2758:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2760:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2762:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Select the Card */
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdSelDesel(hsd->Instance, (uint32_t)(((uint32_t)hsd->SdCard.RelCardAdd) << 16
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2767:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2769:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure SDIO peripheral interface */
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_Init(hsd->Instance, hsd->Init);
2771:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2772:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* All cards are initialized */
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2776:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2777:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enquires cards about their operating voltage and configures clock
2778:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         controls and stores SD information that will be needed in future
2779:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         in the SD handle.
2780:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2781:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
2782:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_PowerON(SD_HandleTypeDef *hsd)
2784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
  61              		.loc 1 2784 1 is_stmt 1 view -0
  62              		.cfi_startproc
  63              		@ args = 0, pretend = 0, frame = 8
  64              		@ frame_needed = 0, uses_anonymous_args = 0
  65              		.loc 1 2784 1 is_stmt 0 view .LVU7
  66 0000 70B5     		push	{r4, r5, r6, lr}
  67              	.LCFI0:
  68              		.cfi_def_cfa_offset 16
  69              		.cfi_offset 4, -16
ARM GAS  D:\Temp\cccH9bx8.s 			page 51


  70              		.cfi_offset 5, -12
  71              		.cfi_offset 6, -8
  72              		.cfi_offset 14, -4
  73 0002 82B0     		sub	sp, sp, #8
  74              	.LCFI1:
  75              		.cfi_def_cfa_offset 24
  76 0004 0446     		mov	r4, r0
2785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __IO uint32_t count = 0U;
  77              		.loc 1 2785 3 is_stmt 1 view .LVU8
  78              		.loc 1 2785 17 is_stmt 0 view .LVU9
  79 0006 0023     		movs	r3, #0
  80 0008 0193     		str	r3, [sp, #4]
2786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t response = 0U, validvoltage = 0U;
  81              		.loc 1 2786 3 is_stmt 1 view .LVU10
  82              	.LVL5:
2787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
  83              		.loc 1 2787 3 view .LVU11
2788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD0: GO_IDLE_STATE */
2790:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
  84              		.loc 1 2790 3 view .LVU12
  85              		.loc 1 2790 16 is_stmt 0 view .LVU13
  86 000a 0068     		ldr	r0, [r0]
  87              	.LVL6:
  88              		.loc 1 2790 16 view .LVU14
  89 000c FFF7FEFF 		bl	SDMMC_CmdGoIdleState
  90              	.LVL7:
2791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
  91              		.loc 1 2791 3 is_stmt 1 view .LVU15
  92              		.loc 1 2791 5 is_stmt 0 view .LVU16
  93 0010 0646     		mov	r6, r0
  94 0012 10B1     		cbz	r0, .L19
  95              	.LVL8:
  96              	.L2:
2792:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2795:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* CMD8: SEND_IF_COND: Command available only on V2.0 cards */
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdOperCond(hsd->Instance);
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V1_X;
2801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdGoIdleState(hsd->Instance);
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2806:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2808:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.CardVersion = CARD_V2_X;
2812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2813:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if( hsd->SdCard.CardVersion == CARD_V2_X)
ARM GAS  D:\Temp\cccH9bx8.s 			page 52


2815:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2821:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* SD CARD */
2824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD41 SD_APP_OP_COND with Argument 0x80100000 */
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while((count < SDMMC_MAX_VOLT_TRIAL) && (validvoltage == 0U))
2826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2827:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* SEND CMD55 APP_CMD with RCA as 0 */
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, 0);
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
2832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD41 */
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppOperCommand(hsd->Instance, SDMMC_VOLTAGE_WINDOW_SD | SDMMC_HIGH_CAPACI
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
2837:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_SD_ERROR_UNSUPPORTED_FEATURE;
2839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get command response */
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     response = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
2843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2844:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Get operating voltage*/
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     validvoltage = (((response >> 31U) == 1U) ? 1U : 0U);
2846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     count++;
2848:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2849:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(count >= SDMMC_MAX_VOLT_TRIAL)
2851:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_INVALID_VOLTRANGE;
2853:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2854:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((response & SDMMC_HIGH_CAPACITY) == SDMMC_HIGH_CAPACITY) /* (response &= SD_HIGH_CAPACITY) */
2856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDHC_SDXC;
2858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2860:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.CardType = CARD_SDSC;
2862:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2864:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2866:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
  97              		.loc 1 2866 1 view .LVU17
  98 0014 3046     		mov	r0, r6
  99 0016 02B0     		add	sp, sp, #8
 100              	.LCFI2:
 101              		.cfi_remember_state
ARM GAS  D:\Temp\cccH9bx8.s 			page 53


 102              		.cfi_def_cfa_offset 16
 103              		@ sp needed
 104 0018 70BD     		pop	{r4, r5, r6, pc}
 105              	.LVL9:
 106              	.L19:
 107              	.LCFI3:
 108              		.cfi_restore_state
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 109              		.loc 1 2797 3 is_stmt 1 view .LVU18
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 110              		.loc 1 2797 16 is_stmt 0 view .LVU19
 111 001a 2068     		ldr	r0, [r4]
 112              	.LVL10:
2797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 113              		.loc 1 2797 16 view .LVU20
 114 001c FFF7FEFF 		bl	SDMMC_CmdOperCond
 115              	.LVL11:
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 116              		.loc 1 2798 3 is_stmt 1 view .LVU21
2798:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 117              		.loc 1 2798 5 is_stmt 0 view .LVU22
 118 0020 38B9     		cbnz	r0, .L20
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 119              		.loc 1 2811 5 is_stmt 1 view .LVU23
2811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 120              		.loc 1 2811 29 is_stmt 0 view .LVU24
 121 0022 0123     		movs	r3, #1
 122 0024 A364     		str	r3, [r4, #72]
 123              	.L5:
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 124              		.loc 1 2814 3 is_stmt 1 view .LVU25
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 125              		.loc 1 2814 18 is_stmt 0 view .LVU26
 126 0026 A36C     		ldr	r3, [r4, #72]
2814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 127              		.loc 1 2814 5 view .LVU27
 128 0028 012B     		cmp	r3, #1
 129 002a 0BD0     		beq	.L6
 130              	.L8:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 131              		.loc 1 2845 52 view .LVU28
 132 002c 3546     		mov	r5, r6
 133 002e 3046     		mov	r0, r6
 134              	.LVL12:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 135              		.loc 1 2845 52 view .LVU29
 136 0030 14E0     		b	.L7
 137              	.LVL13:
 138              	.L20:
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 139              		.loc 1 2800 5 is_stmt 1 view .LVU30
2800:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* CMD0: GO_IDLE_STATE */
 140              		.loc 1 2800 29 is_stmt 0 view .LVU31
 141 0032 0023     		movs	r3, #0
 142 0034 A364     		str	r3, [r4, #72]
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 143              		.loc 1 2802 5 is_stmt 1 view .LVU32
ARM GAS  D:\Temp\cccH9bx8.s 			page 54


2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 144              		.loc 1 2802 18 is_stmt 0 view .LVU33
 145 0036 2068     		ldr	r0, [r4]
 146              	.LVL14:
2802:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 147              		.loc 1 2802 18 view .LVU34
 148 0038 FFF7FEFF 		bl	SDMMC_CmdGoIdleState
 149              	.LVL15:
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 150              		.loc 1 2803 5 is_stmt 1 view .LVU35
2803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 151              		.loc 1 2803 7 is_stmt 0 view .LVU36
 152 003c 0028     		cmp	r0, #0
 153 003e F2D0     		beq	.L5
2805:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 154              		.loc 1 2805 14 view .LVU37
 155 0040 0646     		mov	r6, r0
 156 0042 E7E7     		b	.L2
 157              	.L6:
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 158              		.loc 1 2817 5 is_stmt 1 view .LVU38
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 159              		.loc 1 2817 18 is_stmt 0 view .LVU39
 160 0044 0021     		movs	r1, #0
 161 0046 2068     		ldr	r0, [r4]
 162              	.LVL16:
2817:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 163              		.loc 1 2817 18 view .LVU40
 164 0048 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 165              	.LVL17:
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 166              		.loc 1 2818 5 is_stmt 1 view .LVU41
2818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 167              		.loc 1 2818 7 is_stmt 0 view .LVU42
 168 004c 0028     		cmp	r0, #0
 169 004e EDD0     		beq	.L8
2820:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 170              		.loc 1 2820 14 view .LVU43
 171 0050 4FF08056 		mov	r6, #268435456
 172 0054 DEE7     		b	.L2
 173              	.LVL18:
 174              	.L9:
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 175              		.loc 1 2847 5 is_stmt 1 discriminator 4 view .LVU44
2847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 176              		.loc 1 2847 10 is_stmt 0 discriminator 4 view .LVU45
 177 0056 019B     		ldr	r3, [sp, #4]
 178 0058 0133     		adds	r3, r3, #1
 179 005a 0193     		str	r3, [sp, #4]
 180              	.LVL19:
 181              	.L7:
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 182              		.loc 1 2825 16 view .LVU46
 183 005c 019A     		ldr	r2, [sp, #4]
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 184              		.loc 1 2825 8 view .LVU47
 185 005e 4FF6FE73 		movw	r3, #65534
ARM GAS  D:\Temp\cccH9bx8.s 			page 55


 186 0062 9A42     		cmp	r2, r3
 187 0064 13D8     		bhi	.L10
2825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 188              		.loc 1 2825 40 discriminator 1 view .LVU48
 189 0066 95B9     		cbnz	r5, .L10
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 190              		.loc 1 2828 5 is_stmt 1 view .LVU49
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 191              		.loc 1 2828 18 is_stmt 0 view .LVU50
 192 0068 0021     		movs	r1, #0
 193 006a 2068     		ldr	r0, [r4]
 194              	.LVL20:
2828:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 195              		.loc 1 2828 18 view .LVU51
 196 006c FFF7FEFF 		bl	SDMMC_CmdAppCommand
 197              	.LVL21:
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 198              		.loc 1 2829 5 is_stmt 1 view .LVU52
2829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 199              		.loc 1 2829 7 is_stmt 0 view .LVU53
 200 0070 D8B9     		cbnz	r0, .L15
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 201              		.loc 1 2835 5 is_stmt 1 view .LVU54
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 202              		.loc 1 2835 18 is_stmt 0 view .LVU55
 203 0072 1249     		ldr	r1, .L21
 204 0074 2068     		ldr	r0, [r4]
 205              	.LVL22:
2835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 206              		.loc 1 2835 18 view .LVU56
 207 0076 FFF7FEFF 		bl	SDMMC_CmdAppOperCommand
 208              	.LVL23:
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 209              		.loc 1 2836 5 is_stmt 1 view .LVU57
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 210              		.loc 1 2836 7 is_stmt 0 view .LVU58
 211 007a 0546     		mov	r5, r0
 212              	.LVL24:
2836:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 213              		.loc 1 2836 7 view .LVU59
 214 007c B8B9     		cbnz	r0, .L16
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 215              		.loc 1 2842 5 is_stmt 1 view .LVU60
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 216              		.loc 1 2842 16 is_stmt 0 view .LVU61
 217 007e 0021     		movs	r1, #0
 218 0080 2068     		ldr	r0, [r4]
 219              	.LVL25:
2842:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 220              		.loc 1 2842 16 view .LVU62
 221 0082 FFF7FEFF 		bl	SDIO_GetResponse
 222              	.LVL26:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 223              		.loc 1 2845 5 is_stmt 1 view .LVU63
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 224              		.loc 1 2845 52 is_stmt 0 view .LVU64
 225 0086 0028     		cmp	r0, #0
ARM GAS  D:\Temp\cccH9bx8.s 			page 56


2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 226              		.loc 1 2845 52 view .LVU65
 227 0088 E5DA     		bge	.L9
 228 008a 0125     		movs	r5, #1
 229              	.LVL27:
2845:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 230              		.loc 1 2845 52 view .LVU66
 231 008c E3E7     		b	.L9
 232              	.LVL28:
 233              	.L10:
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 234              		.loc 1 2850 3 is_stmt 1 view .LVU67
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 235              		.loc 1 2850 12 is_stmt 0 view .LVU68
 236 008e 019A     		ldr	r2, [sp, #4]
2850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 237              		.loc 1 2850 5 view .LVU69
 238 0090 4FF6FE73 		movw	r3, #65534
 239 0094 9A42     		cmp	r2, r3
 240 0096 0DD8     		bhi	.L17
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 241              		.loc 1 2855 3 is_stmt 1 view .LVU70
2855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 242              		.loc 1 2855 5 is_stmt 0 view .LVU71
 243 0098 10F0804F 		tst	r0, #1073741824
 244 009c 02D0     		beq	.L12
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 245              		.loc 1 2857 5 is_stmt 1 view .LVU72
2857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 246              		.loc 1 2857 26 is_stmt 0 view .LVU73
 247 009e 0123     		movs	r3, #1
 248 00a0 6364     		str	r3, [r4, #68]
 249 00a2 B7E7     		b	.L2
 250              	.L12:
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 251              		.loc 1 2861 5 is_stmt 1 view .LVU74
2861:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 252              		.loc 1 2861 26 is_stmt 0 view .LVU75
 253 00a4 0023     		movs	r3, #0
 254 00a6 6364     		str	r3, [r4, #68]
 255 00a8 B4E7     		b	.L2
 256              	.LVL29:
 257              	.L15:
2831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 258              		.loc 1 2831 14 view .LVU76
 259 00aa 0646     		mov	r6, r0
 260 00ac B2E7     		b	.L2
 261              	.LVL30:
 262              	.L16:
2838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 263              		.loc 1 2838 14 view .LVU77
 264 00ae 4FF08056 		mov	r6, #268435456
 265 00b2 AFE7     		b	.L2
 266              	.LVL31:
 267              	.L17:
2852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 268              		.loc 1 2852 12 view .LVU78
ARM GAS  D:\Temp\cccH9bx8.s 			page 57


 269 00b4 4FF08076 		mov	r6, #16777216
 270 00b8 ACE7     		b	.L2
 271              	.L22:
 272 00ba 00BF     		.align	2
 273              	.L21:
 274 00bc 000010C1 		.word	-1055916032
 275              		.cfi_endproc
 276              	.LFE163:
 278              		.section	.text.SD_PowerOFF,"ax",%progbits
 279              		.align	1
 280              		.syntax unified
 281              		.thumb
 282              		.thumb_func
 283              		.fpu fpv4-sp-d16
 285              	SD_PowerOFF:
 286              	.LVL32:
 287              	.LFB164:
2867:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2868:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2869:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Turns the SDIO output signals off.
2870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2871:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
2872:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_PowerOFF(SD_HandleTypeDef *hsd)
2874:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 288              		.loc 1 2874 1 is_stmt 1 view -0
 289              		.cfi_startproc
 290              		@ args = 0, pretend = 0, frame = 0
 291              		@ frame_needed = 0, uses_anonymous_args = 0
 292              		.loc 1 2874 1 is_stmt 0 view .LVU80
 293 0000 08B5     		push	{r3, lr}
 294              	.LCFI4:
 295              		.cfi_def_cfa_offset 8
 296              		.cfi_offset 3, -8
 297              		.cfi_offset 14, -4
2875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Power State to OFF */
2876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_PowerState_OFF(hsd->Instance);
 298              		.loc 1 2876 3 is_stmt 1 view .LVU81
 299              		.loc 1 2876 9 is_stmt 0 view .LVU82
 300 0002 0068     		ldr	r0, [r0]
 301              	.LVL33:
 302              		.loc 1 2876 9 view .LVU83
 303 0004 FFF7FEFF 		bl	SDIO_PowerState_OFF
 304              	.LVL34:
2877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 305              		.loc 1 2877 1 view .LVU84
 306 0008 08BD     		pop	{r3, pc}
 307              		.cfi_endproc
 308              	.LFE164:
 310              		.section	.text.SD_Read_IT,"ax",%progbits
 311              		.align	1
 312              		.syntax unified
 313              		.thumb
 314              		.thumb_func
 315              		.fpu fpv4-sp-d16
 317              	SD_Read_IT:
 318              	.LVL35:
ARM GAS  D:\Temp\cccH9bx8.s 			page 58


 319              	.LFB170:
2878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Send Status info command.
2881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
2882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSDstatus: Pointer to the buffer that will contain the SD card status
2883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         SD Status register)
2884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
2885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_SendSDStatus(SD_HandleTypeDef *hsd, uint32_t *pSDstatus)
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count;
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
2893:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check SD response */
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
2896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
2898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2899:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2900:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set block size for card if it is not equal to current block size for card */
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 64U);
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2906:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2907:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 */
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2911:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Configure the SD DPSM (Data Path State Machine) */
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 64U;
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
2924:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD13 (SD_APP_STAUS)  with argument as card's RCA */
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdStatusRegister(hsd->Instance);
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
2928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_NONE;
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
2931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2932:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2933:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get status data */
ARM GAS  D:\Temp\cccH9bx8.s 			page 59


2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_
2935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXFIFOHF))
2937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       for(count = 0U; count < 8U; count++)
2939:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         *pData = SDIO_ReadFIFO(hsd->Instance);
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         pData++;
2942:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
2943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
2948:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2949:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2950:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
2952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
2954:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
2956:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
2958:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
2960:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
2962:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
2964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2965:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Nothing to do */
2966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2967:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while ((__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL)))
2969:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *pData = SDIO_ReadFIFO(hsd->Instance);
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pData++;
2972:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
2974:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
2976:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
2977:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
2978:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2979:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Clear all the static status flags*/
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
2981:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
2984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
2986:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Returns the current card's status.
2987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
2988:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pCardStatus: pointer to the buffer that will contain the SD card
2989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *         status (Card Status register)
2990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
ARM GAS  D:\Temp\cccH9bx8.s 			page 60


2991:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
2992:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_SendStatus(SD_HandleTypeDef *hsd, uint32_t *pCardStatus)
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
2995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(pCardStatus == NULL)
2997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_PARAM;
2999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3001:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send Status command */
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendStatus(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3004:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3005:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3007:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SD card status */
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *pCardStatus = SDIO_GetResponse(hsd->Instance, SDIO_RESP1);
3010:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3013:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3014:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3015:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Enables the SDIO wide bus mode.
3016:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to SD handle
3017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
3018:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_WideBus_Enable(SD_HandleTypeDef *hsd)
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
3023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3025:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3032:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3033:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports wide bus operation */
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SDMMC_WIDE_BUS_SUPPORT) != SDMMC_ALLZERO)
3038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA.*/
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3042:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3044:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3046:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 2 for wide bus mode */
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 2U);
ARM GAS  D:\Temp\cccH9bx8.s 			page 61


3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3049:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3054:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3056:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
3058:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Disables the SDIO wide bus mode.
3063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
3065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3066:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_WideBus_Disable(SD_HandleTypeDef *hsd)
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
3070:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((SDIO_GetResponse(hsd->Instance, SDIO_RESP1) & SDMMC_CARD_LOCKED) == SDMMC_CARD_LOCKED)
3072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
3074:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3075:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3076:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Get SCR Register */
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SD_FindSCR(hsd, scr);
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3079:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3080:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3081:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3082:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* If requested card supports 1 bit mode operation */
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((scr[1U] & SDMMC_SINGLE_BUS_SUPPORT) != SDMMC_ALLZERO)
3085:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send CMD55 APP_CMD with argument as card's RCA */
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)(hsd->SdCard.RelCardAdd << 16U));
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3093:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Send ACMD6 APP_CMD with argument as 0 for single bus mode */
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     errorstate = SDMMC_CmdBusWidth(hsd->Instance, 0U);
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
3096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return errorstate;
3098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3099:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_NONE;
3101:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3103:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
ARM GAS  D:\Temp\cccH9bx8.s 			page 62


3105:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3109:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Finds the SD card SCR register value.
3111:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: Pointer to SD handle
3112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  pSCR: pointer to the buffer that will contain the SCR value
3113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval error state
3114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static uint32_t SD_FindSCR(SD_HandleTypeDef *hsd, uint32_t *pSCR)
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *scr = pSCR;
3123:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Set Block Size To 8 Bytes */
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdBlockLength(hsd->Instance, 8U);
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3130:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send CMD55 APP_CMD with argument as card's RCA */
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdAppCommand(hsd->Instance, (uint32_t)((hsd->SdCard.RelCardAdd) << 16U));
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataTimeOut   = SDMMC_DATATIMEOUT;
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 8U;
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
3145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Send ACMD51 SD_APP_SEND_SCR with argument as 0 */
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   errorstate = SDMMC_CmdSendSCR(hsd->Instance);
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
3149:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
3151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   while(!__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR | SDIO_FLAG_DCRCFAIL | SDIO_FLAG_DTIMEOUT | SDIO_
3154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXDAVL))
3156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *(tempscr + index) = SDIO_ReadFIFO(hsd->Instance);
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
3159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((HAL_GetTick() - tickstart) >=  SDMMC_DATATIMEOUT)
ARM GAS  D:\Temp\cccH9bx8.s 			page 63


3162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_SD_ERROR_TIMEOUT;
3164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3165:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DTIMEOUT))
3168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DTIMEOUT);
3170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_TIMEOUT;
3172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_DCRCFAIL))
3174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_DCRCFAIL);
3176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_DATA_CRC_FAIL;
3178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else if(__HAL_SD_GET_FLAG(hsd, SDIO_FLAG_RXOVERR))
3180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_FLAG_RXOVERR);
3182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_SD_ERROR_RX_OVERRUN;
3184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3185:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   else
3186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* No error flag set */
3188:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Clear all the static flags */
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_DATA_FLAGS);
3190:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *scr = (((tempscr[1] & SDMMC_0TO7BITS) << 24)  | ((tempscr[1] & SDMMC_8TO15BITS) << 8) |\
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     scr++;
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
3196:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return HAL_SD_ERROR_NONE;
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
3201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3203:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Wrap up reading in non-blocking mode.
3204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *              the configuration information.
3206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
3207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_Read_IT(SD_HandleTypeDef *hsd)
3209:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 320              		.loc 1 3209 1 is_stmt 1 view -0
 321              		.cfi_startproc
 322              		@ args = 0, pretend = 0, frame = 0
 323              		@ frame_needed = 0, uses_anonymous_args = 0
 324              		.loc 1 3209 1 is_stmt 0 view .LVU86
 325 0000 F8B5     		push	{r3, r4, r5, r6, r7, lr}
 326              	.LCFI5:
 327              		.cfi_def_cfa_offset 24
 328              		.cfi_offset 3, -24
ARM GAS  D:\Temp\cccH9bx8.s 			page 64


 329              		.cfi_offset 4, -20
 330              		.cfi_offset 5, -16
 331              		.cfi_offset 6, -12
 332              		.cfi_offset 7, -8
 333              		.cfi_offset 14, -4
3210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 334              		.loc 1 3210 3 is_stmt 1 view .LVU87
3211:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t* tmp;
 335              		.loc 1 3211 3 view .LVU88
3212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3213:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = hsd->pRxBuffPtr;
 336              		.loc 1 3213 3 view .LVU89
 337              		.loc 1 3213 7 is_stmt 0 view .LVU90
 338 0002 846A     		ldr	r4, [r0, #40]
 339              	.LVL36:
3214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   dataremaining = hsd->RxXferSize;
 340              		.loc 1 3214 3 is_stmt 1 view .LVU91
 341              		.loc 1 3214 17 is_stmt 0 view .LVU92
 342 0004 C66A     		ldr	r6, [r0, #44]
 343              	.LVL37:
3215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (dataremaining > 0U)
 344              		.loc 1 3216 3 is_stmt 1 view .LVU93
 345              		.loc 1 3216 6 is_stmt 0 view .LVU94
 346 0006 A6B9     		cbnz	r6, .L29
 347              	.LVL38:
 348              	.L25:
3217:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Read data from SDIO Rx FIFO */
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
3220:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data = SDIO_ReadFIFO(hsd->Instance);
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->pRxBuffPtr = tmp;
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
3238:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 349              		.loc 1 3239 1 view .LVU95
 350 0008 F8BD     		pop	{r3, r4, r5, r6, r7, pc}
 351              	.LVL39:
 352              	.L28:
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
 353              		.loc 1 3221 7 is_stmt 1 discriminator 3 view .LVU96
3221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)(data & 0xFFU);
ARM GAS  D:\Temp\cccH9bx8.s 			page 65


 354              		.loc 1 3221 14 is_stmt 0 discriminator 3 view .LVU97
 355 000a 3868     		ldr	r0, [r7]
 356 000c FFF7FEFF 		bl	SDIO_ReadFIFO
 357              	.LVL40:
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 358              		.loc 1 3222 7 is_stmt 1 discriminator 3 view .LVU98
3222:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 359              		.loc 1 3222 12 is_stmt 0 discriminator 3 view .LVU99
 360 0010 2070     		strb	r0, [r4]
3223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 361              		.loc 1 3223 7 is_stmt 1 discriminator 3 view .LVU100
 362              	.LVL41:
3224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 8U) & 0xFFU);
 363              		.loc 1 3224 7 discriminator 3 view .LVU101
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 364              		.loc 1 3225 7 discriminator 3 view .LVU102
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 365              		.loc 1 3225 14 is_stmt 0 discriminator 3 view .LVU103
 366 0012 C0F30723 		ubfx	r3, r0, #8, #8
3225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 367              		.loc 1 3225 12 discriminator 3 view .LVU104
 368 0016 6370     		strb	r3, [r4, #1]
3226:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 369              		.loc 1 3226 7 is_stmt 1 discriminator 3 view .LVU105
 370              	.LVL42:
3227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 16U) & 0xFFU);
 371              		.loc 1 3227 7 discriminator 3 view .LVU106
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 372              		.loc 1 3228 7 discriminator 3 view .LVU107
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 373              		.loc 1 3228 14 is_stmt 0 discriminator 3 view .LVU108
 374 0018 C0F30743 		ubfx	r3, r0, #16, #8
3228:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 375              		.loc 1 3228 12 discriminator 3 view .LVU109
 376 001c A370     		strb	r3, [r4, #2]
3229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 377              		.loc 1 3229 7 is_stmt 1 discriminator 3 view .LVU110
 378              	.LVL43:
3230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tmp = (uint8_t)((data >> 24U) & 0xFFU);
 379              		.loc 1 3230 7 discriminator 3 view .LVU111
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 380              		.loc 1 3231 7 discriminator 3 view .LVU112
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 381              		.loc 1 3231 14 is_stmt 0 discriminator 3 view .LVU113
 382 001e 000E     		lsrs	r0, r0, #24
 383              	.LVL44:
3231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 384              		.loc 1 3231 12 discriminator 3 view .LVU114
 385 0020 E070     		strb	r0, [r4, #3]
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 386              		.loc 1 3232 7 is_stmt 1 discriminator 3 view .LVU115
3232:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 387              		.loc 1 3232 10 is_stmt 0 discriminator 3 view .LVU116
 388 0022 0434     		adds	r4, r4, #4
 389              	.LVL45:
3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 390              		.loc 1 3233 7 is_stmt 1 discriminator 3 view .LVU117
ARM GAS  D:\Temp\cccH9bx8.s 			page 66


3233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 391              		.loc 1 3233 20 is_stmt 0 discriminator 3 view .LVU118
 392 0024 043E     		subs	r6, r6, #4
 393              	.LVL46:
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 394              		.loc 1 3219 38 discriminator 3 view .LVU119
 395 0026 0135     		adds	r5, r5, #1
 396              	.LVL47:
 397              	.L26:
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 398              		.loc 1 3219 5 discriminator 1 view .LVU120
 399 0028 072D     		cmp	r5, #7
 400 002a EED9     		bls	.L28
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 401              		.loc 1 3236 5 is_stmt 1 view .LVU121
3236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = dataremaining;
 402              		.loc 1 3236 21 is_stmt 0 view .LVU122
 403 002c BC62     		str	r4, [r7, #40]
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 404              		.loc 1 3237 5 is_stmt 1 view .LVU123
3237:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 405              		.loc 1 3237 21 is_stmt 0 view .LVU124
 406 002e FE62     		str	r6, [r7, #44]
 407              		.loc 1 3239 1 view .LVU125
 408 0030 EAE7     		b	.L25
 409              	.LVL48:
 410              	.L29:
 411              		.loc 1 3239 1 view .LVU126
 412 0032 0746     		mov	r7, r0
3219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 413              		.loc 1 3219 15 view .LVU127
 414 0034 0025     		movs	r5, #0
 415 0036 F7E7     		b	.L26
 416              		.cfi_endproc
 417              	.LFE170:
 419              		.section	.text.SD_Write_IT,"ax",%progbits
 420              		.align	1
 421              		.syntax unified
 422              		.thumb
 423              		.thumb_func
 424              		.fpu fpv4-sp-d16
 426              	SD_Write_IT:
 427              	.LVL49:
 428              	.LFB171:
3240:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** /**
3242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @brief  Wrap up writing in non-blocking mode.
3243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @param  hsd: pointer to a SD_HandleTypeDef structure that contains
3244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   *              the configuration information.
3245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   * @retval None
3246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   */
3247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** static void SD_Write_IT(SD_HandleTypeDef *hsd)
3248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** {
 429              		.loc 1 3248 1 is_stmt 1 view -0
 430              		.cfi_startproc
 431              		@ args = 0, pretend = 0, frame = 8
 432              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  D:\Temp\cccH9bx8.s 			page 67


 433              		.loc 1 3248 1 is_stmt 0 view .LVU129
 434 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 435              	.LCFI6:
 436              		.cfi_def_cfa_offset 20
 437              		.cfi_offset 4, -20
 438              		.cfi_offset 5, -16
 439              		.cfi_offset 6, -12
 440              		.cfi_offset 7, -8
 441              		.cfi_offset 14, -4
 442 0002 83B0     		sub	sp, sp, #12
 443              	.LCFI7:
 444              		.cfi_def_cfa_offset 32
3249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 445              		.loc 1 3249 3 is_stmt 1 view .LVU130
3250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t* tmp;
 446              		.loc 1 3250 3 view .LVU131
3251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   tmp = hsd->pTxBuffPtr;
 447              		.loc 1 3252 3 view .LVU132
 448              		.loc 1 3252 7 is_stmt 0 view .LVU133
 449 0004 046A     		ldr	r4, [r0, #32]
 450              	.LVL50:
3253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   dataremaining = hsd->TxXferSize;
 451              		.loc 1 3253 3 is_stmt 1 view .LVU134
 452              		.loc 1 3253 17 is_stmt 0 view .LVU135
 453 0006 466A     		ldr	r6, [r0, #36]
 454              	.LVL51:
3254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if (dataremaining > 0U)
 455              		.loc 1 3255 3 is_stmt 1 view .LVU136
 456              		.loc 1 3255 6 is_stmt 0 view .LVU137
 457 0008 DEB9     		cbnz	r6, .L35
 458              	.LVL52:
 459              	.L31:
3256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
3257:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     /* Write data to SDIO Tx FIFO */
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     for(count = 0U; count < 8U; count++)
3259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data = (uint32_t)(*tmp);
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
3273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
3274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->pTxBuffPtr = tmp;
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
3277:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
3278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
ARM GAS  D:\Temp\cccH9bx8.s 			page 68


 460              		.loc 1 3278 1 view .LVU138
 461 000a 03B0     		add	sp, sp, #12
 462              	.LCFI8:
 463              		.cfi_remember_state
 464              		.cfi_def_cfa_offset 20
 465              		@ sp needed
 466 000c F0BD     		pop	{r4, r5, r6, r7, pc}
 467              	.LVL53:
 468              	.L34:
 469              	.LCFI9:
 470              		.cfi_restore_state
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 471              		.loc 1 3260 7 is_stmt 1 discriminator 3 view .LVU139
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 472              		.loc 1 3260 25 is_stmt 0 discriminator 3 view .LVU140
 473 000e 2378     		ldrb	r3, [r4]	@ zero_extendqisi2
3260:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 474              		.loc 1 3260 12 discriminator 3 view .LVU141
 475 0010 0193     		str	r3, [sp, #4]
3261:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 476              		.loc 1 3261 7 is_stmt 1 discriminator 3 view .LVU142
 477              	.LVL54:
3262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 8U);
 478              		.loc 1 3262 7 discriminator 3 view .LVU143
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 479              		.loc 1 3263 7 discriminator 3 view .LVU144
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 480              		.loc 1 3263 27 is_stmt 0 discriminator 3 view .LVU145
 481 0012 6278     		ldrb	r2, [r4, #1]	@ zero_extendqisi2
3263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 482              		.loc 1 3263 12 discriminator 3 view .LVU146
 483 0014 43EA0223 		orr	r3, r3, r2, lsl #8
 484 0018 0193     		str	r3, [sp, #4]
3264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 485              		.loc 1 3264 7 is_stmt 1 discriminator 3 view .LVU147
 486              	.LVL55:
3265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 16U);
 487              		.loc 1 3265 7 discriminator 3 view .LVU148
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 488              		.loc 1 3266 7 discriminator 3 view .LVU149
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 489              		.loc 1 3266 27 is_stmt 0 discriminator 3 view .LVU150
 490 001a A278     		ldrb	r2, [r4, #2]	@ zero_extendqisi2
3266:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 491              		.loc 1 3266 12 discriminator 3 view .LVU151
 492 001c 43EA0243 		orr	r3, r3, r2, lsl #16
 493 0020 0193     		str	r3, [sp, #4]
3267:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 494              		.loc 1 3267 7 is_stmt 1 discriminator 3 view .LVU152
 495              	.LVL56:
3268:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       data |= ((uint32_t)(*tmp) << 24U);
 496              		.loc 1 3268 7 discriminator 3 view .LVU153
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 497              		.loc 1 3269 7 discriminator 3 view .LVU154
3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 498              		.loc 1 3269 27 is_stmt 0 discriminator 3 view .LVU155
 499 0022 E278     		ldrb	r2, [r4, #3]	@ zero_extendqisi2
ARM GAS  D:\Temp\cccH9bx8.s 			page 69


3269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tmp++;
 500              		.loc 1 3269 12 discriminator 3 view .LVU156
 501 0024 43EA0263 		orr	r3, r3, r2, lsl #24
 502 0028 0193     		str	r3, [sp, #4]
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 503              		.loc 1 3270 7 is_stmt 1 discriminator 3 view .LVU157
3270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 504              		.loc 1 3270 10 is_stmt 0 discriminator 3 view .LVU158
 505 002a 0434     		adds	r4, r4, #4
 506              	.LVL57:
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
 507              		.loc 1 3271 7 is_stmt 1 discriminator 3 view .LVU159
3271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_WriteFIFO(hsd->Instance, &data);
 508              		.loc 1 3271 20 is_stmt 0 discriminator 3 view .LVU160
 509 002c 043E     		subs	r6, r6, #4
 510              	.LVL58:
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 511              		.loc 1 3272 7 is_stmt 1 discriminator 3 view .LVU161
3272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 512              		.loc 1 3272 13 is_stmt 0 discriminator 3 view .LVU162
 513 002e 01A9     		add	r1, sp, #4
 514 0030 3868     		ldr	r0, [r7]
 515 0032 FFF7FEFF 		bl	SDIO_WriteFIFO
 516              	.LVL59:
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 517              		.loc 1 3258 38 discriminator 3 view .LVU163
 518 0036 0135     		adds	r5, r5, #1
 519              	.LVL60:
 520              	.L32:
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 521              		.loc 1 3258 5 discriminator 1 view .LVU164
 522 0038 072D     		cmp	r5, #7
 523 003a E8D9     		bls	.L34
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 524              		.loc 1 3275 5 is_stmt 1 view .LVU165
3275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = dataremaining;
 525              		.loc 1 3275 21 is_stmt 0 view .LVU166
 526 003c 3C62     		str	r4, [r7, #32]
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 527              		.loc 1 3276 5 is_stmt 1 view .LVU167
3276:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 528              		.loc 1 3276 21 is_stmt 0 view .LVU168
 529 003e 7E62     		str	r6, [r7, #36]
 530              		.loc 1 3278 1 view .LVU169
 531 0040 E3E7     		b	.L31
 532              	.LVL61:
 533              	.L35:
 534              		.loc 1 3278 1 view .LVU170
 535 0042 0746     		mov	r7, r0
3258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 536              		.loc 1 3258 15 view .LVU171
 537 0044 0025     		movs	r5, #0
 538 0046 F7E7     		b	.L32
 539              		.cfi_endproc
 540              	.LFE171:
 542              		.section	.text.SD_SendSDStatus,"ax",%progbits
 543              		.align	1
ARM GAS  D:\Temp\cccH9bx8.s 			page 70


 544              		.syntax unified
 545              		.thumb
 546              		.thumb_func
 547              		.fpu fpv4-sp-d16
 549              	SD_SendSDStatus:
 550              	.LVL62:
 551              	.LFB165:
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 552              		.loc 1 2887 1 is_stmt 1 view -0
 553              		.cfi_startproc
 554              		@ args = 0, pretend = 0, frame = 24
 555              		@ frame_needed = 0, uses_anonymous_args = 0
2887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 556              		.loc 1 2887 1 is_stmt 0 view .LVU173
 557 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 558              	.LCFI10:
 559              		.cfi_def_cfa_offset 24
 560              		.cfi_offset 4, -24
 561              		.cfi_offset 5, -20
 562              		.cfi_offset 6, -16
 563              		.cfi_offset 7, -12
 564              		.cfi_offset 8, -8
 565              		.cfi_offset 14, -4
 566 0004 86B0     		sub	sp, sp, #24
 567              	.LCFI11:
 568              		.cfi_def_cfa_offset 48
 569 0006 0446     		mov	r4, r0
 570 0008 0E46     		mov	r6, r1
2888:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 571              		.loc 1 2888 3 is_stmt 1 view .LVU174
2889:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 572              		.loc 1 2889 3 view .LVU175
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count;
 573              		.loc 1 2890 3 view .LVU176
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count;
 574              		.loc 1 2890 24 is_stmt 0 view .LVU177
 575 000a FFF7FEFF 		bl	HAL_GetTick
 576              	.LVL63:
2890:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count;
 577              		.loc 1 2890 24 view .LVU178
 578 000e 8046     		mov	r8, r0
 579              	.LVL64:
2891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *pData = pSDstatus;
 580              		.loc 1 2891 3 is_stmt 1 view .LVU179
2892:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 581              		.loc 1 2892 3 view .LVU180
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 582              		.loc 1 2895 3 view .LVU181
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 583              		.loc 1 2895 7 is_stmt 0 view .LVU182
 584 0010 0021     		movs	r1, #0
 585 0012 2068     		ldr	r0, [r4]
 586              	.LVL65:
2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 587              		.loc 1 2895 7 view .LVU183
 588 0014 FFF7FEFF 		bl	SDIO_GetResponse
 589              	.LVL66:
ARM GAS  D:\Temp\cccH9bx8.s 			page 71


2895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 590              		.loc 1 2895 5 view .LVU184
 591 0018 10F0007F 		tst	r0, #33554432
 592 001c 69D1     		bne	.L48
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 593              		.loc 1 2901 3 is_stmt 1 view .LVU185
2901:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 594              		.loc 1 2901 16 is_stmt 0 view .LVU186
 595 001e 4021     		movs	r1, #64
 596 0020 2068     		ldr	r0, [r4]
 597 0022 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 598              	.LVL67:
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 599              		.loc 1 2902 3 is_stmt 1 view .LVU187
2902:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 600              		.loc 1 2902 5 is_stmt 0 view .LVU188
 601 0026 0746     		mov	r7, r0
 602 0028 10B1     		cbz	r0, .L39
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 603              		.loc 1 2904 5 is_stmt 1 view .LVU189
2904:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 604              		.loc 1 2904 20 is_stmt 0 view .LVU190
 605 002a A36B     		ldr	r3, [r4, #56]
 606 002c A363     		str	r3, [r4, #56]
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 607              		.loc 1 2905 5 is_stmt 1 view .LVU191
2905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 608              		.loc 1 2905 12 is_stmt 0 view .LVU192
 609 002e 62E0     		b	.L37
 610              	.L39:
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 611              		.loc 1 2909 3 is_stmt 1 view .LVU193
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 612              		.loc 1 2909 73 is_stmt 0 view .LVU194
 613 0030 216D     		ldr	r1, [r4, #80]
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 614              		.loc 1 2909 16 view .LVU195
 615 0032 0904     		lsls	r1, r1, #16
 616 0034 2068     		ldr	r0, [r4]
 617              	.LVL68:
2909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 618              		.loc 1 2909 16 view .LVU196
 619 0036 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 620              	.LVL69:
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 621              		.loc 1 2910 3 is_stmt 1 view .LVU197
2910:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 622              		.loc 1 2910 5 is_stmt 0 view .LVU198
 623 003a 0746     		mov	r7, r0
 624 003c 10B1     		cbz	r0, .L40
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 625              		.loc 1 2912 5 is_stmt 1 view .LVU199
2912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 626              		.loc 1 2912 20 is_stmt 0 view .LVU200
 627 003e A36B     		ldr	r3, [r4, #56]
 628 0040 A363     		str	r3, [r4, #56]
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  D:\Temp\cccH9bx8.s 			page 72


 629              		.loc 1 2913 5 is_stmt 1 view .LVU201
2913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 630              		.loc 1 2913 12 is_stmt 0 view .LVU202
 631 0042 58E0     		b	.L37
 632              	.L40:
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 64U;
 633              		.loc 1 2917 3 is_stmt 1 view .LVU203
2917:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 64U;
 634              		.loc 1 2917 24 is_stmt 0 view .LVU204
 635 0044 4FF0FF33 		mov	r3, #-1
 636 0048 0093     		str	r3, [sp]
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 637              		.loc 1 2918 3 is_stmt 1 view .LVU205
2918:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_64B;
 638              		.loc 1 2918 24 is_stmt 0 view .LVU206
 639 004a 4023     		movs	r3, #64
 640 004c 0193     		str	r3, [sp, #4]
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 641              		.loc 1 2919 3 is_stmt 1 view .LVU207
2919:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 642              		.loc 1 2919 24 is_stmt 0 view .LVU208
 643 004e 6023     		movs	r3, #96
 644 0050 0293     		str	r3, [sp, #8]
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 645              		.loc 1 2920 3 is_stmt 1 view .LVU209
2920:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 646              		.loc 1 2920 24 is_stmt 0 view .LVU210
 647 0052 0223     		movs	r3, #2
 648 0054 0393     		str	r3, [sp, #12]
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 649              		.loc 1 2921 3 is_stmt 1 view .LVU211
2921:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 650              		.loc 1 2921 24 is_stmt 0 view .LVU212
 651 0056 0023     		movs	r3, #0
 652 0058 0493     		str	r3, [sp, #16]
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 653              		.loc 1 2922 3 is_stmt 1 view .LVU213
2922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 654              		.loc 1 2922 24 is_stmt 0 view .LVU214
 655 005a 0123     		movs	r3, #1
 656 005c 0593     		str	r3, [sp, #20]
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 657              		.loc 1 2923 3 is_stmt 1 view .LVU215
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 658              		.loc 1 2923 9 is_stmt 0 view .LVU216
 659 005e 6946     		mov	r1, sp
 660 0060 2068     		ldr	r0, [r4]
 661              	.LVL70:
2923:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 662              		.loc 1 2923 9 view .LVU217
 663 0062 FFF7FEFF 		bl	SDIO_ConfigData
 664              	.LVL71:
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 665              		.loc 1 2926 3 is_stmt 1 view .LVU218
2926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 666              		.loc 1 2926 16 is_stmt 0 view .LVU219
 667 0066 2068     		ldr	r0, [r4]
ARM GAS  D:\Temp\cccH9bx8.s 			page 73


 668 0068 FFF7FEFF 		bl	SDMMC_CmdStatusRegister
 669              	.LVL72:
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 670              		.loc 1 2927 3 is_stmt 1 view .LVU220
2927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 671              		.loc 1 2927 5 is_stmt 0 view .LVU221
 672 006c 0746     		mov	r7, r0
 673 006e 88B1     		cbz	r0, .L41
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 674              		.loc 1 2929 5 is_stmt 1 view .LVU222
2929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return errorstate;
 675              		.loc 1 2929 20 is_stmt 0 view .LVU223
 676 0070 A36B     		ldr	r3, [r4, #56]
 677 0072 A363     		str	r3, [r4, #56]
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 678              		.loc 1 2930 5 is_stmt 1 view .LVU224
2930:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 679              		.loc 1 2930 12 is_stmt 0 view .LVU225
 680 0074 3FE0     		b	.L37
 681              	.LVL73:
 682              	.L44:
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         pData++;
 683              		.loc 1 2940 9 is_stmt 1 discriminator 3 view .LVU226
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         pData++;
 684              		.loc 1 2940 18 is_stmt 0 discriminator 3 view .LVU227
 685 0076 2068     		ldr	r0, [r4]
 686 0078 FFF7FEFF 		bl	SDIO_ReadFIFO
 687              	.LVL74:
2940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         pData++;
 688              		.loc 1 2940 16 discriminator 3 view .LVU228
 689 007c 46F8040B 		str	r0, [r6], #4
 690              	.LVL75:
2941:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 691              		.loc 1 2941 9 is_stmt 1 discriminator 3 view .LVU229
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 692              		.loc 1 2938 40 is_stmt 0 discriminator 3 view .LVU230
 693 0080 0135     		adds	r5, r5, #1
 694              	.LVL76:
 695              	.L42:
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 696              		.loc 1 2938 7 discriminator 1 view .LVU231
 697 0082 072D     		cmp	r5, #7
 698 0084 F7D9     		bls	.L44
 699              	.LVL77:
 700              	.L43:
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 701              		.loc 1 2945 5 is_stmt 1 view .LVU232
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 702              		.loc 1 2945 9 is_stmt 0 view .LVU233
 703 0086 FFF7FEFF 		bl	HAL_GetTick
 704              	.LVL78:
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 705              		.loc 1 2945 23 view .LVU234
 706 008a A0EB0800 		sub	r0, r0, r8
2945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 707              		.loc 1 2945 7 view .LVU235
 708 008e B0F1FF3F 		cmp	r0, #-1
ARM GAS  D:\Temp\cccH9bx8.s 			page 74


 709 0092 34D0     		beq	.L50
 710              	.L41:
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 711              		.loc 1 2934 10 view .LVU236
 712 0094 2368     		ldr	r3, [r4]
 713 0096 596B     		ldr	r1, [r3, #52]
2934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 714              		.loc 1 2934 8 view .LVU237
 715 0098 40F22A42 		movw	r2, #1066
 716 009c 1142     		tst	r1, r2
 717 009e 05D1     		bne	.L56
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 718              		.loc 1 2936 5 is_stmt 1 view .LVU238
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 719              		.loc 1 2936 8 is_stmt 0 view .LVU239
 720 00a0 5B6B     		ldr	r3, [r3, #52]
2936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 721              		.loc 1 2936 7 view .LVU240
 722 00a2 13F4004F 		tst	r3, #32768
 723 00a6 EED0     		beq	.L43
2938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 724              		.loc 1 2938 17 view .LVU241
 725 00a8 3D46     		mov	r5, r7
 726 00aa EAE7     		b	.L42
 727              	.L56:
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 728              		.loc 1 2951 3 is_stmt 1 view .LVU242
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 729              		.loc 1 2951 6 is_stmt 0 view .LVU243
 730 00ac 5A6B     		ldr	r2, [r3, #52]
2951:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 731              		.loc 1 2951 5 view .LVU244
 732 00ae 12F0080F 		tst	r2, #8
 733 00b2 27D1     		bne	.L51
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 734              		.loc 1 2955 8 is_stmt 1 view .LVU245
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 735              		.loc 1 2955 11 is_stmt 0 view .LVU246
 736 00b4 5A6B     		ldr	r2, [r3, #52]
2955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 737              		.loc 1 2955 10 view .LVU247
 738 00b6 12F0020F 		tst	r2, #2
 739 00ba 25D1     		bne	.L52
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 740              		.loc 1 2959 8 is_stmt 1 view .LVU248
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 741              		.loc 1 2959 11 is_stmt 0 view .LVU249
 742 00bc 5B6B     		ldr	r3, [r3, #52]
2959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 743              		.loc 1 2959 10 view .LVU250
 744 00be 13F0200F 		tst	r3, #32
 745 00c2 23D1     		bne	.L57
 746              	.L46:
2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 747              		.loc 1 2968 11 view .LVU251
 748 00c4 2068     		ldr	r0, [r4]
 749 00c6 436B     		ldr	r3, [r0, #52]
ARM GAS  D:\Temp\cccH9bx8.s 			page 75


2968:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 750              		.loc 1 2968 9 view .LVU252
 751 00c8 13F4001F 		tst	r3, #2097152
 752 00cc 0DD0     		beq	.L58
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pData++;
 753              		.loc 1 2970 5 is_stmt 1 view .LVU253
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pData++;
 754              		.loc 1 2970 14 is_stmt 0 view .LVU254
 755 00ce FFF7FEFF 		bl	SDIO_ReadFIFO
 756              	.LVL79:
2970:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     pData++;
 757              		.loc 1 2970 12 view .LVU255
 758 00d2 46F8040B 		str	r0, [r6], #4
 759              	.LVL80:
2971:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 760              		.loc 1 2971 5 is_stmt 1 view .LVU256
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 761              		.loc 1 2973 5 view .LVU257
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 762              		.loc 1 2973 9 is_stmt 0 view .LVU258
 763 00d6 FFF7FEFF 		bl	HAL_GetTick
 764              	.LVL81:
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 765              		.loc 1 2973 23 view .LVU259
 766 00da A0EB0800 		sub	r0, r0, r8
2973:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 767              		.loc 1 2973 7 view .LVU260
 768 00de B0F1FF3F 		cmp	r0, #-1
 769 00e2 EFD1     		bne	.L46
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 770              		.loc 1 2975 14 view .LVU261
 771 00e4 4FF00047 		mov	r7, #-2147483648
 772              	.LVL82:
2975:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 773              		.loc 1 2975 14 view .LVU262
 774 00e8 05E0     		b	.L37
 775              	.LVL83:
 776              	.L58:
2980:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 777              		.loc 1 2980 3 is_stmt 1 view .LVU263
 778 00ea 40F23A53 		movw	r3, #1338
 779 00ee 8363     		str	r3, [r0, #56]
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 780              		.loc 1 2982 3 view .LVU264
2982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 781              		.loc 1 2982 10 is_stmt 0 view .LVU265
 782 00f0 01E0     		b	.L37
 783              	.LVL84:
 784              	.L48:
2897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 785              		.loc 1 2897 12 view .LVU266
 786 00f2 4FF40067 		mov	r7, #2048
 787              	.LVL85:
 788              	.L37:
2983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 789              		.loc 1 2983 1 view .LVU267
 790 00f6 3846     		mov	r0, r7
ARM GAS  D:\Temp\cccH9bx8.s 			page 76


 791 00f8 06B0     		add	sp, sp, #24
 792              	.LCFI12:
 793              		.cfi_remember_state
 794              		.cfi_def_cfa_offset 24
 795              		@ sp needed
 796 00fa BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 797              	.LVL86:
 798              	.L50:
 799              	.LCFI13:
 800              		.cfi_restore_state
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 801              		.loc 1 2947 14 view .LVU268
 802 00fe 4FF00047 		mov	r7, #-2147483648
 803              	.LVL87:
2947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 804              		.loc 1 2947 14 view .LVU269
 805 0102 F8E7     		b	.L37
 806              	.LVL88:
 807              	.L51:
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 808              		.loc 1 2953 12 view .LVU270
 809 0104 0827     		movs	r7, #8
 810              	.LVL89:
2953:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 811              		.loc 1 2953 12 view .LVU271
 812 0106 F6E7     		b	.L37
 813              	.LVL90:
 814              	.L52:
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 815              		.loc 1 2957 12 view .LVU272
 816 0108 0227     		movs	r7, #2
 817              	.LVL91:
2957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 818              		.loc 1 2957 12 view .LVU273
 819 010a F4E7     		b	.L37
 820              	.LVL92:
 821              	.L57:
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 822              		.loc 1 2961 12 view .LVU274
 823 010c 2027     		movs	r7, #32
 824              	.LVL93:
2961:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 825              		.loc 1 2961 12 view .LVU275
 826 010e F2E7     		b	.L37
 827              		.cfi_endproc
 828              	.LFE165:
 830              		.section	.text.SD_FindSCR,"ax",%progbits
 831              		.align	1
 832              		.syntax unified
 833              		.thumb
 834              		.thumb_func
 835              		.fpu fpv4-sp-d16
 837              	SD_FindSCR:
 838              	.LVL94:
 839              	.LFB169:
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 840              		.loc 1 3116 1 is_stmt 1 view -0
ARM GAS  D:\Temp\cccH9bx8.s 			page 77


 841              		.cfi_startproc
 842              		@ args = 0, pretend = 0, frame = 32
 843              		@ frame_needed = 0, uses_anonymous_args = 0
3116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 844              		.loc 1 3116 1 is_stmt 0 view .LVU277
 845 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 846              	.LCFI14:
 847              		.cfi_def_cfa_offset 24
 848              		.cfi_offset 4, -24
 849              		.cfi_offset 5, -20
 850              		.cfi_offset 6, -16
 851              		.cfi_offset 7, -12
 852              		.cfi_offset 8, -8
 853              		.cfi_offset 14, -4
 854 0004 88B0     		sub	sp, sp, #32
 855              	.LCFI15:
 856              		.cfi_def_cfa_offset 56
 857 0006 0446     		mov	r4, r0
 858 0008 0F46     		mov	r7, r1
3117:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 859              		.loc 1 3117 3 is_stmt 1 view .LVU278
3118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 860              		.loc 1 3118 3 view .LVU279
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
 861              		.loc 1 3119 3 view .LVU280
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
 862              		.loc 1 3119 24 is_stmt 0 view .LVU281
 863 000a FFF7FEFF 		bl	HAL_GetTick
 864              	.LVL95:
3119:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t index = 0U;
 865              		.loc 1 3119 24 view .LVU282
 866 000e 0646     		mov	r6, r0
 867              	.LVL96:
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
 868              		.loc 1 3120 3 is_stmt 1 view .LVU283
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *scr = pSCR;
 869              		.loc 1 3121 3 view .LVU284
3121:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t *scr = pSCR;
 870              		.loc 1 3121 12 is_stmt 0 view .LVU285
 871 0010 0023     		movs	r3, #0
 872 0012 0093     		str	r3, [sp]
 873 0014 0193     		str	r3, [sp, #4]
3122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 874              		.loc 1 3122 3 is_stmt 1 view .LVU286
 875              	.LVL97:
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 876              		.loc 1 3125 3 view .LVU287
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 877              		.loc 1 3125 16 is_stmt 0 view .LVU288
 878 0016 0821     		movs	r1, #8
 879 0018 2068     		ldr	r0, [r4]
 880              	.LVL98:
3125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 881              		.loc 1 3125 16 view .LVU289
 882 001a FFF7FEFF 		bl	SDMMC_CmdBlockLength
 883              	.LVL99:
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  D:\Temp\cccH9bx8.s 			page 78


 884              		.loc 1 3126 3 is_stmt 1 view .LVU290
3126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 885              		.loc 1 3126 5 is_stmt 0 view .LVU291
 886 001e 0546     		mov	r5, r0
 887 0020 18B1     		cbz	r0, .L69
 888              	.LVL100:
 889              	.L59:
3200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 890              		.loc 1 3200 1 view .LVU292
 891 0022 2846     		mov	r0, r5
 892 0024 08B0     		add	sp, sp, #32
 893              	.LCFI16:
 894              		.cfi_remember_state
 895              		.cfi_def_cfa_offset 24
 896              		@ sp needed
 897 0026 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 898              	.LVL101:
 899              	.L69:
 900              	.LCFI17:
 901              		.cfi_restore_state
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 902              		.loc 1 3132 3 is_stmt 1 view .LVU293
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 903              		.loc 1 3132 74 is_stmt 0 view .LVU294
 904 002a 216D     		ldr	r1, [r4, #80]
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 905              		.loc 1 3132 16 view .LVU295
 906 002c 0904     		lsls	r1, r1, #16
 907 002e 2068     		ldr	r0, [r4]
 908              	.LVL102:
3132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 909              		.loc 1 3132 16 view .LVU296
 910 0030 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 911              	.LVL103:
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 912              		.loc 1 3133 3 is_stmt 1 view .LVU297
3133:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 913              		.loc 1 3133 5 is_stmt 0 view .LVU298
 914 0034 0546     		mov	r5, r0
 915 0036 0028     		cmp	r0, #0
 916 0038 F3D1     		bne	.L59
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 8U;
 917              		.loc 1 3138 3 is_stmt 1 view .LVU299
3138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataLength    = 8U;
 918              		.loc 1 3138 24 is_stmt 0 view .LVU300
 919 003a 4FF0FF33 		mov	r3, #-1
 920 003e 0293     		str	r3, [sp, #8]
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 921              		.loc 1 3139 3 is_stmt 1 view .LVU301
3139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DataBlockSize = SDIO_DATABLOCK_SIZE_8B;
 922              		.loc 1 3139 24 is_stmt 0 view .LVU302
 923 0040 0823     		movs	r3, #8
 924 0042 0393     		str	r3, [sp, #12]
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 925              		.loc 1 3140 3 is_stmt 1 view .LVU303
3140:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 926              		.loc 1 3140 24 is_stmt 0 view .LVU304
ARM GAS  D:\Temp\cccH9bx8.s 			page 79


 927 0044 3023     		movs	r3, #48
 928 0046 0493     		str	r3, [sp, #16]
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 929              		.loc 1 3141 3 is_stmt 1 view .LVU305
3141:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 930              		.loc 1 3141 24 is_stmt 0 view .LVU306
 931 0048 0223     		movs	r3, #2
 932 004a 0593     		str	r3, [sp, #20]
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 933              		.loc 1 3142 3 is_stmt 1 view .LVU307
3142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   config.DPSM          = SDIO_DPSM_ENABLE;
 934              		.loc 1 3142 24 is_stmt 0 view .LVU308
 935 004c 0023     		movs	r3, #0
 936 004e 0693     		str	r3, [sp, #24]
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 937              		.loc 1 3143 3 is_stmt 1 view .LVU309
3143:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   (void)SDIO_ConfigData(hsd->Instance, &config);
 938              		.loc 1 3143 24 is_stmt 0 view .LVU310
 939 0050 0123     		movs	r3, #1
 940 0052 0793     		str	r3, [sp, #28]
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 941              		.loc 1 3144 3 is_stmt 1 view .LVU311
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 942              		.loc 1 3144 9 is_stmt 0 view .LVU312
 943 0054 02A9     		add	r1, sp, #8
 944 0056 2068     		ldr	r0, [r4]
 945              	.LVL104:
3144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 946              		.loc 1 3144 9 view .LVU313
 947 0058 FFF7FEFF 		bl	SDIO_ConfigData
 948              	.LVL105:
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 949              		.loc 1 3147 3 is_stmt 1 view .LVU314
3147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 950              		.loc 1 3147 16 is_stmt 0 view .LVU315
 951 005c 2068     		ldr	r0, [r4]
 952 005e FFF7FEFF 		bl	SDMMC_CmdSendSCR
 953              	.LVL106:
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 954              		.loc 1 3148 3 is_stmt 1 view .LVU316
3148:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 955              		.loc 1 3148 5 is_stmt 0 view .LVU317
 956 0062 0546     		mov	r5, r0
 957 0064 0028     		cmp	r0, #0
 958 0066 DCD1     		bne	.L59
3120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tempscr[2U] = {0U, 0U};
 959              		.loc 1 3120 12 view .LVU318
 960 0068 8046     		mov	r8, r0
 961 006a 0BE0     		b	.L61
 962              	.LVL107:
 963              	.L71:
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
 964              		.loc 1 3157 7 is_stmt 1 view .LVU319
3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
 965              		.loc 1 3157 28 is_stmt 0 view .LVU320
 966 006c FFF7FEFF 		bl	SDIO_ReadFIFO
 967              	.LVL108:
ARM GAS  D:\Temp\cccH9bx8.s 			page 80


3157:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       index++;
 968              		.loc 1 3157 26 view .LVU321
 969 0070 4DF82800 		str	r0, [sp, r8, lsl #2]
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 970              		.loc 1 3158 7 is_stmt 1 view .LVU322
3158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 971              		.loc 1 3158 12 is_stmt 0 view .LVU323
 972 0074 08F10108 		add	r8, r8, #1
 973              	.LVL109:
 974              	.L62:
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 975              		.loc 1 3161 5 is_stmt 1 view .LVU324
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 976              		.loc 1 3161 9 is_stmt 0 view .LVU325
 977 0078 FFF7FEFF 		bl	HAL_GetTick
 978              	.LVL110:
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 979              		.loc 1 3161 23 view .LVU326
 980 007c 801B     		subs	r0, r0, r6
3161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 981              		.loc 1 3161 7 view .LVU327
 982 007e B0F1FF3F 		cmp	r0, #-1
 983 0082 3DD0     		beq	.L67
 984              	.LVL111:
 985              	.L61:
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 986              		.loc 1 3153 10 view .LVU328
 987 0084 2068     		ldr	r0, [r4]
 988 0086 426B     		ldr	r2, [r0, #52]
3153:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 989              		.loc 1 3153 8 view .LVU329
 990 0088 40F22A43 		movw	r3, #1066
 991 008c 1A42     		tst	r2, r3
 992 008e 04D1     		bne	.L70
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 993              		.loc 1 3155 5 is_stmt 1 view .LVU330
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 994              		.loc 1 3155 8 is_stmt 0 view .LVU331
 995 0090 436B     		ldr	r3, [r0, #52]
3155:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 996              		.loc 1 3155 7 view .LVU332
 997 0092 13F4001F 		tst	r3, #2097152
 998 0096 EFD0     		beq	.L62
 999 0098 E8E7     		b	.L71
 1000              	.L70:
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1001              		.loc 1 3167 3 is_stmt 1 view .LVU333
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1002              		.loc 1 3167 6 is_stmt 0 view .LVU334
 1003 009a 436B     		ldr	r3, [r0, #52]
3167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1004              		.loc 1 3167 5 view .LVU335
 1005 009c 13F0080F 		tst	r3, #8
 1006 00a0 25D1     		bne	.L72
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1007              		.loc 1 3173 8 is_stmt 1 view .LVU336
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  D:\Temp\cccH9bx8.s 			page 81


 1008              		.loc 1 3173 11 is_stmt 0 view .LVU337
 1009 00a2 436B     		ldr	r3, [r0, #52]
3173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1010              		.loc 1 3173 10 view .LVU338
 1011 00a4 13F0020F 		tst	r3, #2
 1012 00a8 24D1     		bne	.L73
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1013              		.loc 1 3179 8 is_stmt 1 view .LVU339
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1014              		.loc 1 3179 11 is_stmt 0 view .LVU340
 1015 00aa 436B     		ldr	r3, [r0, #52]
3179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1016              		.loc 1 3179 10 view .LVU341
 1017 00ac 13F0200F 		tst	r3, #32
 1018 00b0 23D1     		bne	.L74
3189:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1019              		.loc 1 3189 5 is_stmt 1 view .LVU342
 1020 00b2 40F23A53 		movw	r3, #1338
 1021 00b6 8363     		str	r3, [r0, #56]
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1022              		.loc 1 3191 5 view .LVU343
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1023              		.loc 1 3191 22 is_stmt 0 view .LVU344
 1024 00b8 019A     		ldr	r2, [sp, #4]
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1025              		.loc 1 3191 86 view .LVU345
 1026 00ba 1302     		lsls	r3, r2, #8
 1027 00bc 03F47F03 		and	r3, r3, #16711680
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1028              		.loc 1 3191 52 view .LVU346
 1029 00c0 43EA0263 		orr	r3, r3, r2, lsl #24
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     scr++;
 1030              		.loc 1 3192 46 view .LVU347
 1031 00c4 110A     		lsrs	r1, r2, #8
 1032 00c6 01F47F41 		and	r1, r1, #65280
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1033              		.loc 1 3191 92 view .LVU348
 1034 00ca 0B43     		orrs	r3, r3, r1
3192:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     scr++;
 1035              		.loc 1 3192 52 view .LVU349
 1036 00cc 43EA1263 		orr	r3, r3, r2, lsr #24
3191:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[1] & SDMMC_16TO23BITS) >> 8) | ((tempscr[1] & SDMMC_24TO31BITS) >> 24));
 1037              		.loc 1 3191 10 view .LVU350
 1038 00d0 3B60     		str	r3, [r7]
3193:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     *scr = (((tempscr[0] & SDMMC_0TO7BITS) << 24)  | ((tempscr[0] & SDMMC_8TO15BITS) << 8) |\
 1039              		.loc 1 3193 5 is_stmt 1 view .LVU351
 1040              	.LVL112:
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1041              		.loc 1 3194 5 view .LVU352
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1042              		.loc 1 3194 22 is_stmt 0 view .LVU353
 1043 00d2 009A     		ldr	r2, [sp]
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1044              		.loc 1 3194 86 view .LVU354
 1045 00d4 1302     		lsls	r3, r2, #8
 1046 00d6 03F47F03 		and	r3, r3, #16711680
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
ARM GAS  D:\Temp\cccH9bx8.s 			page 82


 1047              		.loc 1 3194 52 view .LVU355
 1048 00da 43EA0263 		orr	r3, r3, r2, lsl #24
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1049              		.loc 1 3195 46 view .LVU356
 1050 00de 110A     		lsrs	r1, r2, #8
 1051 00e0 01F47F41 		and	r1, r1, #65280
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1052              		.loc 1 3194 92 view .LVU357
 1053 00e4 0B43     		orrs	r3, r3, r1
3195:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1054              		.loc 1 3195 52 view .LVU358
 1055 00e6 43EA1263 		orr	r3, r3, r2, lsr #24
3194:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****             ((tempscr[0] & SDMMC_16TO23BITS) >> 8) | ((tempscr[0] & SDMMC_24TO31BITS) >> 24));
 1056              		.loc 1 3194 10 view .LVU359
 1057 00ea 7B60     		str	r3, [r7, #4]
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1058              		.loc 1 3199 3 is_stmt 1 view .LVU360
3199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1059              		.loc 1 3199 10 is_stmt 0 view .LVU361
 1060 00ec 99E7     		b	.L59
 1061              	.LVL113:
 1062              	.L72:
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1063              		.loc 1 3169 5 is_stmt 1 view .LVU362
 1064 00ee 0825     		movs	r5, #8
 1065              	.LVL114:
3169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1066              		.loc 1 3169 5 is_stmt 0 view .LVU363
 1067 00f0 8563     		str	r5, [r0, #56]
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1068              		.loc 1 3171 5 is_stmt 1 view .LVU364
3171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1069              		.loc 1 3171 12 is_stmt 0 view .LVU365
 1070 00f2 96E7     		b	.L59
 1071              	.LVL115:
 1072              	.L73:
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1073              		.loc 1 3175 5 is_stmt 1 view .LVU366
 1074 00f4 0225     		movs	r5, #2
 1075              	.LVL116:
3175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1076              		.loc 1 3175 5 is_stmt 0 view .LVU367
 1077 00f6 8563     		str	r5, [r0, #56]
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1078              		.loc 1 3177 5 is_stmt 1 view .LVU368
3177:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1079              		.loc 1 3177 12 is_stmt 0 view .LVU369
 1080 00f8 93E7     		b	.L59
 1081              	.LVL117:
 1082              	.L74:
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1083              		.loc 1 3181 5 is_stmt 1 view .LVU370
 1084 00fa 2025     		movs	r5, #32
 1085              	.LVL118:
3181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1086              		.loc 1 3181 5 is_stmt 0 view .LVU371
 1087 00fc 8563     		str	r5, [r0, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 83


3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1088              		.loc 1 3183 5 is_stmt 1 view .LVU372
3183:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1089              		.loc 1 3183 12 is_stmt 0 view .LVU373
 1090 00fe 90E7     		b	.L59
 1091              	.LVL119:
 1092              	.L67:
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1093              		.loc 1 3163 14 view .LVU374
 1094 0100 4FF00045 		mov	r5, #-2147483648
 1095              	.LVL120:
3163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1096              		.loc 1 3163 14 view .LVU375
 1097 0104 8DE7     		b	.L59
 1098              		.cfi_endproc
 1099              	.LFE169:
 1101              		.section	.text.SD_WideBus_Enable,"ax",%progbits
 1102              		.align	1
 1103              		.syntax unified
 1104              		.thumb
 1105              		.thumb_func
 1106              		.fpu fpv4-sp-d16
 1108              	SD_WideBus_Enable:
 1109              	.LVL121:
 1110              	.LFB167:
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1111              		.loc 1 3020 1 is_stmt 1 view -0
 1112              		.cfi_startproc
 1113              		@ args = 0, pretend = 0, frame = 8
 1114              		@ frame_needed = 0, uses_anonymous_args = 0
3020:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1115              		.loc 1 3020 1 is_stmt 0 view .LVU377
 1116 0000 10B5     		push	{r4, lr}
 1117              	.LCFI18:
 1118              		.cfi_def_cfa_offset 8
 1119              		.cfi_offset 4, -8
 1120              		.cfi_offset 14, -4
 1121 0002 82B0     		sub	sp, sp, #8
 1122              	.LCFI19:
 1123              		.cfi_def_cfa_offset 16
 1124 0004 0446     		mov	r4, r0
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1125              		.loc 1 3021 3 is_stmt 1 view .LVU378
3021:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1126              		.loc 1 3021 12 is_stmt 0 view .LVU379
 1127 0006 0021     		movs	r1, #0
 1128 0008 0091     		str	r1, [sp]
 1129 000a 0191     		str	r1, [sp, #4]
3022:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1130              		.loc 1 3022 3 is_stmt 1 view .LVU380
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1131              		.loc 1 3024 3 view .LVU381
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1132              		.loc 1 3024 7 is_stmt 0 view .LVU382
 1133 000c 0068     		ldr	r0, [r0]
 1134              	.LVL122:
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  D:\Temp\cccH9bx8.s 			page 84


 1135              		.loc 1 3024 7 view .LVU383
 1136 000e FFF7FEFF 		bl	SDIO_GetResponse
 1137              	.LVL123:
3024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1138              		.loc 1 3024 5 view .LVU384
 1139 0012 10F0007F 		tst	r0, #33554432
 1140 0016 16D1     		bne	.L77
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1141              		.loc 1 3030 3 is_stmt 1 view .LVU385
3030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1142              		.loc 1 3030 16 is_stmt 0 view .LVU386
 1143 0018 6946     		mov	r1, sp
 1144 001a 2046     		mov	r0, r4
 1145 001c FFF7FEFF 		bl	SD_FindSCR
 1146              	.LVL124:
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1147              		.loc 1 3031 3 is_stmt 1 view .LVU387
3031:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1148              		.loc 1 3031 5 is_stmt 0 view .LVU388
 1149 0020 0346     		mov	r3, r0
 1150 0022 90B9     		cbnz	r0, .L75
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1151              		.loc 1 3037 3 is_stmt 1 view .LVU389
3037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1152              		.loc 1 3037 5 is_stmt 0 view .LVU390
 1153 0024 019B     		ldr	r3, [sp, #4]
 1154 0026 13F4802F 		tst	r3, #262144
 1155 002a 11D0     		beq	.L78
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1156              		.loc 1 3040 5 is_stmt 1 view .LVU391
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1157              		.loc 1 3040 75 is_stmt 0 view .LVU392
 1158 002c 216D     		ldr	r1, [r4, #80]
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1159              		.loc 1 3040 18 view .LVU393
 1160 002e 0904     		lsls	r1, r1, #16
 1161 0030 2068     		ldr	r0, [r4]
 1162              	.LVL125:
3040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1163              		.loc 1 3040 18 view .LVU394
 1164 0032 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1165              	.LVL126:
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1166              		.loc 1 3041 5 is_stmt 1 view .LVU395
3041:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1167              		.loc 1 3041 7 is_stmt 0 view .LVU396
 1168 0036 0346     		mov	r3, r0
 1169 0038 38B9     		cbnz	r0, .L75
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1170              		.loc 1 3047 5 is_stmt 1 view .LVU397
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1171              		.loc 1 3047 18 is_stmt 0 view .LVU398
 1172 003a 0221     		movs	r1, #2
 1173 003c 2068     		ldr	r0, [r4]
 1174              	.LVL127:
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1175              		.loc 1 3047 18 view .LVU399
ARM GAS  D:\Temp\cccH9bx8.s 			page 85


 1176 003e FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1177              	.LVL128:
3047:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1178              		.loc 1 3047 18 view .LVU400
 1179 0042 0346     		mov	r3, r0
 1180              	.LVL129:
3048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1181              		.loc 1 3048 5 is_stmt 1 view .LVU401
 1182 0044 01E0     		b	.L75
 1183              	.LVL130:
 1184              	.L77:
3026:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1185              		.loc 1 3026 12 is_stmt 0 view .LVU402
 1186 0046 4FF40063 		mov	r3, #2048
 1187              	.L75:
3059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1188              		.loc 1 3059 1 view .LVU403
 1189 004a 1846     		mov	r0, r3
 1190 004c 02B0     		add	sp, sp, #8
 1191              	.LCFI20:
 1192              		.cfi_remember_state
 1193              		.cfi_def_cfa_offset 8
 1194              		@ sp needed
 1195 004e 10BD     		pop	{r4, pc}
 1196              	.LVL131:
 1197              	.L78:
 1198              	.LCFI21:
 1199              		.cfi_restore_state
3057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1200              		.loc 1 3057 12 view .LVU404
 1201 0050 4FF08063 		mov	r3, #67108864
 1202 0054 F9E7     		b	.L75
 1203              		.cfi_endproc
 1204              	.LFE167:
 1206              		.section	.text.SD_WideBus_Disable,"ax",%progbits
 1207              		.align	1
 1208              		.syntax unified
 1209              		.thumb
 1210              		.thumb_func
 1211              		.fpu fpv4-sp-d16
 1213              	SD_WideBus_Disable:
 1214              	.LVL132:
 1215              	.LFB168:
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1216              		.loc 1 3067 1 is_stmt 1 view -0
 1217              		.cfi_startproc
 1218              		@ args = 0, pretend = 0, frame = 8
 1219              		@ frame_needed = 0, uses_anonymous_args = 0
3067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t scr[2U] = {0U, 0U};
 1220              		.loc 1 3067 1 is_stmt 0 view .LVU406
 1221 0000 10B5     		push	{r4, lr}
 1222              	.LCFI22:
 1223              		.cfi_def_cfa_offset 8
 1224              		.cfi_offset 4, -8
 1225              		.cfi_offset 14, -4
 1226 0002 82B0     		sub	sp, sp, #8
 1227              	.LCFI23:
ARM GAS  D:\Temp\cccH9bx8.s 			page 86


 1228              		.cfi_def_cfa_offset 16
 1229 0004 0446     		mov	r4, r0
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1230              		.loc 1 3068 3 is_stmt 1 view .LVU407
3068:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1231              		.loc 1 3068 12 is_stmt 0 view .LVU408
 1232 0006 0021     		movs	r1, #0
 1233 0008 0091     		str	r1, [sp]
 1234 000a 0191     		str	r1, [sp, #4]
3069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1235              		.loc 1 3069 3 is_stmt 1 view .LVU409
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1236              		.loc 1 3071 3 view .LVU410
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1237              		.loc 1 3071 7 is_stmt 0 view .LVU411
 1238 000c 0068     		ldr	r0, [r0]
 1239              	.LVL133:
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1240              		.loc 1 3071 7 view .LVU412
 1241 000e FFF7FEFF 		bl	SDIO_GetResponse
 1242              	.LVL134:
3071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1243              		.loc 1 3071 5 view .LVU413
 1244 0012 10F0007F 		tst	r0, #33554432
 1245 0016 16D1     		bne	.L82
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1246              		.loc 1 3077 3 is_stmt 1 view .LVU414
3077:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1247              		.loc 1 3077 16 is_stmt 0 view .LVU415
 1248 0018 6946     		mov	r1, sp
 1249 001a 2046     		mov	r0, r4
 1250 001c FFF7FEFF 		bl	SD_FindSCR
 1251              	.LVL135:
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1252              		.loc 1 3078 3 is_stmt 1 view .LVU416
3078:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1253              		.loc 1 3078 5 is_stmt 0 view .LVU417
 1254 0020 0346     		mov	r3, r0
 1255 0022 90B9     		cbnz	r0, .L80
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1256              		.loc 1 3084 3 is_stmt 1 view .LVU418
3084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1257              		.loc 1 3084 5 is_stmt 0 view .LVU419
 1258 0024 019B     		ldr	r3, [sp, #4]
 1259 0026 13F4803F 		tst	r3, #65536
 1260 002a 11D0     		beq	.L83
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1261              		.loc 1 3087 5 is_stmt 1 view .LVU420
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1262              		.loc 1 3087 75 is_stmt 0 view .LVU421
 1263 002c 216D     		ldr	r1, [r4, #80]
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1264              		.loc 1 3087 18 view .LVU422
 1265 002e 0904     		lsls	r1, r1, #16
 1266 0030 2068     		ldr	r0, [r4]
 1267              	.LVL136:
3087:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  D:\Temp\cccH9bx8.s 			page 87


 1268              		.loc 1 3087 18 view .LVU423
 1269 0032 FFF7FEFF 		bl	SDMMC_CmdAppCommand
 1270              	.LVL137:
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1271              		.loc 1 3088 5 is_stmt 1 view .LVU424
3088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1272              		.loc 1 3088 7 is_stmt 0 view .LVU425
 1273 0036 0346     		mov	r3, r0
 1274 0038 38B9     		cbnz	r0, .L80
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1275              		.loc 1 3094 5 is_stmt 1 view .LVU426
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1276              		.loc 1 3094 18 is_stmt 0 view .LVU427
 1277 003a 0021     		movs	r1, #0
 1278 003c 2068     		ldr	r0, [r4]
 1279              	.LVL138:
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1280              		.loc 1 3094 18 view .LVU428
 1281 003e FFF7FEFF 		bl	SDMMC_CmdBusWidth
 1282              	.LVL139:
3094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1283              		.loc 1 3094 18 view .LVU429
 1284 0042 0346     		mov	r3, r0
 1285              	.LVL140:
3095:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1286              		.loc 1 3095 5 is_stmt 1 view .LVU430
 1287 0044 01E0     		b	.L80
 1288              	.LVL141:
 1289              	.L82:
3073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1290              		.loc 1 3073 12 is_stmt 0 view .LVU431
 1291 0046 4FF40063 		mov	r3, #2048
 1292              	.L80:
3106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1293              		.loc 1 3106 1 view .LVU432
 1294 004a 1846     		mov	r0, r3
 1295 004c 02B0     		add	sp, sp, #8
 1296              	.LCFI24:
 1297              		.cfi_remember_state
 1298              		.cfi_def_cfa_offset 8
 1299              		@ sp needed
 1300 004e 10BD     		pop	{r4, pc}
 1301              	.LVL142:
 1302              	.L83:
 1303              	.LCFI25:
 1304              		.cfi_restore_state
3104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1305              		.loc 1 3104 12 view .LVU433
 1306 0050 4FF08063 		mov	r3, #67108864
 1307 0054 F9E7     		b	.L80
 1308              		.cfi_endproc
 1309              	.LFE168:
 1311              		.section	.text.SD_SendStatus,"ax",%progbits
 1312              		.align	1
 1313              		.syntax unified
 1314              		.thumb
 1315              		.thumb_func
ARM GAS  D:\Temp\cccH9bx8.s 			page 88


 1316              		.fpu fpv4-sp-d16
 1318              	SD_SendStatus:
 1319              	.LVL143:
 1320              	.LFB166:
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1321              		.loc 1 2993 1 is_stmt 1 view -0
 1322              		.cfi_startproc
 1323              		@ args = 0, pretend = 0, frame = 0
 1324              		@ frame_needed = 0, uses_anonymous_args = 0
2993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1325              		.loc 1 2993 1 is_stmt 0 view .LVU435
 1326 0000 70B5     		push	{r4, r5, r6, lr}
 1327              	.LCFI26:
 1328              		.cfi_def_cfa_offset 16
 1329              		.cfi_offset 4, -16
 1330              		.cfi_offset 5, -12
 1331              		.cfi_offset 6, -8
 1332              		.cfi_offset 14, -4
2994:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1333              		.loc 1 2994 3 is_stmt 1 view .LVU436
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1334              		.loc 1 2996 3 view .LVU437
2996:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1335              		.loc 1 2996 5 is_stmt 0 view .LVU438
 1336 0002 81B1     		cbz	r1, .L87
 1337 0004 0D46     		mov	r5, r1
 1338 0006 0446     		mov	r4, r0
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1339              		.loc 1 3002 3 is_stmt 1 view .LVU439
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1340              		.loc 1 3002 73 is_stmt 0 view .LVU440
 1341 0008 016D     		ldr	r1, [r0, #80]
 1342              	.LVL144:
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1343              		.loc 1 3002 16 view .LVU441
 1344 000a 0904     		lsls	r1, r1, #16
 1345 000c 0068     		ldr	r0, [r0]
 1346              	.LVL145:
3002:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 1347              		.loc 1 3002 16 view .LVU442
 1348 000e FFF7FEFF 		bl	SDMMC_CmdSendStatus
 1349              	.LVL146:
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1350              		.loc 1 3003 3 is_stmt 1 view .LVU443
3003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1351              		.loc 1 3003 5 is_stmt 0 view .LVU444
 1352 0012 0646     		mov	r6, r0
 1353 0014 08B1     		cbz	r0, .L89
 1354              	.LVL147:
 1355              	.L85:
3012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1356              		.loc 1 3012 1 view .LVU445
 1357 0016 3046     		mov	r0, r6
 1358 0018 70BD     		pop	{r4, r5, r6, pc}
 1359              	.LVL148:
 1360              	.L89:
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 89


 1361              		.loc 1 3009 3 is_stmt 1 view .LVU446
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1362              		.loc 1 3009 18 is_stmt 0 view .LVU447
 1363 001a 0021     		movs	r1, #0
 1364 001c 2068     		ldr	r0, [r4]
 1365              	.LVL149:
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1366              		.loc 1 3009 18 view .LVU448
 1367 001e FFF7FEFF 		bl	SDIO_GetResponse
 1368              	.LVL150:
3009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1369              		.loc 1 3009 16 view .LVU449
 1370 0022 2860     		str	r0, [r5]
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1371              		.loc 1 3011 3 is_stmt 1 view .LVU450
3011:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1372              		.loc 1 3011 10 is_stmt 0 view .LVU451
 1373 0024 F7E7     		b	.L85
 1374              	.LVL151:
 1375              	.L87:
2998:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1376              		.loc 1 2998 12 view .LVU452
 1377 0026 4FF00066 		mov	r6, #134217728
 1378 002a F4E7     		b	.L85
 1379              		.cfi_endproc
 1380              	.LFE166:
 1382              		.section	.text.HAL_SD_MspInit,"ax",%progbits
 1383              		.align	1
 1384              		.weak	HAL_SD_MspInit
 1385              		.syntax unified
 1386              		.thumb
 1387              		.thumb_func
 1388              		.fpu fpv4-sp-d16
 1390              	HAL_SD_MspInit:
 1391              	.LVL152:
 1392              	.LFB133:
 501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1393              		.loc 1 501 1 is_stmt 1 view -0
 1394              		.cfi_startproc
 1395              		@ args = 0, pretend = 0, frame = 0
 1396              		@ frame_needed = 0, uses_anonymous_args = 0
 1397              		@ link register save eliminated.
 503:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1398              		.loc 1 503 3 view .LVU454
 508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1399              		.loc 1 508 1 is_stmt 0 view .LVU455
 1400 0000 7047     		bx	lr
 1401              		.cfi_endproc
 1402              	.LFE133:
 1404              		.section	.text.HAL_SD_MspDeInit,"ax",%progbits
 1405              		.align	1
 1406              		.weak	HAL_SD_MspDeInit
 1407              		.syntax unified
 1408              		.thumb
 1409              		.thumb_func
 1410              		.fpu fpv4-sp-d16
 1412              	HAL_SD_MspDeInit:
ARM GAS  D:\Temp\cccH9bx8.s 			page 90


 1413              	.LVL153:
 1414              	.LFB134:
 516:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 1415              		.loc 1 516 1 is_stmt 1 view -0
 1416              		.cfi_startproc
 1417              		@ args = 0, pretend = 0, frame = 0
 1418              		@ frame_needed = 0, uses_anonymous_args = 0
 1419              		@ link register save eliminated.
 518:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1420              		.loc 1 518 3 view .LVU457
 523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1421              		.loc 1 523 1 is_stmt 0 view .LVU458
 1422 0000 7047     		bx	lr
 1423              		.cfi_endproc
 1424              	.LFE134:
 1426              		.section	.text.HAL_SD_DeInit,"ax",%progbits
 1427              		.align	1
 1428              		.global	HAL_SD_DeInit
 1429              		.syntax unified
 1430              		.thumb
 1431              		.thumb_func
 1432              		.fpu fpv4-sp-d16
 1434              	HAL_SD_DeInit:
 1435              	.LVL154:
 1436              	.LFB132:
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 1437              		.loc 1 460 1 is_stmt 1 view -0
 1438              		.cfi_startproc
 1439              		@ args = 0, pretend = 0, frame = 0
 1440              		@ frame_needed = 0, uses_anonymous_args = 0
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1441              		.loc 1 462 3 view .LVU460
 462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1442              		.loc 1 462 5 is_stmt 0 view .LVU461
 1443 0000 70B1     		cbz	r0, .L94
 460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 1444              		.loc 1 460 1 view .LVU462
 1445 0002 10B5     		push	{r4, lr}
 1446              	.LCFI27:
 1447              		.cfi_def_cfa_offset 8
 1448              		.cfi_offset 4, -8
 1449              		.cfi_offset 14, -4
 1450 0004 0446     		mov	r4, r0
 468:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1451              		.loc 1 468 3 is_stmt 1 view .LVU463
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1452              		.loc 1 470 3 view .LVU464
 470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1453              		.loc 1 470 14 is_stmt 0 view .LVU465
 1454 0006 0323     		movs	r3, #3
 1455 0008 80F83430 		strb	r3, [r0, #52]
 473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1456              		.loc 1 473 3 is_stmt 1 view .LVU466
 1457 000c FFF7FEFF 		bl	SD_PowerOFF
 1458              	.LVL155:
 485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 1459              		.loc 1 485 3 view .LVU467
ARM GAS  D:\Temp\cccH9bx8.s 			page 91


 1460 0010 2046     		mov	r0, r4
 1461 0012 FFF7FEFF 		bl	HAL_SD_MspDeInit
 1462              	.LVL156:
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1463              		.loc 1 488 3 view .LVU468
 488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_RESET;
 1464              		.loc 1 488 18 is_stmt 0 view .LVU469
 1465 0016 0020     		movs	r0, #0
 1466 0018 A063     		str	r0, [r4, #56]
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1467              		.loc 1 489 3 is_stmt 1 view .LVU470
 489:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1468              		.loc 1 489 14 is_stmt 0 view .LVU471
 1469 001a 84F83400 		strb	r0, [r4, #52]
 491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 1470              		.loc 1 491 3 is_stmt 1 view .LVU472
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1471              		.loc 1 492 1 is_stmt 0 view .LVU473
 1472 001e 10BD     		pop	{r4, pc}
 1473              	.LVL157:
 1474              	.L94:
 1475              	.LCFI28:
 1476              		.cfi_def_cfa_offset 0
 1477              		.cfi_restore 4
 1478              		.cfi_restore 14
 464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1479              		.loc 1 464 12 view .LVU474
 1480 0020 0120     		movs	r0, #1
 1481              	.LVL158:
 492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1482              		.loc 1 492 1 view .LVU475
 1483 0022 7047     		bx	lr
 1484              		.cfi_endproc
 1485              	.LFE132:
 1487              		.section	.text.HAL_SD_ReadBlocks,"ax",%progbits
 1488              		.align	1
 1489              		.global	HAL_SD_ReadBlocks
 1490              		.syntax unified
 1491              		.thumb
 1492              		.thumb_func
 1493              		.fpu fpv4-sp-d16
 1495              	HAL_SD_ReadBlocks:
 1496              	.LVL159:
 1497              	.LFB135:
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 1498              		.loc 1 557 1 is_stmt 1 view -0
 1499              		.cfi_startproc
 1500              		@ args = 4, pretend = 0, frame = 24
 1501              		@ frame_needed = 0, uses_anonymous_args = 0
 557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 1502              		.loc 1 557 1 is_stmt 0 view .LVU477
 1503 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 1504              	.LCFI29:
 1505              		.cfi_def_cfa_offset 36
 1506              		.cfi_offset 4, -36
 1507              		.cfi_offset 5, -32
 1508              		.cfi_offset 6, -28
ARM GAS  D:\Temp\cccH9bx8.s 			page 92


 1509              		.cfi_offset 7, -24
 1510              		.cfi_offset 8, -20
 1511              		.cfi_offset 9, -16
 1512              		.cfi_offset 10, -12
 1513              		.cfi_offset 11, -8
 1514              		.cfi_offset 14, -4
 1515 0004 87B0     		sub	sp, sp, #28
 1516              	.LCFI30:
 1517              		.cfi_def_cfa_offset 64
 1518 0006 0446     		mov	r4, r0
 1519 0008 0D46     		mov	r5, r1
 1520 000a 1646     		mov	r6, r2
 1521 000c 9A46     		mov	r10, r3
 1522 000e 109F     		ldr	r7, [sp, #64]
 558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 1523              		.loc 1 558 3 is_stmt 1 view .LVU478
 559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 1524              		.loc 1 559 3 view .LVU479
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1525              		.loc 1 560 3 view .LVU480
 560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 1526              		.loc 1 560 24 is_stmt 0 view .LVU481
 1527 0010 FFF7FEFF 		bl	HAL_GetTick
 1528              	.LVL160:
 561:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 1529              		.loc 1 561 3 is_stmt 1 view .LVU482
 562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 1530              		.loc 1 562 3 view .LVU483
 563:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1531              		.loc 1 563 3 view .LVU484
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1532              		.loc 1 565 3 view .LVU485
 565:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1533              		.loc 1 565 5 is_stmt 0 view .LVU486
 1534 0014 45B3     		cbz	r5, .L124
 1535 0016 8146     		mov	r9, r0
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1536              		.loc 1 571 3 is_stmt 1 view .LVU487
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1537              		.loc 1 571 9 is_stmt 0 view .LVU488
 1538 0018 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 1539 001c DBB2     		uxtb	r3, r3
 571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 1540              		.loc 1 571 5 view .LVU489
 1541 001e 012B     		cmp	r3, #1
 1542 0020 40F01A81 		bne	.L102
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1543              		.loc 1 573 5 is_stmt 1 view .LVU490
 573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1544              		.loc 1 573 20 is_stmt 0 view .LVU491
 1545 0024 0023     		movs	r3, #0
 1546 0026 A363     		str	r3, [r4, #56]
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1547              		.loc 1 575 5 is_stmt 1 view .LVU492
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1548              		.loc 1 575 13 is_stmt 0 view .LVU493
 1549 0028 06EB0A03 		add	r3, r6, r10
ARM GAS  D:\Temp\cccH9bx8.s 			page 93


 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1550              		.loc 1 575 45 view .LVU494
 1551 002c E26D     		ldr	r2, [r4, #92]
 575:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1552              		.loc 1 575 7 view .LVU495
 1553 002e 9342     		cmp	r3, r2
 1554 0030 20D8     		bhi	.L125
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1555              		.loc 1 581 5 is_stmt 1 view .LVU496
 581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1556              		.loc 1 581 16 is_stmt 0 view .LVU497
 1557 0032 0323     		movs	r3, #3
 1558 0034 84F83430 		strb	r3, [r4, #52]
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1559              		.loc 1 584 5 is_stmt 1 view .LVU498
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1560              		.loc 1 584 8 is_stmt 0 view .LVU499
 1561 0038 2368     		ldr	r3, [r4]
 584:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1562              		.loc 1 584 26 view .LVU500
 1563 003a 0022     		movs	r2, #0
 1564 003c DA62     		str	r2, [r3, #44]
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1565              		.loc 1 586 5 is_stmt 1 view .LVU501
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1566              		.loc 1 586 19 is_stmt 0 view .LVU502
 1567 003e 636C     		ldr	r3, [r4, #68]
 586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1568              		.loc 1 586 7 view .LVU503
 1569 0040 012B     		cmp	r3, #1
 1570 0042 00D0     		beq	.L104
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1571              		.loc 1 588 7 is_stmt 1 view .LVU504
 588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1572              		.loc 1 588 11 is_stmt 0 view .LVU505
 1573 0044 7602     		lsls	r6, r6, #9
 1574              	.LVL161:
 1575              	.L104:
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1576              		.loc 1 592 5 is_stmt 1 view .LVU506
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1577              		.loc 1 592 18 is_stmt 0 view .LVU507
 1578 0046 4FF40071 		mov	r1, #512
 1579 004a 2068     		ldr	r0, [r4]
 1580              	.LVL162:
 592:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 1581              		.loc 1 592 18 view .LVU508
 1582 004c FFF7FEFF 		bl	SDMMC_CmdBlockLength
 1583              	.LVL163:
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1584              		.loc 1 593 5 is_stmt 1 view .LVU509
 593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1585              		.loc 1 593 7 is_stmt 0 view .LVU510
 1586 0050 0346     		mov	r3, r0
 1587 0052 A8B1     		cbz	r0, .L105
 596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1588              		.loc 1 596 7 is_stmt 1 view .LVU511
ARM GAS  D:\Temp\cccH9bx8.s 			page 94


 1589 0054 2268     		ldr	r2, [r4]
 1590 0056 8449     		ldr	r1, .L132
 1591 0058 9163     		str	r1, [r2, #56]
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1592              		.loc 1 597 7 view .LVU512
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1593              		.loc 1 597 22 is_stmt 0 view .LVU513
 1594 005a A06B     		ldr	r0, [r4, #56]
 1595              	.LVL164:
 597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1596              		.loc 1 597 22 view .LVU514
 1597 005c 1843     		orrs	r0, r0, r3
 1598 005e A063     		str	r0, [r4, #56]
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1599              		.loc 1 598 7 is_stmt 1 view .LVU515
 598:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1600              		.loc 1 598 18 is_stmt 0 view .LVU516
 1601 0060 0120     		movs	r0, #1
 1602 0062 84F83400 		strb	r0, [r4, #52]
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1603              		.loc 1 599 7 is_stmt 1 view .LVU517
 599:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1604              		.loc 1 599 14 is_stmt 0 view .LVU518
 1605 0066 FCE0     		b	.L101
 1606              	.LVL165:
 1607              	.L124:
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 1608              		.loc 1 567 5 is_stmt 1 view .LVU519
 567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 1609              		.loc 1 567 20 is_stmt 0 view .LVU520
 1610 0068 A36B     		ldr	r3, [r4, #56]
 1611 006a 43F00063 		orr	r3, r3, #134217728
 1612 006e A363     		str	r3, [r4, #56]
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1613              		.loc 1 568 5 is_stmt 1 view .LVU521
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1614              		.loc 1 568 12 is_stmt 0 view .LVU522
 1615 0070 0120     		movs	r0, #1
 1616              	.LVL166:
 568:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 1617              		.loc 1 568 12 view .LVU523
 1618 0072 F6E0     		b	.L101
 1619              	.LVL167:
 1620              	.L125:
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1621              		.loc 1 577 7 is_stmt 1 view .LVU524
 577:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1622              		.loc 1 577 22 is_stmt 0 view .LVU525
 1623 0074 A36B     		ldr	r3, [r4, #56]
 1624 0076 43F00073 		orr	r3, r3, #33554432
 1625 007a A363     		str	r3, [r4, #56]
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1626              		.loc 1 578 7 is_stmt 1 view .LVU526
 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1627              		.loc 1 578 14 is_stmt 0 view .LVU527
 1628 007c 0120     		movs	r0, #1
 1629              	.LVL168:
ARM GAS  D:\Temp\cccH9bx8.s 			page 95


 578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1630              		.loc 1 578 14 view .LVU528
 1631 007e F0E0     		b	.L101
 1632              	.LVL169:
 1633              	.L105:
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1634              		.loc 1 603 5 is_stmt 1 view .LVU529
 603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 1635              		.loc 1 603 26 is_stmt 0 view .LVU530
 1636 0080 4FF0FF33 		mov	r3, #-1
 1637 0084 0093     		str	r3, [sp]
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1638              		.loc 1 604 5 is_stmt 1 view .LVU531
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1639              		.loc 1 604 43 is_stmt 0 view .LVU532
 1640 0086 4FEA4A23 		lsl	r3, r10, #9
 604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 1641              		.loc 1 604 26 view .LVU533
 1642 008a 0193     		str	r3, [sp, #4]
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1643              		.loc 1 605 5 is_stmt 1 view .LVU534
 605:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 1644              		.loc 1 605 26 is_stmt 0 view .LVU535
 1645 008c 9023     		movs	r3, #144
 1646 008e 0293     		str	r3, [sp, #8]
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1647              		.loc 1 606 5 is_stmt 1 view .LVU536
 606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 1648              		.loc 1 606 26 is_stmt 0 view .LVU537
 1649 0090 0223     		movs	r3, #2
 1650 0092 0393     		str	r3, [sp, #12]
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 1651              		.loc 1 607 5 is_stmt 1 view .LVU538
 607:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 1652              		.loc 1 607 26 is_stmt 0 view .LVU539
 1653 0094 0023     		movs	r3, #0
 1654 0096 0493     		str	r3, [sp, #16]
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 1655              		.loc 1 608 5 is_stmt 1 view .LVU540
 608:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 1656              		.loc 1 608 26 is_stmt 0 view .LVU541
 1657 0098 0123     		movs	r3, #1
 1658 009a 0593     		str	r3, [sp, #20]
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1659              		.loc 1 609 5 is_stmt 1 view .LVU542
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1660              		.loc 1 609 11 is_stmt 0 view .LVU543
 1661 009c 6946     		mov	r1, sp
 1662 009e 2068     		ldr	r0, [r4]
 1663              	.LVL170:
 609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1664              		.loc 1 609 11 view .LVU544
 1665 00a0 FFF7FEFF 		bl	SDIO_ConfigData
 1666              	.LVL171:
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1667              		.loc 1 612 5 is_stmt 1 view .LVU545
 612:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  D:\Temp\cccH9bx8.s 			page 96


 1668              		.loc 1 612 7 is_stmt 0 view .LVU546
 1669 00a4 BAF1010F 		cmp	r10, #1
 1670 00a8 0CD9     		bls	.L106
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1671              		.loc 1 614 7 is_stmt 1 view .LVU547
 614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1672              		.loc 1 614 20 is_stmt 0 view .LVU548
 1673 00aa 0223     		movs	r3, #2
 1674 00ac 2363     		str	r3, [r4, #48]
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1675              		.loc 1 617 7 is_stmt 1 view .LVU549
 617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1676              		.loc 1 617 20 is_stmt 0 view .LVU550
 1677 00ae 3146     		mov	r1, r6
 1678 00b0 2068     		ldr	r0, [r4]
 1679 00b2 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 1680              	.LVL172:
 1681 00b6 8346     		mov	fp, r0
 1682              	.LVL173:
 1683              	.L107:
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1684              		.loc 1 626 5 is_stmt 1 view .LVU551
 626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1685              		.loc 1 626 7 is_stmt 0 view .LVU552
 1686 00b8 BBF1000F 		cmp	fp, #0
 1687 00bc 0AD1     		bne	.L126
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 1688              		.loc 1 637 5 is_stmt 1 view .LVU553
 637:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 1689              		.loc 1 637 19 is_stmt 0 view .LVU554
 1690 00be DDF80480 		ldr	r8, [sp, #4]
 1691              	.LVL174:
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1692              		.loc 1 639 5 is_stmt 1 view .LVU555
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1693              		.loc 1 639 10 is_stmt 0 view .LVU556
 1694 00c2 2DE0     		b	.L109
 1695              	.LVL175:
 1696              	.L106:
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1697              		.loc 1 621 7 is_stmt 1 view .LVU557
 621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1698              		.loc 1 621 20 is_stmt 0 view .LVU558
 1699 00c4 0123     		movs	r3, #1
 1700 00c6 2363     		str	r3, [r4, #48]
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1701              		.loc 1 624 7 is_stmt 1 view .LVU559
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1702              		.loc 1 624 20 is_stmt 0 view .LVU560
 1703 00c8 3146     		mov	r1, r6
 1704 00ca 2068     		ldr	r0, [r4]
 1705 00cc FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 1706              	.LVL176:
 1707 00d0 8346     		mov	fp, r0
 1708              	.LVL177:
 624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1709              		.loc 1 624 20 view .LVU561
ARM GAS  D:\Temp\cccH9bx8.s 			page 97


 1710 00d2 F1E7     		b	.L107
 1711              	.L126:
 629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 1712              		.loc 1 629 7 is_stmt 1 view .LVU562
 1713 00d4 2368     		ldr	r3, [r4]
 1714 00d6 644A     		ldr	r2, .L132
 1715 00d8 9A63     		str	r2, [r3, #56]
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1716              		.loc 1 630 7 view .LVU563
 630:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1717              		.loc 1 630 22 is_stmt 0 view .LVU564
 1718 00da A36B     		ldr	r3, [r4, #56]
 1719 00dc 43EA0B03 		orr	r3, r3, fp
 1720 00e0 A363     		str	r3, [r4, #56]
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1721              		.loc 1 631 7 is_stmt 1 view .LVU565
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1722              		.loc 1 631 18 is_stmt 0 view .LVU566
 1723 00e2 0120     		movs	r0, #1
 1724              	.LVL178:
 631:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 1725              		.loc 1 631 18 view .LVU567
 1726 00e4 84F83400 		strb	r0, [r4, #52]
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1727              		.loc 1 632 7 is_stmt 1 view .LVU568
 632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 1728              		.loc 1 632 20 is_stmt 0 view .LVU569
 1729 00e8 0023     		movs	r3, #0
 1730 00ea 2363     		str	r3, [r4, #48]
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1731              		.loc 1 633 7 is_stmt 1 view .LVU570
 633:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 1732              		.loc 1 633 14 is_stmt 0 view .LVU571
 1733 00ec B9E0     		b	.L101
 1734              	.LVL179:
 1735              	.L112:
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1736              		.loc 1 649 11 is_stmt 1 discriminator 3 view .LVU572
 649:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)(data & 0xFFU);
 1737              		.loc 1 649 18 is_stmt 0 discriminator 3 view .LVU573
 1738 00ee 2068     		ldr	r0, [r4]
 1739 00f0 FFF7FEFF 		bl	SDIO_ReadFIFO
 1740              	.LVL180:
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1741              		.loc 1 650 11 is_stmt 1 discriminator 3 view .LVU574
 650:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1742              		.loc 1 650 21 is_stmt 0 discriminator 3 view .LVU575
 1743 00f4 2870     		strb	r0, [r5]
 651:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 1744              		.loc 1 651 11 is_stmt 1 discriminator 3 view .LVU576
 1745              	.LVL181:
 652:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1746              		.loc 1 652 11 discriminator 3 view .LVU577
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1747              		.loc 1 653 11 discriminator 3 view .LVU578
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1748              		.loc 1 653 23 is_stmt 0 discriminator 3 view .LVU579
ARM GAS  D:\Temp\cccH9bx8.s 			page 98


 1749 00f6 C0F30723 		ubfx	r3, r0, #8, #8
 653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1750              		.loc 1 653 21 discriminator 3 view .LVU580
 1751 00fa 6B70     		strb	r3, [r5, #1]
 654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 1752              		.loc 1 654 11 is_stmt 1 discriminator 3 view .LVU581
 1753              	.LVL182:
 655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1754              		.loc 1 655 11 discriminator 3 view .LVU582
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1755              		.loc 1 656 11 discriminator 3 view .LVU583
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1756              		.loc 1 656 23 is_stmt 0 discriminator 3 view .LVU584
 1757 00fc C0F30743 		ubfx	r3, r0, #16, #8
 656:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1758              		.loc 1 656 21 discriminator 3 view .LVU585
 1759 0100 AB70     		strb	r3, [r5, #2]
 657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 1760              		.loc 1 657 11 is_stmt 1 discriminator 3 view .LVU586
 1761              	.LVL183:
 658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1762              		.loc 1 658 11 discriminator 3 view .LVU587
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1763              		.loc 1 659 11 discriminator 3 view .LVU588
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1764              		.loc 1 659 23 is_stmt 0 discriminator 3 view .LVU589
 1765 0102 000E     		lsrs	r0, r0, #24
 1766              	.LVL184:
 659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 1767              		.loc 1 659 21 discriminator 3 view .LVU590
 1768 0104 E870     		strb	r0, [r5, #3]
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 1769              		.loc 1 660 11 is_stmt 1 discriminator 3 view .LVU591
 660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 1770              		.loc 1 660 19 is_stmt 0 discriminator 3 view .LVU592
 1771 0106 0435     		adds	r5, r5, #4
 1772              	.LVL185:
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1773              		.loc 1 661 11 is_stmt 1 discriminator 3 view .LVU593
 661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1774              		.loc 1 661 24 is_stmt 0 discriminator 3 view .LVU594
 1775 0108 A8F10408 		sub	r8, r8, #4
 1776              	.LVL186:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1777              		.loc 1 647 42 discriminator 3 view .LVU595
 1778 010c 0136     		adds	r6, r6, #1
 1779              	.LVL187:
 1780              	.L111:
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1781              		.loc 1 647 9 discriminator 1 view .LVU596
 1782 010e 072E     		cmp	r6, #7
 1783 0110 EDD9     		bls	.L112
 1784              	.LVL188:
 1785              	.L110:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1786              		.loc 1 665 7 is_stmt 1 view .LVU597
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
ARM GAS  D:\Temp\cccH9bx8.s 			page 99


 1787              		.loc 1 665 12 is_stmt 0 view .LVU598
 1788 0112 FFF7FEFF 		bl	HAL_GetTick
 1789              	.LVL189:
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1790              		.loc 1 665 25 view .LVU599
 1791 0116 A0EB0900 		sub	r0, r0, r9
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1792              		.loc 1 665 9 view .LVU600
 1793 011a B842     		cmp	r0, r7
 1794 011c 0FD2     		bcs	.L113
 665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1795              		.loc 1 665 50 discriminator 1 view .LVU601
 1796 011e 77B1     		cbz	r7, .L113
 1797              	.L109:
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1798              		.loc 1 639 12 view .LVU602
 1799 0120 2068     		ldr	r0, [r4]
 1800 0122 426B     		ldr	r2, [r0, #52]
 639:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 1801              		.loc 1 639 10 view .LVU603
 1802 0124 40F22A33 		movw	r3, #810
 1803 0128 1A42     		tst	r2, r3
 1804 012a 16D1     		bne	.L127
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1805              		.loc 1 644 7 is_stmt 1 view .LVU604
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1806              		.loc 1 644 10 is_stmt 0 view .LVU605
 1807 012c 436B     		ldr	r3, [r0, #52]
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1808              		.loc 1 644 9 view .LVU606
 1809 012e 13F4004F 		tst	r3, #32768
 1810 0132 EED0     		beq	.L110
 644:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1811              		.loc 1 644 53 discriminator 1 view .LVU607
 1812 0134 B8F1000F 		cmp	r8, #0
 1813 0138 EBD0     		beq	.L110
 647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1814              		.loc 1 647 19 view .LVU608
 1815 013a 5E46     		mov	r6, fp
 1816 013c E7E7     		b	.L111
 1817              	.L113:
 668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1818              		.loc 1 668 9 is_stmt 1 view .LVU609
 1819 013e 2368     		ldr	r3, [r4]
 1820 0140 494A     		ldr	r2, .L132
 1821 0142 9A63     		str	r2, [r3, #56]
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1822              		.loc 1 669 9 view .LVU610
 669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1823              		.loc 1 669 24 is_stmt 0 view .LVU611
 1824 0144 A36B     		ldr	r3, [r4, #56]
 1825 0146 43F00043 		orr	r3, r3, #-2147483648
 1826 014a A363     		str	r3, [r4, #56]
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1827              		.loc 1 670 9 is_stmt 1 view .LVU612
 670:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1828              		.loc 1 670 19 is_stmt 0 view .LVU613
ARM GAS  D:\Temp\cccH9bx8.s 			page 100


 1829 014c 0123     		movs	r3, #1
 1830 014e 84F83430 		strb	r3, [r4, #52]
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
 1831              		.loc 1 671 9 is_stmt 1 view .LVU614
 671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
 1832              		.loc 1 671 22 is_stmt 0 view .LVU615
 1833 0152 0023     		movs	r3, #0
 1834 0154 2363     		str	r3, [r4, #48]
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1835              		.loc 1 672 9 is_stmt 1 view .LVU616
 672:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1836              		.loc 1 672 16 is_stmt 0 view .LVU617
 1837 0156 0320     		movs	r0, #3
 1838 0158 83E0     		b	.L101
 1839              	.L127:
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1840              		.loc 1 677 5 is_stmt 1 view .LVU618
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1841              		.loc 1 677 8 is_stmt 0 view .LVU619
 1842 015a 436B     		ldr	r3, [r0, #52]
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1843              		.loc 1 677 7 view .LVU620
 1844 015c 13F4807F 		tst	r3, #256
 1845 0160 05D0     		beq	.L115
 677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1846              		.loc 1 677 50 discriminator 1 view .LVU621
 1847 0162 BAF1010F 		cmp	r10, #1
 1848 0166 02D9     		bls	.L115
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1849              		.loc 1 679 7 is_stmt 1 view .LVU622
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1850              		.loc 1 679 21 is_stmt 0 view .LVU623
 1851 0168 636C     		ldr	r3, [r4, #68]
 679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1852              		.loc 1 679 9 view .LVU624
 1853 016a 032B     		cmp	r3, #3
 1854 016c 37D1     		bne	.L128
 1855              	.LVL190:
 1856              	.L115:
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1857              		.loc 1 696 5 is_stmt 1 view .LVU625
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1858              		.loc 1 696 8 is_stmt 0 view .LVU626
 1859 016e 2368     		ldr	r3, [r4]
 1860 0170 5A6B     		ldr	r2, [r3, #52]
 696:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1861              		.loc 1 696 7 view .LVU627
 1862 0172 12F0080F 		tst	r2, #8
 1863 0176 43D1     		bne	.L129
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1864              		.loc 1 705 10 is_stmt 1 view .LVU628
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1865              		.loc 1 705 13 is_stmt 0 view .LVU629
 1866 0178 5A6B     		ldr	r2, [r3, #52]
 705:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1867              		.loc 1 705 12 view .LVU630
 1868 017a 12F0020F 		tst	r2, #2
ARM GAS  D:\Temp\cccH9bx8.s 			page 101


 1869 017e 4BD1     		bne	.L130
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1870              		.loc 1 714 10 is_stmt 1 view .LVU631
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1871              		.loc 1 714 13 is_stmt 0 view .LVU632
 1872 0180 5A6B     		ldr	r2, [r3, #52]
 714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1873              		.loc 1 714 12 view .LVU633
 1874 0182 12F0200F 		tst	r2, #32
 1875 0186 53D1     		bne	.L131
 1876              	.L118:
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1877              		.loc 1 729 13 view .LVU634
 1878 0188 2068     		ldr	r0, [r4]
 1879 018a 436B     		ldr	r3, [r0, #52]
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1880              		.loc 1 729 11 view .LVU635
 1881 018c 13F4001F 		tst	r3, #2097152
 1882 0190 5AD0     		beq	.L120
 729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 1883              		.loc 1 729 55 discriminator 1 view .LVU636
 1884 0192 B8F1000F 		cmp	r8, #0
 1885 0196 57D0     		beq	.L120
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1886              		.loc 1 731 7 is_stmt 1 view .LVU637
 731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)(data & 0xFFU);
 1887              		.loc 1 731 14 is_stmt 0 view .LVU638
 1888 0198 FFF7FEFF 		bl	SDIO_ReadFIFO
 1889              	.LVL191:
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1890              		.loc 1 732 7 is_stmt 1 view .LVU639
 732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1891              		.loc 1 732 17 is_stmt 0 view .LVU640
 1892 019c 2870     		strb	r0, [r5]
 733:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 1893              		.loc 1 733 7 is_stmt 1 view .LVU641
 1894              	.LVL192:
 734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 8U) & 0xFFU);
 1895              		.loc 1 734 7 view .LVU642
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1896              		.loc 1 735 7 view .LVU643
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1897              		.loc 1 735 19 is_stmt 0 view .LVU644
 1898 019e C0F30723 		ubfx	r3, r0, #8, #8
 735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1899              		.loc 1 735 17 view .LVU645
 1900 01a2 6B70     		strb	r3, [r5, #1]
 736:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 1901              		.loc 1 736 7 is_stmt 1 view .LVU646
 1902              	.LVL193:
 737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 16U) & 0xFFU);
 1903              		.loc 1 737 7 view .LVU647
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1904              		.loc 1 738 7 view .LVU648
 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1905              		.loc 1 738 19 is_stmt 0 view .LVU649
 1906 01a4 C0F30743 		ubfx	r3, r0, #16, #8
ARM GAS  D:\Temp\cccH9bx8.s 			page 102


 738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1907              		.loc 1 738 17 view .LVU650
 1908 01a8 AB70     		strb	r3, [r5, #2]
 739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 1909              		.loc 1 739 7 is_stmt 1 view .LVU651
 1910              	.LVL194:
 740:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       *tempbuff = (uint8_t)((data >> 24U) & 0xFFU);
 1911              		.loc 1 740 7 view .LVU652
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1912              		.loc 1 741 7 view .LVU653
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1913              		.loc 1 741 19 is_stmt 0 view .LVU654
 1914 01aa 000E     		lsrs	r0, r0, #24
 1915              	.LVL195:
 741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       tempbuff++;
 1916              		.loc 1 741 17 view .LVU655
 1917 01ac E870     		strb	r0, [r5, #3]
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 1918              		.loc 1 742 7 is_stmt 1 view .LVU656
 742:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       dataremaining--;
 1919              		.loc 1 742 15 is_stmt 0 view .LVU657
 1920 01ae 0435     		adds	r5, r5, #4
 1921              	.LVL196:
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1922              		.loc 1 743 7 is_stmt 1 view .LVU658
 743:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 1923              		.loc 1 743 20 is_stmt 0 view .LVU659
 1924 01b0 A8F10408 		sub	r8, r8, #4
 1925              	.LVL197:
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1926              		.loc 1 745 7 is_stmt 1 view .LVU660
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1927              		.loc 1 745 12 is_stmt 0 view .LVU661
 1928 01b4 FFF7FEFF 		bl	HAL_GetTick
 1929              	.LVL198:
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1930              		.loc 1 745 25 view .LVU662
 1931 01b8 A0EB0900 		sub	r0, r0, r9
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1932              		.loc 1 745 9 view .LVU663
 1933 01bc B842     		cmp	r0, r7
 1934 01be 01D2     		bcs	.L119
 745:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 1935              		.loc 1 745 50 discriminator 1 view .LVU664
 1936 01c0 002F     		cmp	r7, #0
 1937 01c2 E1D1     		bne	.L118
 1938              	.L119:
 748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= HAL_SD_ERROR_TIMEOUT;
 1939              		.loc 1 748 9 is_stmt 1 view .LVU665
 1940 01c4 2368     		ldr	r3, [r4]
 1941 01c6 284A     		ldr	r2, .L132
 1942 01c8 9A63     		str	r2, [r3, #56]
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1943              		.loc 1 749 9 view .LVU666
 749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State= HAL_SD_STATE_READY;
 1944              		.loc 1 749 24 is_stmt 0 view .LVU667
 1945 01ca A36B     		ldr	r3, [r4, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 103


 1946 01cc 43F00043 		orr	r3, r3, #-2147483648
 1947 01d0 A363     		str	r3, [r4, #56]
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1948              		.loc 1 750 9 is_stmt 1 view .LVU668
 750:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 1949              		.loc 1 750 19 is_stmt 0 view .LVU669
 1950 01d2 0120     		movs	r0, #1
 1951 01d4 84F83400 		strb	r0, [r4, #52]
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 1952              		.loc 1 751 9 is_stmt 1 view .LVU670
 751:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 1953              		.loc 1 751 22 is_stmt 0 view .LVU671
 1954 01d8 0023     		movs	r3, #0
 1955 01da 2363     		str	r3, [r4, #48]
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1956              		.loc 1 752 9 is_stmt 1 view .LVU672
 752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 1957              		.loc 1 752 16 is_stmt 0 view .LVU673
 1958 01dc 41E0     		b	.L101
 1959              	.LVL199:
 1960              	.L128:
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1961              		.loc 1 682 9 is_stmt 1 view .LVU674
 682:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 1962              		.loc 1 682 22 is_stmt 0 view .LVU675
 1963 01de FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 1964              	.LVL200:
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1965              		.loc 1 683 9 is_stmt 1 view .LVU676
 683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 1966              		.loc 1 683 11 is_stmt 0 view .LVU677
 1967 01e2 0346     		mov	r3, r0
 1968 01e4 0028     		cmp	r0, #0
 1969 01e6 C2D0     		beq	.L115
 686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 1970              		.loc 1 686 11 is_stmt 1 view .LVU678
 1971 01e8 2268     		ldr	r2, [r4]
 1972 01ea 1F49     		ldr	r1, .L132
 1973 01ec 9163     		str	r1, [r2, #56]
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1974              		.loc 1 687 11 view .LVU679
 687:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 1975              		.loc 1 687 26 is_stmt 0 view .LVU680
 1976 01ee A26B     		ldr	r2, [r4, #56]
 1977 01f0 1343     		orrs	r3, r3, r2
 1978 01f2 A363     		str	r3, [r4, #56]
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1979              		.loc 1 688 11 is_stmt 1 view .LVU681
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1980              		.loc 1 688 22 is_stmt 0 view .LVU682
 1981 01f4 0120     		movs	r0, #1
 1982              	.LVL201:
 688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 1983              		.loc 1 688 22 view .LVU683
 1984 01f6 84F83400 		strb	r0, [r4, #52]
 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 1985              		.loc 1 689 11 is_stmt 1 view .LVU684
ARM GAS  D:\Temp\cccH9bx8.s 			page 104


 689:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 1986              		.loc 1 689 24 is_stmt 0 view .LVU685
 1987 01fa 0023     		movs	r3, #0
 1988 01fc 2363     		str	r3, [r4, #48]
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1989              		.loc 1 690 11 is_stmt 1 view .LVU686
 690:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 1990              		.loc 1 690 18 is_stmt 0 view .LVU687
 1991 01fe 30E0     		b	.L101
 1992              	.L129:
 699:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 1993              		.loc 1 699 7 is_stmt 1 view .LVU688
 1994 0200 194A     		ldr	r2, .L132
 1995 0202 9A63     		str	r2, [r3, #56]
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1996              		.loc 1 700 7 view .LVU689
 700:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 1997              		.loc 1 700 22 is_stmt 0 view .LVU690
 1998 0204 A36B     		ldr	r3, [r4, #56]
 1999 0206 43F00803 		orr	r3, r3, #8
 2000 020a A363     		str	r3, [r4, #56]
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2001              		.loc 1 701 7 is_stmt 1 view .LVU691
 701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2002              		.loc 1 701 18 is_stmt 0 view .LVU692
 2003 020c 0120     		movs	r0, #1
 2004 020e 84F83400 		strb	r0, [r4, #52]
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2005              		.loc 1 702 7 is_stmt 1 view .LVU693
 702:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2006              		.loc 1 702 20 is_stmt 0 view .LVU694
 2007 0212 0023     		movs	r3, #0
 2008 0214 2363     		str	r3, [r4, #48]
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2009              		.loc 1 703 7 is_stmt 1 view .LVU695
 703:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2010              		.loc 1 703 14 is_stmt 0 view .LVU696
 2011 0216 24E0     		b	.L101
 2012              	.L130:
 708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2013              		.loc 1 708 7 is_stmt 1 view .LVU697
 2014 0218 134A     		ldr	r2, .L132
 2015 021a 9A63     		str	r2, [r3, #56]
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2016              		.loc 1 709 7 view .LVU698
 709:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2017              		.loc 1 709 22 is_stmt 0 view .LVU699
 2018 021c A36B     		ldr	r3, [r4, #56]
 2019 021e 43F00203 		orr	r3, r3, #2
 2020 0222 A363     		str	r3, [r4, #56]
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2021              		.loc 1 710 7 is_stmt 1 view .LVU700
 710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2022              		.loc 1 710 18 is_stmt 0 view .LVU701
 2023 0224 0120     		movs	r0, #1
 2024 0226 84F83400 		strb	r0, [r4, #52]
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
ARM GAS  D:\Temp\cccH9bx8.s 			page 105


 2025              		.loc 1 711 7 is_stmt 1 view .LVU702
 711:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2026              		.loc 1 711 20 is_stmt 0 view .LVU703
 2027 022a 0023     		movs	r3, #0
 2028 022c 2363     		str	r3, [r4, #48]
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2029              		.loc 1 712 7 is_stmt 1 view .LVU704
 712:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2030              		.loc 1 712 14 is_stmt 0 view .LVU705
 2031 022e 18E0     		b	.L101
 2032              	.L131:
 717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_RX_OVERRUN;
 2033              		.loc 1 717 7 is_stmt 1 view .LVU706
 2034 0230 0D4A     		ldr	r2, .L132
 2035 0232 9A63     		str	r2, [r3, #56]
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2036              		.loc 1 718 7 view .LVU707
 718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2037              		.loc 1 718 22 is_stmt 0 view .LVU708
 2038 0234 A36B     		ldr	r3, [r4, #56]
 2039 0236 43F02003 		orr	r3, r3, #32
 2040 023a A363     		str	r3, [r4, #56]
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2041              		.loc 1 719 7 is_stmt 1 view .LVU709
 719:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2042              		.loc 1 719 18 is_stmt 0 view .LVU710
 2043 023c 0120     		movs	r0, #1
 2044 023e 84F83400 		strb	r0, [r4, #52]
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2045              		.loc 1 720 7 is_stmt 1 view .LVU711
 720:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2046              		.loc 1 720 20 is_stmt 0 view .LVU712
 2047 0242 0023     		movs	r3, #0
 2048 0244 2363     		str	r3, [r4, #48]
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2049              		.loc 1 721 7 is_stmt 1 view .LVU713
 721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2050              		.loc 1 721 14 is_stmt 0 view .LVU714
 2051 0246 0CE0     		b	.L101
 2052              	.L120:
 757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2053              		.loc 1 757 5 is_stmt 1 view .LVU715
 2054 0248 40F23A53 		movw	r3, #1338
 2055 024c 8363     		str	r3, [r0, #56]
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2056              		.loc 1 759 5 view .LVU716
 759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2057              		.loc 1 759 16 is_stmt 0 view .LVU717
 2058 024e 0123     		movs	r3, #1
 2059 0250 84F83430 		strb	r3, [r4, #52]
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2060              		.loc 1 761 5 is_stmt 1 view .LVU718
 761:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2061              		.loc 1 761 12 is_stmt 0 view .LVU719
 2062 0254 0020     		movs	r0, #0
 2063 0256 04E0     		b	.L101
 2064              	.LVL202:
ARM GAS  D:\Temp\cccH9bx8.s 			page 106


 2065              	.L102:
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2066              		.loc 1 765 5 is_stmt 1 view .LVU720
 765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2067              		.loc 1 765 20 is_stmt 0 view .LVU721
 2068 0258 A36B     		ldr	r3, [r4, #56]
 2069 025a 43F00053 		orr	r3, r3, #536870912
 2070 025e A363     		str	r3, [r4, #56]
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2071              		.loc 1 766 5 is_stmt 1 view .LVU722
 766:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2072              		.loc 1 766 12 is_stmt 0 view .LVU723
 2073 0260 0120     		movs	r0, #1
 2074              	.LVL203:
 2075              	.L101:
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2076              		.loc 1 768 1 view .LVU724
 2077 0262 07B0     		add	sp, sp, #28
 2078              	.LCFI31:
 2079              		.cfi_def_cfa_offset 36
 2080              		@ sp needed
 2081 0264 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2082              	.LVL204:
 2083              	.L133:
 768:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2084              		.loc 1 768 1 view .LVU725
 2085              		.align	2
 2086              	.L132:
 2087 0268 FF054000 		.word	4195839
 2088              		.cfi_endproc
 2089              	.LFE135:
 2091              		.section	.text.HAL_SD_WriteBlocks,"ax",%progbits
 2092              		.align	1
 2093              		.global	HAL_SD_WriteBlocks
 2094              		.syntax unified
 2095              		.thumb
 2096              		.thumb_func
 2097              		.fpu fpv4-sp-d16
 2099              	HAL_SD_WriteBlocks:
 2100              	.LVL205:
 2101              	.LFB136:
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2102              		.loc 1 783 1 is_stmt 1 view -0
 2103              		.cfi_startproc
 2104              		@ args = 4, pretend = 0, frame = 32
 2105              		@ frame_needed = 0, uses_anonymous_args = 0
 783:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2106              		.loc 1 783 1 is_stmt 0 view .LVU727
 2107 0000 2DE9F04F 		push	{r4, r5, r6, r7, r8, r9, r10, fp, lr}
 2108              	.LCFI32:
 2109              		.cfi_def_cfa_offset 36
 2110              		.cfi_offset 4, -36
 2111              		.cfi_offset 5, -32
 2112              		.cfi_offset 6, -28
 2113              		.cfi_offset 7, -24
 2114              		.cfi_offset 8, -20
 2115              		.cfi_offset 9, -16
ARM GAS  D:\Temp\cccH9bx8.s 			page 107


 2116              		.cfi_offset 10, -12
 2117              		.cfi_offset 11, -8
 2118              		.cfi_offset 14, -4
 2119 0004 89B0     		sub	sp, sp, #36
 2120              	.LCFI33:
 2121              		.cfi_def_cfa_offset 72
 2122 0006 0446     		mov	r4, r0
 2123 0008 0D46     		mov	r5, r1
 2124 000a 1646     		mov	r6, r2
 2125 000c 9A46     		mov	r10, r3
 2126 000e 129F     		ldr	r7, [sp, #72]
 784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 2127              		.loc 1 784 3 is_stmt 1 view .LVU728
 785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t tickstart = HAL_GetTick();
 2128              		.loc 1 785 3 view .LVU729
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2129              		.loc 1 786 3 view .LVU730
 786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t count, data, dataremaining;
 2130              		.loc 1 786 24 is_stmt 0 view .LVU731
 2131 0010 FFF7FEFF 		bl	HAL_GetTick
 2132              	.LVL206:
 787:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2133              		.loc 1 787 3 is_stmt 1 view .LVU732
 788:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint8_t *tempbuff = pData;
 2134              		.loc 1 788 3 view .LVU733
 789:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2135              		.loc 1 789 3 view .LVU734
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2136              		.loc 1 791 3 view .LVU735
 791:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2137              		.loc 1 791 5 is_stmt 0 view .LVU736
 2138 0014 45B3     		cbz	r5, .L156
 2139 0016 8146     		mov	r9, r0
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2140              		.loc 1 797 3 is_stmt 1 view .LVU737
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2141              		.loc 1 797 9 is_stmt 0 view .LVU738
 2142 0018 94F83430 		ldrb	r3, [r4, #52]	@ zero_extendqisi2
 2143 001c DBB2     		uxtb	r3, r3
 797:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2144              		.loc 1 797 5 view .LVU739
 2145 001e 012B     		cmp	r3, #1
 2146 0020 40F0F180 		bne	.L137
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2147              		.loc 1 799 5 is_stmt 1 view .LVU740
 799:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2148              		.loc 1 799 20 is_stmt 0 view .LVU741
 2149 0024 0023     		movs	r3, #0
 2150 0026 A363     		str	r3, [r4, #56]
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2151              		.loc 1 801 5 is_stmt 1 view .LVU742
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2152              		.loc 1 801 13 is_stmt 0 view .LVU743
 2153 0028 06EB0A03 		add	r3, r6, r10
 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2154              		.loc 1 801 45 view .LVU744
 2155 002c E26D     		ldr	r2, [r4, #92]
ARM GAS  D:\Temp\cccH9bx8.s 			page 108


 801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2156              		.loc 1 801 7 view .LVU745
 2157 002e 9342     		cmp	r3, r2
 2158 0030 20D8     		bhi	.L157
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2159              		.loc 1 807 5 is_stmt 1 view .LVU746
 807:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2160              		.loc 1 807 16 is_stmt 0 view .LVU747
 2161 0032 0323     		movs	r3, #3
 2162 0034 84F83430 		strb	r3, [r4, #52]
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2163              		.loc 1 810 5 is_stmt 1 view .LVU748
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2164              		.loc 1 810 8 is_stmt 0 view .LVU749
 2165 0038 2368     		ldr	r3, [r4]
 810:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2166              		.loc 1 810 26 view .LVU750
 2167 003a 0022     		movs	r2, #0
 2168 003c DA62     		str	r2, [r3, #44]
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2169              		.loc 1 812 5 is_stmt 1 view .LVU751
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2170              		.loc 1 812 19 is_stmt 0 view .LVU752
 2171 003e 636C     		ldr	r3, [r4, #68]
 812:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2172              		.loc 1 812 7 view .LVU753
 2173 0040 012B     		cmp	r3, #1
 2174 0042 00D0     		beq	.L139
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2175              		.loc 1 814 7 is_stmt 1 view .LVU754
 814:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2176              		.loc 1 814 11 is_stmt 0 view .LVU755
 2177 0044 7602     		lsls	r6, r6, #9
 2178              	.LVL207:
 2179              	.L139:
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2180              		.loc 1 818 5 is_stmt 1 view .LVU756
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2181              		.loc 1 818 18 is_stmt 0 view .LVU757
 2182 0046 4FF40071 		mov	r1, #512
 2183 004a 2068     		ldr	r0, [r4]
 2184              	.LVL208:
 818:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2185              		.loc 1 818 18 view .LVU758
 2186 004c FFF7FEFF 		bl	SDMMC_CmdBlockLength
 2187              	.LVL209:
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2188              		.loc 1 819 5 is_stmt 1 view .LVU759
 819:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2189              		.loc 1 819 7 is_stmt 0 view .LVU760
 2190 0050 0346     		mov	r3, r0
 2191 0052 A8B1     		cbz	r0, .L140
 822:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2192              		.loc 1 822 7 is_stmt 1 view .LVU761
 2193 0054 2268     		ldr	r2, [r4]
 2194 0056 7049     		ldr	r1, .L163
 2195 0058 9163     		str	r1, [r2, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 109


 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2196              		.loc 1 823 7 view .LVU762
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2197              		.loc 1 823 22 is_stmt 0 view .LVU763
 2198 005a A06B     		ldr	r0, [r4, #56]
 2199              	.LVL210:
 823:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2200              		.loc 1 823 22 view .LVU764
 2201 005c 1843     		orrs	r0, r0, r3
 2202 005e A063     		str	r0, [r4, #56]
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2203              		.loc 1 824 7 is_stmt 1 view .LVU765
 824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2204              		.loc 1 824 18 is_stmt 0 view .LVU766
 2205 0060 0120     		movs	r0, #1
 2206 0062 84F83400 		strb	r0, [r4, #52]
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2207              		.loc 1 825 7 is_stmt 1 view .LVU767
 825:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2208              		.loc 1 825 14 is_stmt 0 view .LVU768
 2209 0066 D3E0     		b	.L136
 2210              	.LVL211:
 2211              	.L156:
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2212              		.loc 1 793 5 is_stmt 1 view .LVU769
 793:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2213              		.loc 1 793 20 is_stmt 0 view .LVU770
 2214 0068 A36B     		ldr	r3, [r4, #56]
 2215 006a 43F00063 		orr	r3, r3, #134217728
 2216 006e A363     		str	r3, [r4, #56]
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2217              		.loc 1 794 5 is_stmt 1 view .LVU771
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2218              		.loc 1 794 12 is_stmt 0 view .LVU772
 2219 0070 0120     		movs	r0, #1
 2220              	.LVL212:
 794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2221              		.loc 1 794 12 view .LVU773
 2222 0072 CDE0     		b	.L136
 2223              	.LVL213:
 2224              	.L157:
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2225              		.loc 1 803 7 is_stmt 1 view .LVU774
 803:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2226              		.loc 1 803 22 is_stmt 0 view .LVU775
 2227 0074 A36B     		ldr	r3, [r4, #56]
 2228 0076 43F00073 		orr	r3, r3, #33554432
 2229 007a A363     		str	r3, [r4, #56]
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2230              		.loc 1 804 7 is_stmt 1 view .LVU776
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2231              		.loc 1 804 14 is_stmt 0 view .LVU777
 2232 007c 0120     		movs	r0, #1
 2233              	.LVL214:
 804:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2234              		.loc 1 804 14 view .LVU778
 2235 007e C7E0     		b	.L136
ARM GAS  D:\Temp\cccH9bx8.s 			page 110


 2236              	.LVL215:
 2237              	.L140:
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2238              		.loc 1 829 5 is_stmt 1 view .LVU779
 829:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = NumberOfBlocks * BLOCKSIZE;
 2239              		.loc 1 829 26 is_stmt 0 view .LVU780
 2240 0080 4FF0FF33 		mov	r3, #-1
 2241 0084 0293     		str	r3, [sp, #8]
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2242              		.loc 1 830 5 is_stmt 1 view .LVU781
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2243              		.loc 1 830 43 is_stmt 0 view .LVU782
 2244 0086 4FEA4A23 		lsl	r3, r10, #9
 830:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2245              		.loc 1 830 26 view .LVU783
 2246 008a 0393     		str	r3, [sp, #12]
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2247              		.loc 1 831 5 is_stmt 1 view .LVU784
 831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 2248              		.loc 1 831 26 is_stmt 0 view .LVU785
 2249 008c 9023     		movs	r3, #144
 2250 008e 0493     		str	r3, [sp, #16]
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2251              		.loc 1 832 5 is_stmt 1 view .LVU786
 832:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2252              		.loc 1 832 26 is_stmt 0 view .LVU787
 2253 0090 0023     		movs	r3, #0
 2254 0092 0593     		str	r3, [sp, #20]
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2255              		.loc 1 833 5 is_stmt 1 view .LVU788
 833:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2256              		.loc 1 833 26 is_stmt 0 view .LVU789
 2257 0094 0693     		str	r3, [sp, #24]
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2258              		.loc 1 834 5 is_stmt 1 view .LVU790
 834:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2259              		.loc 1 834 26 is_stmt 0 view .LVU791
 2260 0096 0123     		movs	r3, #1
 2261 0098 0793     		str	r3, [sp, #28]
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2262              		.loc 1 835 5 is_stmt 1 view .LVU792
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2263              		.loc 1 835 11 is_stmt 0 view .LVU793
 2264 009a 02A9     		add	r1, sp, #8
 2265 009c 2068     		ldr	r0, [r4]
 2266              	.LVL216:
 835:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2267              		.loc 1 835 11 view .LVU794
 2268 009e FFF7FEFF 		bl	SDIO_ConfigData
 2269              	.LVL217:
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2270              		.loc 1 838 5 is_stmt 1 view .LVU795
 838:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2271              		.loc 1 838 7 is_stmt 0 view .LVU796
 2272 00a2 BAF1010F 		cmp	r10, #1
 2273 00a6 0CD9     		bls	.L141
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 111


 2274              		.loc 1 840 7 is_stmt 1 view .LVU797
 840:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2275              		.loc 1 840 20 is_stmt 0 view .LVU798
 2276 00a8 2023     		movs	r3, #32
 2277 00aa 2363     		str	r3, [r4, #48]
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2278              		.loc 1 843 7 is_stmt 1 view .LVU799
 843:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2279              		.loc 1 843 20 is_stmt 0 view .LVU800
 2280 00ac 3146     		mov	r1, r6
 2281 00ae 2068     		ldr	r0, [r4]
 2282 00b0 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 2283              	.LVL218:
 2284 00b4 8346     		mov	fp, r0
 2285              	.LVL219:
 2286              	.L142:
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2287              		.loc 1 852 5 is_stmt 1 view .LVU801
 852:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2288              		.loc 1 852 7 is_stmt 0 view .LVU802
 2289 00b6 BBF1000F 		cmp	fp, #0
 2290 00ba 0AD1     		bne	.L158
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 2291              		.loc 1 863 5 is_stmt 1 view .LVU803
 863:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined(SDIO_STA_STBITERR)
 2292              		.loc 1 863 19 is_stmt 0 view .LVU804
 2293 00bc DDF80C80 		ldr	r8, [sp, #12]
 2294              	.LVL220:
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2295              		.loc 1 865 5 is_stmt 1 view .LVU805
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2296              		.loc 1 865 10 is_stmt 0 view .LVU806
 2297 00c0 30E0     		b	.L144
 2298              	.LVL221:
 2299              	.L141:
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2300              		.loc 1 847 7 is_stmt 1 view .LVU807
 847:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2301              		.loc 1 847 20 is_stmt 0 view .LVU808
 2302 00c2 1023     		movs	r3, #16
 2303 00c4 2363     		str	r3, [r4, #48]
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2304              		.loc 1 850 7 is_stmt 1 view .LVU809
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2305              		.loc 1 850 20 is_stmt 0 view .LVU810
 2306 00c6 3146     		mov	r1, r6
 2307 00c8 2068     		ldr	r0, [r4]
 2308 00ca FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 2309              	.LVL222:
 2310 00ce 8346     		mov	fp, r0
 2311              	.LVL223:
 850:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2312              		.loc 1 850 20 view .LVU811
 2313 00d0 F1E7     		b	.L142
 2314              	.L158:
 855:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2315              		.loc 1 855 7 is_stmt 1 view .LVU812
ARM GAS  D:\Temp\cccH9bx8.s 			page 112


 2316 00d2 2368     		ldr	r3, [r4]
 2317 00d4 504A     		ldr	r2, .L163
 2318 00d6 9A63     		str	r2, [r3, #56]
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2319              		.loc 1 856 7 view .LVU813
 856:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2320              		.loc 1 856 22 is_stmt 0 view .LVU814
 2321 00d8 A36B     		ldr	r3, [r4, #56]
 2322 00da 43EA0B03 		orr	r3, r3, fp
 2323 00de A363     		str	r3, [r4, #56]
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2324              		.loc 1 857 7 is_stmt 1 view .LVU815
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2325              		.loc 1 857 18 is_stmt 0 view .LVU816
 2326 00e0 0120     		movs	r0, #1
 2327              	.LVL224:
 857:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2328              		.loc 1 857 18 view .LVU817
 2329 00e2 84F83400 		strb	r0, [r4, #52]
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2330              		.loc 1 858 7 is_stmt 1 view .LVU818
 858:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2331              		.loc 1 858 20 is_stmt 0 view .LVU819
 2332 00e6 0023     		movs	r3, #0
 2333 00e8 2363     		str	r3, [r4, #48]
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2334              		.loc 1 859 7 is_stmt 1 view .LVU820
 859:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2335              		.loc 1 859 14 is_stmt 0 view .LVU821
 2336 00ea 91E0     		b	.L136
 2337              	.LVL225:
 2338              	.L147:
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2339              		.loc 1 875 11 is_stmt 1 discriminator 3 view .LVU822
 875:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2340              		.loc 1 875 29 is_stmt 0 discriminator 3 view .LVU823
 2341 00ec 2B78     		ldrb	r3, [r5]	@ zero_extendqisi2
 876:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 2342              		.loc 1 876 11 is_stmt 1 discriminator 3 view .LVU824
 2343              	.LVL226:
 877:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 8U);
 2344              		.loc 1 877 11 discriminator 3 view .LVU825
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2345              		.loc 1 878 11 discriminator 3 view .LVU826
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2346              		.loc 1 878 31 is_stmt 0 discriminator 3 view .LVU827
 2347 00ee 6A78     		ldrb	r2, [r5, #1]	@ zero_extendqisi2
 878:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2348              		.loc 1 878 16 discriminator 3 view .LVU828
 2349 00f0 43EA0223 		orr	r3, r3, r2, lsl #8
 879:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 2350              		.loc 1 879 11 is_stmt 1 discriminator 3 view .LVU829
 2351              	.LVL227:
 880:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 16U);
 2352              		.loc 1 880 11 discriminator 3 view .LVU830
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2353              		.loc 1 881 11 discriminator 3 view .LVU831
ARM GAS  D:\Temp\cccH9bx8.s 			page 113


 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2354              		.loc 1 881 31 is_stmt 0 discriminator 3 view .LVU832
 2355 00f4 AA78     		ldrb	r2, [r5, #2]	@ zero_extendqisi2
 881:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2356              		.loc 1 881 16 discriminator 3 view .LVU833
 2357 00f6 43EA0243 		orr	r3, r3, r2, lsl #16
 882:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 2358              		.loc 1 882 11 is_stmt 1 discriminator 3 view .LVU834
 2359              	.LVL228:
 883:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           data |= ((uint32_t)(*tempbuff) << 24U);
 2360              		.loc 1 883 11 discriminator 3 view .LVU835
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2361              		.loc 1 884 11 discriminator 3 view .LVU836
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2362              		.loc 1 884 31 is_stmt 0 discriminator 3 view .LVU837
 2363 00fa EA78     		ldrb	r2, [r5, #3]	@ zero_extendqisi2
 884:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           tempbuff++;
 2364              		.loc 1 884 16 discriminator 3 view .LVU838
 2365 00fc 43EA0263 		orr	r3, r3, r2, lsl #24
 2366 0100 0193     		str	r3, [sp, #4]
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 2367              		.loc 1 885 11 is_stmt 1 discriminator 3 view .LVU839
 885:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           dataremaining--;
 2368              		.loc 1 885 19 is_stmt 0 discriminator 3 view .LVU840
 2369 0102 0435     		adds	r5, r5, #4
 2370              	.LVL229:
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 2371              		.loc 1 886 11 is_stmt 1 discriminator 3 view .LVU841
 886:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           (void)SDIO_WriteFIFO(hsd->Instance, &data);
 2372              		.loc 1 886 24 is_stmt 0 discriminator 3 view .LVU842
 2373 0104 A8F10408 		sub	r8, r8, #4
 2374              	.LVL230:
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2375              		.loc 1 887 11 is_stmt 1 discriminator 3 view .LVU843
 887:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2376              		.loc 1 887 17 is_stmt 0 discriminator 3 view .LVU844
 2377 0108 01A9     		add	r1, sp, #4
 2378 010a 2068     		ldr	r0, [r4]
 2379 010c FFF7FEFF 		bl	SDIO_WriteFIFO
 2380              	.LVL231:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2381              		.loc 1 873 42 discriminator 3 view .LVU845
 2382 0110 0136     		adds	r6, r6, #1
 2383              	.LVL232:
 2384              	.L146:
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2385              		.loc 1 873 9 discriminator 1 view .LVU846
 2386 0112 072E     		cmp	r6, #7
 2387 0114 EAD9     		bls	.L147
 2388              	.LVL233:
 2389              	.L145:
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2390              		.loc 1 891 7 is_stmt 1 view .LVU847
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2391              		.loc 1 891 12 is_stmt 0 view .LVU848
 2392 0116 FFF7FEFF 		bl	HAL_GetTick
 2393              	.LVL234:
ARM GAS  D:\Temp\cccH9bx8.s 			page 114


 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2394              		.loc 1 891 25 view .LVU849
 2395 011a A0EB0900 		sub	r0, r0, r9
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2396              		.loc 1 891 9 view .LVU850
 2397 011e B842     		cmp	r0, r7
 2398 0120 0FD2     		bcs	.L148
 891:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2399              		.loc 1 891 50 discriminator 1 view .LVU851
 2400 0122 77B1     		cbz	r7, .L148
 2401              	.L144:
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2402              		.loc 1 865 12 view .LVU852
 2403 0124 2068     		ldr	r0, [r4]
 2404 0126 426B     		ldr	r2, [r0, #52]
 865:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2405              		.loc 1 865 10 view .LVU853
 2406 0128 40F21A33 		movw	r3, #794
 2407 012c 1A42     		tst	r2, r3
 2408 012e 16D1     		bne	.L159
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2409              		.loc 1 870 7 is_stmt 1 view .LVU854
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2410              		.loc 1 870 10 is_stmt 0 view .LVU855
 2411 0130 436B     		ldr	r3, [r0, #52]
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2412              		.loc 1 870 9 view .LVU856
 2413 0132 13F4804F 		tst	r3, #16384
 2414 0136 EED0     		beq	.L145
 870:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2415              		.loc 1 870 53 discriminator 1 view .LVU857
 2416 0138 B8F1000F 		cmp	r8, #0
 2417 013c EBD0     		beq	.L145
 873:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2418              		.loc 1 873 19 view .LVU858
 2419 013e 5E46     		mov	r6, fp
 2420 0140 E7E7     		b	.L146
 2421              	.L148:
 894:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 2422              		.loc 1 894 9 is_stmt 1 view .LVU859
 2423 0142 2368     		ldr	r3, [r4]
 2424 0144 344A     		ldr	r2, .L163
 2425 0146 9A63     		str	r2, [r3, #56]
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2426              		.loc 1 895 9 view .LVU860
 895:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 2427              		.loc 1 895 24 is_stmt 0 view .LVU861
 2428 0148 A36B     		ldr	r3, [r4, #56]
 2429 014a 43EA0B03 		orr	r3, r3, fp
 2430 014e A363     		str	r3, [r4, #56]
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2431              		.loc 1 896 9 is_stmt 1 view .LVU862
 896:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 2432              		.loc 1 896 20 is_stmt 0 view .LVU863
 2433 0150 0123     		movs	r3, #1
 2434 0152 84F83430 		strb	r3, [r4, #52]
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
ARM GAS  D:\Temp\cccH9bx8.s 			page 115


 2435              		.loc 1 897 9 is_stmt 1 view .LVU864
 897:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_TIMEOUT;
 2436              		.loc 1 897 22 is_stmt 0 view .LVU865
 2437 0156 0023     		movs	r3, #0
 2438 0158 2363     		str	r3, [r4, #48]
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 2439              		.loc 1 898 9 is_stmt 1 view .LVU866
 898:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 2440              		.loc 1 898 16 is_stmt 0 view .LVU867
 2441 015a 0320     		movs	r0, #3
 2442 015c 58E0     		b	.L136
 2443              	.L159:
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2444              		.loc 1 903 5 is_stmt 1 view .LVU868
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2445              		.loc 1 903 8 is_stmt 0 view .LVU869
 2446 015e 436B     		ldr	r3, [r0, #52]
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2447              		.loc 1 903 7 view .LVU870
 2448 0160 13F4807F 		tst	r3, #256
 2449 0164 05D0     		beq	.L150
 903:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2450              		.loc 1 903 50 discriminator 1 view .LVU871
 2451 0166 BAF1010F 		cmp	r10, #1
 2452 016a 02D9     		bls	.L150
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2453              		.loc 1 905 7 is_stmt 1 view .LVU872
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2454              		.loc 1 905 21 is_stmt 0 view .LVU873
 2455 016c 636C     		ldr	r3, [r4, #68]
 905:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 2456              		.loc 1 905 9 view .LVU874
 2457 016e 032B     		cmp	r3, #3
 2458 0170 18D1     		bne	.L160
 2459              	.LVL235:
 2460              	.L150:
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2461              		.loc 1 922 5 is_stmt 1 view .LVU875
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2462              		.loc 1 922 8 is_stmt 0 view .LVU876
 2463 0172 2368     		ldr	r3, [r4]
 2464 0174 5A6B     		ldr	r2, [r3, #52]
 922:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2465              		.loc 1 922 7 view .LVU877
 2466 0176 12F0080F 		tst	r2, #8
 2467 017a 24D1     		bne	.L161
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2468              		.loc 1 931 10 is_stmt 1 view .LVU878
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2469              		.loc 1 931 13 is_stmt 0 view .LVU879
 2470 017c 5A6B     		ldr	r2, [r3, #52]
 931:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2471              		.loc 1 931 12 view .LVU880
 2472 017e 12F0020F 		tst	r2, #2
 2473 0182 2CD1     		bne	.L162
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2474              		.loc 1 940 10 is_stmt 1 view .LVU881
ARM GAS  D:\Temp\cccH9bx8.s 			page 116


 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2475              		.loc 1 940 13 is_stmt 0 view .LVU882
 2476 0184 5A6B     		ldr	r2, [r3, #52]
 940:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2477              		.loc 1 940 12 view .LVU883
 2478 0186 12F0100F 		tst	r2, #16
 2479 018a 34D0     		beq	.L153
 943:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_TX_UNDERRUN;
 2480              		.loc 1 943 7 is_stmt 1 view .LVU884
 2481 018c 224A     		ldr	r2, .L163
 2482 018e 9A63     		str	r2, [r3, #56]
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2483              		.loc 1 944 7 view .LVU885
 944:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2484              		.loc 1 944 22 is_stmt 0 view .LVU886
 2485 0190 A36B     		ldr	r3, [r4, #56]
 2486 0192 43F01003 		orr	r3, r3, #16
 2487 0196 A363     		str	r3, [r4, #56]
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2488              		.loc 1 945 7 is_stmt 1 view .LVU887
 945:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2489              		.loc 1 945 18 is_stmt 0 view .LVU888
 2490 0198 0120     		movs	r0, #1
 2491 019a 84F83400 		strb	r0, [r4, #52]
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2492              		.loc 1 946 7 is_stmt 1 view .LVU889
 946:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2493              		.loc 1 946 20 is_stmt 0 view .LVU890
 2494 019e 0023     		movs	r3, #0
 2495 01a0 2363     		str	r3, [r4, #48]
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2496              		.loc 1 947 7 is_stmt 1 view .LVU891
 947:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2497              		.loc 1 947 14 is_stmt 0 view .LVU892
 2498 01a2 35E0     		b	.L136
 2499              	.LVL236:
 2500              	.L160:
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2501              		.loc 1 908 9 is_stmt 1 view .LVU893
 908:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 2502              		.loc 1 908 22 is_stmt 0 view .LVU894
 2503 01a4 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 2504              	.LVL237:
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2505              		.loc 1 909 9 is_stmt 1 view .LVU895
 909:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 2506              		.loc 1 909 11 is_stmt 0 view .LVU896
 2507 01a8 0346     		mov	r3, r0
 2508 01aa 0028     		cmp	r0, #0
 2509 01ac E1D0     		beq	.L150
 912:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->ErrorCode |= errorstate;
 2510              		.loc 1 912 11 is_stmt 1 view .LVU897
 2511 01ae 2268     		ldr	r2, [r4]
 2512 01b0 1949     		ldr	r1, .L163
 2513 01b2 9163     		str	r1, [r2, #56]
 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2514              		.loc 1 913 11 view .LVU898
ARM GAS  D:\Temp\cccH9bx8.s 			page 117


 913:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->State = HAL_SD_STATE_READY;
 2515              		.loc 1 913 26 is_stmt 0 view .LVU899
 2516 01b4 A26B     		ldr	r2, [r4, #56]
 2517 01b6 1343     		orrs	r3, r3, r2
 2518 01b8 A363     		str	r3, [r4, #56]
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2519              		.loc 1 914 11 is_stmt 1 view .LVU900
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2520              		.loc 1 914 22 is_stmt 0 view .LVU901
 2521 01ba 0120     		movs	r0, #1
 2522              	.LVL238:
 914:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           hsd->Context = SD_CONTEXT_NONE;
 2523              		.loc 1 914 22 view .LVU902
 2524 01bc 84F83400 		strb	r0, [r4, #52]
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 2525              		.loc 1 915 11 is_stmt 1 view .LVU903
 915:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****           return HAL_ERROR;
 2526              		.loc 1 915 24 is_stmt 0 view .LVU904
 2527 01c0 0023     		movs	r3, #0
 2528 01c2 2363     		str	r3, [r4, #48]
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2529              		.loc 1 916 11 is_stmt 1 view .LVU905
 916:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 2530              		.loc 1 916 18 is_stmt 0 view .LVU906
 2531 01c4 24E0     		b	.L136
 2532              	.L161:
 925:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_TIMEOUT;
 2533              		.loc 1 925 7 is_stmt 1 view .LVU907
 2534 01c6 144A     		ldr	r2, .L163
 2535 01c8 9A63     		str	r2, [r3, #56]
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2536              		.loc 1 926 7 view .LVU908
 926:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2537              		.loc 1 926 22 is_stmt 0 view .LVU909
 2538 01ca A36B     		ldr	r3, [r4, #56]
 2539 01cc 43F00803 		orr	r3, r3, #8
 2540 01d0 A363     		str	r3, [r4, #56]
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2541              		.loc 1 927 7 is_stmt 1 view .LVU910
 927:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2542              		.loc 1 927 18 is_stmt 0 view .LVU911
 2543 01d2 0120     		movs	r0, #1
 2544 01d4 84F83400 		strb	r0, [r4, #52]
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2545              		.loc 1 928 7 is_stmt 1 view .LVU912
 928:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2546              		.loc 1 928 20 is_stmt 0 view .LVU913
 2547 01d8 0023     		movs	r3, #0
 2548 01da 2363     		str	r3, [r4, #48]
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2549              		.loc 1 929 7 is_stmt 1 view .LVU914
 929:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2550              		.loc 1 929 14 is_stmt 0 view .LVU915
 2551 01dc 18E0     		b	.L136
 2552              	.L162:
 934:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DATA_CRC_FAIL;
 2553              		.loc 1 934 7 is_stmt 1 view .LVU916
ARM GAS  D:\Temp\cccH9bx8.s 			page 118


 2554 01de 0E4A     		ldr	r2, .L163
 2555 01e0 9A63     		str	r2, [r3, #56]
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2556              		.loc 1 935 7 view .LVU917
 935:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2557              		.loc 1 935 22 is_stmt 0 view .LVU918
 2558 01e2 A36B     		ldr	r3, [r4, #56]
 2559 01e4 43F00203 		orr	r3, r3, #2
 2560 01e8 A363     		str	r3, [r4, #56]
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2561              		.loc 1 936 7 is_stmt 1 view .LVU919
 936:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2562              		.loc 1 936 18 is_stmt 0 view .LVU920
 2563 01ea 0120     		movs	r0, #1
 2564 01ec 84F83400 		strb	r0, [r4, #52]
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2565              		.loc 1 937 7 is_stmt 1 view .LVU921
 937:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2566              		.loc 1 937 20 is_stmt 0 view .LVU922
 2567 01f0 0023     		movs	r3, #0
 2568 01f2 2363     		str	r3, [r4, #48]
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2569              		.loc 1 938 7 is_stmt 1 view .LVU923
 938:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2570              		.loc 1 938 14 is_stmt 0 view .LVU924
 2571 01f4 0CE0     		b	.L136
 2572              	.L153:
 952:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2573              		.loc 1 952 5 is_stmt 1 view .LVU925
 955:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2574              		.loc 1 955 5 view .LVU926
 2575 01f6 40F23A52 		movw	r2, #1338
 2576 01fa 9A63     		str	r2, [r3, #56]
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2577              		.loc 1 957 5 view .LVU927
 957:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2578              		.loc 1 957 16 is_stmt 0 view .LVU928
 2579 01fc 0123     		movs	r3, #1
 2580 01fe 84F83430 		strb	r3, [r4, #52]
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2581              		.loc 1 959 5 is_stmt 1 view .LVU929
 959:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2582              		.loc 1 959 12 is_stmt 0 view .LVU930
 2583 0202 0020     		movs	r0, #0
 2584 0204 04E0     		b	.L136
 2585              	.LVL239:
 2586              	.L137:
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2587              		.loc 1 963 5 is_stmt 1 view .LVU931
 963:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2588              		.loc 1 963 20 is_stmt 0 view .LVU932
 2589 0206 A36B     		ldr	r3, [r4, #56]
 2590 0208 43F00053 		orr	r3, r3, #536870912
 2591 020c A363     		str	r3, [r4, #56]
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2592              		.loc 1 964 5 is_stmt 1 view .LVU933
 964:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  D:\Temp\cccH9bx8.s 			page 119


 2593              		.loc 1 964 12 is_stmt 0 view .LVU934
 2594 020e 0120     		movs	r0, #1
 2595              	.LVL240:
 2596              	.L136:
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2597              		.loc 1 966 1 view .LVU935
 2598 0210 09B0     		add	sp, sp, #36
 2599              	.LCFI34:
 2600              		.cfi_def_cfa_offset 36
 2601              		@ sp needed
 2602 0212 BDE8F08F 		pop	{r4, r5, r6, r7, r8, r9, r10, fp, pc}
 2603              	.LVL241:
 2604              	.L164:
 966:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2605              		.loc 1 966 1 view .LVU936
 2606 0216 00BF     		.align	2
 2607              	.L163:
 2608 0218 FF054000 		.word	4195839
 2609              		.cfi_endproc
 2610              	.LFE136:
 2612              		.section	.text.HAL_SD_ReadBlocks_IT,"ax",%progbits
 2613              		.align	1
 2614              		.global	HAL_SD_ReadBlocks_IT
 2615              		.syntax unified
 2616              		.thumb
 2617              		.thumb_func
 2618              		.fpu fpv4-sp-d16
 2620              	HAL_SD_ReadBlocks_IT:
 2621              	.LVL242:
 2622              	.LFB137:
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2623              		.loc 1 982 1 is_stmt 1 view -0
 2624              		.cfi_startproc
 2625              		@ args = 0, pretend = 0, frame = 24
 2626              		@ frame_needed = 0, uses_anonymous_args = 0
 982:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2627              		.loc 1 982 1 is_stmt 0 view .LVU938
 2628 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2629              	.LCFI35:
 2630              		.cfi_def_cfa_offset 20
 2631              		.cfi_offset 4, -20
 2632              		.cfi_offset 5, -16
 2633              		.cfi_offset 6, -12
 2634              		.cfi_offset 7, -8
 2635              		.cfi_offset 14, -4
 2636 0002 87B0     		sub	sp, sp, #28
 2637              	.LCFI36:
 2638              		.cfi_def_cfa_offset 48
 2639 0004 0446     		mov	r4, r0
 983:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 2640              		.loc 1 983 3 is_stmt 1 view .LVU939
 984:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2641              		.loc 1 984 3 view .LVU940
 985:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2642              		.loc 1 985 3 view .LVU941
 2643              	.LVL243:
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  D:\Temp\cccH9bx8.s 			page 120


 2644              		.loc 1 987 3 view .LVU942
 987:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2645              		.loc 1 987 5 is_stmt 0 view .LVU943
 2646 0006 0029     		cmp	r1, #0
 2647 0008 32D0     		beq	.L176
 2648 000a 1546     		mov	r5, r2
 2649 000c 1E46     		mov	r6, r3
 2650 000e 0A46     		mov	r2, r1
 2651              	.LVL244:
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2652              		.loc 1 993 3 is_stmt 1 view .LVU944
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2653              		.loc 1 993 9 is_stmt 0 view .LVU945
 2654 0010 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 2655              	.LVL245:
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2656              		.loc 1 993 9 view .LVU946
 2657 0014 DBB2     		uxtb	r3, r3
 993:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2658              		.loc 1 993 5 view .LVU947
 2659 0016 012B     		cmp	r3, #1
 2660 0018 62D1     		bne	.L173
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2661              		.loc 1 995 5 is_stmt 1 view .LVU948
 995:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2662              		.loc 1 995 20 is_stmt 0 view .LVU949
 2663 001a 0023     		movs	r3, #0
 2664 001c 8363     		str	r3, [r0, #56]
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2665              		.loc 1 997 5 is_stmt 1 view .LVU950
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2666              		.loc 1 997 13 is_stmt 0 view .LVU951
 2667 001e AB19     		adds	r3, r5, r6
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2668              		.loc 1 997 45 view .LVU952
 2669 0020 C16D     		ldr	r1, [r0, #92]
 2670              	.LVL246:
 997:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2671              		.loc 1 997 7 view .LVU953
 2672 0022 8B42     		cmp	r3, r1
 2673 0024 2AD8     		bhi	.L177
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2674              		.loc 1 1003 5 is_stmt 1 view .LVU954
1003:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2675              		.loc 1 1003 16 is_stmt 0 view .LVU955
 2676 0026 0323     		movs	r3, #3
 2677 0028 80F83430 		strb	r3, [r0, #52]
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2678              		.loc 1 1006 5 is_stmt 1 view .LVU956
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2679              		.loc 1 1006 8 is_stmt 0 view .LVU957
 2680 002c 0368     		ldr	r3, [r0]
1006:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2681              		.loc 1 1006 26 view .LVU958
 2682 002e 0021     		movs	r1, #0
 2683 0030 D962     		str	r1, [r3, #44]
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
ARM GAS  D:\Temp\cccH9bx8.s 			page 121


 2684              		.loc 1 1008 5 is_stmt 1 view .LVU959
1008:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->RxXferSize = BLOCKSIZE * NumberOfBlocks;
 2685              		.loc 1 1008 21 is_stmt 0 view .LVU960
 2686 0032 8262     		str	r2, [r0, #40]
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2687              		.loc 1 1009 5 is_stmt 1 view .LVU961
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2688              		.loc 1 1009 33 is_stmt 0 view .LVU962
 2689 0034 7702     		lsls	r7, r6, #9
1009:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2690              		.loc 1 1009 21 view .LVU963
 2691 0036 C762     		str	r7, [r0, #44]
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2692              		.loc 1 1012 5 is_stmt 1 view .LVU964
 2693 0038 0268     		ldr	r2, [r0]
 2694              	.LVL247:
1012:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2695              		.loc 1 1012 5 is_stmt 0 view .LVU965
 2696 003a D36B     		ldr	r3, [r2, #60]
 2697 003c 43F40343 		orr	r3, r3, #33536
 2698 0040 43F02A03 		orr	r3, r3, #42
 2699 0044 D363     		str	r3, [r2, #60]
 2700              	.LVL248:
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2701              		.loc 1 1017 5 is_stmt 1 view .LVU966
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2702              		.loc 1 1017 19 is_stmt 0 view .LVU967
 2703 0046 436C     		ldr	r3, [r0, #68]
1017:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2704              		.loc 1 1017 7 view .LVU968
 2705 0048 012B     		cmp	r3, #1
 2706 004a 00D0     		beq	.L169
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2707              		.loc 1 1019 7 is_stmt 1 view .LVU969
1019:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2708              		.loc 1 1019 11 is_stmt 0 view .LVU970
 2709 004c 6D02     		lsls	r5, r5, #9
 2710              	.LVL249:
 2711              	.L169:
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2712              		.loc 1 1023 5 is_stmt 1 view .LVU971
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2713              		.loc 1 1023 18 is_stmt 0 view .LVU972
 2714 004e 4FF40071 		mov	r1, #512
 2715 0052 2068     		ldr	r0, [r4]
 2716              	.LVL250:
1023:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2717              		.loc 1 1023 18 view .LVU973
 2718 0054 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 2719              	.LVL251:
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2720              		.loc 1 1024 5 is_stmt 1 view .LVU974
1024:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2721              		.loc 1 1024 7 is_stmt 0 view .LVU975
 2722 0058 0346     		mov	r3, r0
 2723 005a A8B1     		cbz	r0, .L170
1027:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
ARM GAS  D:\Temp\cccH9bx8.s 			page 122


 2724              		.loc 1 1027 7 is_stmt 1 view .LVU976
 2725 005c 2268     		ldr	r2, [r4]
 2726 005e 2349     		ldr	r1, .L178
 2727 0060 9163     		str	r1, [r2, #56]
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2728              		.loc 1 1028 7 view .LVU977
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2729              		.loc 1 1028 22 is_stmt 0 view .LVU978
 2730 0062 A06B     		ldr	r0, [r4, #56]
 2731              	.LVL252:
1028:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2732              		.loc 1 1028 22 view .LVU979
 2733 0064 1843     		orrs	r0, r0, r3
 2734 0066 A063     		str	r0, [r4, #56]
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2735              		.loc 1 1029 7 is_stmt 1 view .LVU980
1029:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2736              		.loc 1 1029 18 is_stmt 0 view .LVU981
 2737 0068 0120     		movs	r0, #1
 2738 006a 84F83400 		strb	r0, [r4, #52]
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2739              		.loc 1 1030 7 is_stmt 1 view .LVU982
1030:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2740              		.loc 1 1030 14 is_stmt 0 view .LVU983
 2741 006e 38E0     		b	.L167
 2742              	.LVL253:
 2743              	.L176:
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2744              		.loc 1 989 5 is_stmt 1 view .LVU984
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2745              		.loc 1 989 20 is_stmt 0 view .LVU985
 2746 0070 836B     		ldr	r3, [r0, #56]
 2747              	.LVL254:
 989:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 2748              		.loc 1 989 20 view .LVU986
 2749 0072 43F00063 		orr	r3, r3, #134217728
 2750 0076 8363     		str	r3, [r0, #56]
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2751              		.loc 1 990 5 is_stmt 1 view .LVU987
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2752              		.loc 1 990 12 is_stmt 0 view .LVU988
 2753 0078 0120     		movs	r0, #1
 2754              	.LVL255:
 990:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2755              		.loc 1 990 12 view .LVU989
 2756 007a 32E0     		b	.L167
 2757              	.LVL256:
 2758              	.L177:
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2759              		.loc 1 999 7 is_stmt 1 view .LVU990
 999:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2760              		.loc 1 999 22 is_stmt 0 view .LVU991
 2761 007c 836B     		ldr	r3, [r0, #56]
 2762 007e 43F00073 		orr	r3, r3, #33554432
 2763 0082 8363     		str	r3, [r0, #56]
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2764              		.loc 1 1000 7 is_stmt 1 view .LVU992
ARM GAS  D:\Temp\cccH9bx8.s 			page 123


1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2765              		.loc 1 1000 14 is_stmt 0 view .LVU993
 2766 0084 0120     		movs	r0, #1
 2767              	.LVL257:
1000:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2768              		.loc 1 1000 14 view .LVU994
 2769 0086 2CE0     		b	.L167
 2770              	.LVL258:
 2771              	.L170:
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2772              		.loc 1 1034 5 is_stmt 1 view .LVU995
1034:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 2773              		.loc 1 1034 26 is_stmt 0 view .LVU996
 2774 0088 4FF0FF33 		mov	r3, #-1
 2775 008c 0093     		str	r3, [sp]
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2776              		.loc 1 1035 5 is_stmt 1 view .LVU997
1035:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 2777              		.loc 1 1035 26 is_stmt 0 view .LVU998
 2778 008e 0197     		str	r7, [sp, #4]
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2779              		.loc 1 1036 5 is_stmt 1 view .LVU999
1036:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 2780              		.loc 1 1036 26 is_stmt 0 view .LVU1000
 2781 0090 9023     		movs	r3, #144
 2782 0092 0293     		str	r3, [sp, #8]
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2783              		.loc 1 1037 5 is_stmt 1 view .LVU1001
1037:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 2784              		.loc 1 1037 26 is_stmt 0 view .LVU1002
 2785 0094 0223     		movs	r3, #2
 2786 0096 0393     		str	r3, [sp, #12]
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2787              		.loc 1 1038 5 is_stmt 1 view .LVU1003
1038:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 2788              		.loc 1 1038 26 is_stmt 0 view .LVU1004
 2789 0098 0023     		movs	r3, #0
 2790 009a 0493     		str	r3, [sp, #16]
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2791              		.loc 1 1039 5 is_stmt 1 view .LVU1005
1039:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 2792              		.loc 1 1039 26 is_stmt 0 view .LVU1006
 2793 009c 0123     		movs	r3, #1
 2794 009e 0593     		str	r3, [sp, #20]
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2795              		.loc 1 1040 5 is_stmt 1 view .LVU1007
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2796              		.loc 1 1040 11 is_stmt 0 view .LVU1008
 2797 00a0 6946     		mov	r1, sp
 2798 00a2 2068     		ldr	r0, [r4]
 2799              	.LVL259:
1040:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2800              		.loc 1 1040 11 view .LVU1009
 2801 00a4 FFF7FEFF 		bl	SDIO_ConfigData
 2802              	.LVL260:
1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2803              		.loc 1 1043 5 is_stmt 1 view .LVU1010
ARM GAS  D:\Temp\cccH9bx8.s 			page 124


1043:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2804              		.loc 1 1043 7 is_stmt 0 view .LVU1011
 2805 00a8 012E     		cmp	r6, #1
 2806 00aa 12D9     		bls	.L171
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2807              		.loc 1 1045 7 is_stmt 1 view .LVU1012
1045:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2808              		.loc 1 1045 20 is_stmt 0 view .LVU1013
 2809 00ac 0A23     		movs	r3, #10
 2810 00ae 2363     		str	r3, [r4, #48]
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2811              		.loc 1 1048 7 is_stmt 1 view .LVU1014
1048:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2812              		.loc 1 1048 20 is_stmt 0 view .LVU1015
 2813 00b0 2946     		mov	r1, r5
 2814 00b2 2068     		ldr	r0, [r4]
 2815 00b4 FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 2816              	.LVL261:
 2817              	.L172:
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2818              		.loc 1 1057 5 is_stmt 1 view .LVU1016
1057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2819              		.loc 1 1057 7 is_stmt 0 view .LVU1017
 2820 00b8 A8B1     		cbz	r0, .L174
1060:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 2821              		.loc 1 1060 7 is_stmt 1 view .LVU1018
 2822 00ba 2368     		ldr	r3, [r4]
 2823 00bc 0B4A     		ldr	r2, .L178
 2824 00be 9A63     		str	r2, [r3, #56]
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2825              		.loc 1 1061 7 view .LVU1019
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2826              		.loc 1 1061 22 is_stmt 0 view .LVU1020
 2827 00c0 A36B     		ldr	r3, [r4, #56]
 2828 00c2 1843     		orrs	r0, r0, r3
 2829              	.LVL262:
1061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 2830              		.loc 1 1061 22 view .LVU1021
 2831 00c4 A063     		str	r0, [r4, #56]
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2832              		.loc 1 1062 7 is_stmt 1 view .LVU1022
1062:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 2833              		.loc 1 1062 18 is_stmt 0 view .LVU1023
 2834 00c6 0120     		movs	r0, #1
 2835 00c8 84F83400 		strb	r0, [r4, #52]
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2836              		.loc 1 1063 7 is_stmt 1 view .LVU1024
1063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 2837              		.loc 1 1063 20 is_stmt 0 view .LVU1025
 2838 00cc 0023     		movs	r3, #0
 2839 00ce 2363     		str	r3, [r4, #48]
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2840              		.loc 1 1064 7 is_stmt 1 view .LVU1026
1064:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2841              		.loc 1 1064 14 is_stmt 0 view .LVU1027
 2842 00d0 07E0     		b	.L167
 2843              	.L171:
ARM GAS  D:\Temp\cccH9bx8.s 			page 125


1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2844              		.loc 1 1052 7 is_stmt 1 view .LVU1028
1052:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2845              		.loc 1 1052 20 is_stmt 0 view .LVU1029
 2846 00d2 0923     		movs	r3, #9
 2847 00d4 2363     		str	r3, [r4, #48]
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2848              		.loc 1 1055 7 is_stmt 1 view .LVU1030
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2849              		.loc 1 1055 20 is_stmt 0 view .LVU1031
 2850 00d6 2946     		mov	r1, r5
 2851 00d8 2068     		ldr	r0, [r4]
 2852 00da FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 2853              	.LVL263:
1055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2854              		.loc 1 1055 20 view .LVU1032
 2855 00de EBE7     		b	.L172
 2856              	.LVL264:
 2857              	.L173:
1071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2858              		.loc 1 1071 12 view .LVU1033
 2859 00e0 0220     		movs	r0, #2
 2860              	.LVL265:
 2861              	.L167:
1073:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2862              		.loc 1 1073 1 view .LVU1034
 2863 00e2 07B0     		add	sp, sp, #28
 2864              	.LCFI37:
 2865              		.cfi_remember_state
 2866              		.cfi_def_cfa_offset 20
 2867              		@ sp needed
 2868 00e4 F0BD     		pop	{r4, r5, r6, r7, pc}
 2869              	.LVL266:
 2870              	.L174:
 2871              	.LCFI38:
 2872              		.cfi_restore_state
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2873              		.loc 1 1067 12 view .LVU1035
 2874 00e6 0020     		movs	r0, #0
 2875              	.LVL267:
1067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 2876              		.loc 1 1067 12 view .LVU1036
 2877 00e8 FBE7     		b	.L167
 2878              	.L179:
 2879 00ea 00BF     		.align	2
 2880              	.L178:
 2881 00ec FF054000 		.word	4195839
 2882              		.cfi_endproc
 2883              	.LFE137:
 2885              		.section	.text.HAL_SD_WriteBlocks_IT,"ax",%progbits
 2886              		.align	1
 2887              		.global	HAL_SD_WriteBlocks_IT
 2888              		.syntax unified
 2889              		.thumb
 2890              		.thumb_func
 2891              		.fpu fpv4-sp-d16
 2893              	HAL_SD_WriteBlocks_IT:
ARM GAS  D:\Temp\cccH9bx8.s 			page 126


 2894              	.LVL268:
 2895              	.LFB138:
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2896              		.loc 1 1089 1 is_stmt 1 view -0
 2897              		.cfi_startproc
 2898              		@ args = 0, pretend = 0, frame = 24
 2899              		@ frame_needed = 0, uses_anonymous_args = 0
1089:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 2900              		.loc 1 1089 1 is_stmt 0 view .LVU1038
 2901 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 2902              	.LCFI39:
 2903              		.cfi_def_cfa_offset 20
 2904              		.cfi_offset 4, -20
 2905              		.cfi_offset 5, -16
 2906              		.cfi_offset 6, -12
 2907              		.cfi_offset 7, -8
 2908              		.cfi_offset 14, -4
 2909 0002 87B0     		sub	sp, sp, #28
 2910              	.LCFI40:
 2911              		.cfi_def_cfa_offset 48
 2912 0004 0446     		mov	r4, r0
1090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 2913              		.loc 1 1090 3 is_stmt 1 view .LVU1039
1091:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 2914              		.loc 1 1091 3 view .LVU1040
1092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2915              		.loc 1 1092 3 view .LVU1041
 2916              	.LVL269:
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2917              		.loc 1 1094 3 view .LVU1042
1094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2918              		.loc 1 1094 5 is_stmt 0 view .LVU1043
 2919 0006 0029     		cmp	r1, #0
 2920 0008 3DD0     		beq	.L191
 2921 000a 1546     		mov	r5, r2
 2922 000c 1E46     		mov	r6, r3
 2923 000e 0A46     		mov	r2, r1
 2924              	.LVL270:
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2925              		.loc 1 1100 3 is_stmt 1 view .LVU1044
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2926              		.loc 1 1100 9 is_stmt 0 view .LVU1045
 2927 0010 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 2928              	.LVL271:
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2929              		.loc 1 1100 9 view .LVU1046
 2930 0014 DBB2     		uxtb	r3, r3
1100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 2931              		.loc 1 1100 5 view .LVU1047
 2932 0016 012B     		cmp	r3, #1
 2933 0018 63D1     		bne	.L189
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2934              		.loc 1 1102 5 is_stmt 1 view .LVU1048
1102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2935              		.loc 1 1102 20 is_stmt 0 view .LVU1049
 2936 001a 0023     		movs	r3, #0
 2937 001c 8363     		str	r3, [r0, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 127


1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2938              		.loc 1 1104 5 is_stmt 1 view .LVU1050
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2939              		.loc 1 1104 13 is_stmt 0 view .LVU1051
 2940 001e AB19     		adds	r3, r5, r6
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2941              		.loc 1 1104 45 view .LVU1052
 2942 0020 C16D     		ldr	r1, [r0, #92]
 2943              	.LVL272:
1104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2944              		.loc 1 1104 7 view .LVU1053
 2945 0022 8B42     		cmp	r3, r1
 2946 0024 35D8     		bhi	.L192
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2947              		.loc 1 1110 5 is_stmt 1 view .LVU1054
1110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2948              		.loc 1 1110 16 is_stmt 0 view .LVU1055
 2949 0026 0323     		movs	r3, #3
 2950 0028 80F83430 		strb	r3, [r0, #52]
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2951              		.loc 1 1113 5 is_stmt 1 view .LVU1056
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2952              		.loc 1 1113 8 is_stmt 0 view .LVU1057
 2953 002c 0368     		ldr	r3, [r0]
1113:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2954              		.loc 1 1113 26 view .LVU1058
 2955 002e 0021     		movs	r1, #0
 2956 0030 D962     		str	r1, [r3, #44]
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2957              		.loc 1 1115 5 is_stmt 1 view .LVU1059
1115:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->TxXferSize = BLOCKSIZE * NumberOfBlocks;
 2958              		.loc 1 1115 21 is_stmt 0 view .LVU1060
 2959 0032 0262     		str	r2, [r0, #32]
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2960              		.loc 1 1116 5 is_stmt 1 view .LVU1061
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2961              		.loc 1 1116 33 is_stmt 0 view .LVU1062
 2962 0034 7702     		lsls	r7, r6, #9
1116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 2963              		.loc 1 1116 21 view .LVU1063
 2964 0036 4762     		str	r7, [r0, #36]
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2965              		.loc 1 1120 5 is_stmt 1 view .LVU1064
 2966 0038 0268     		ldr	r2, [r0]
 2967              	.LVL273:
1120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 2968              		.loc 1 1120 5 is_stmt 0 view .LVU1065
 2969 003a D36B     		ldr	r3, [r2, #60]
 2970 003c 43F48643 		orr	r3, r3, #17152
 2971 0040 43F01A03 		orr	r3, r3, #26
 2972 0044 D363     		str	r3, [r2, #60]
 2973              	.LVL274:
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2974              		.loc 1 1125 5 is_stmt 1 view .LVU1066
1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2975              		.loc 1 1125 19 is_stmt 0 view .LVU1067
 2976 0046 436C     		ldr	r3, [r0, #68]
ARM GAS  D:\Temp\cccH9bx8.s 			page 128


1125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2977              		.loc 1 1125 7 view .LVU1068
 2978 0048 012B     		cmp	r3, #1
 2979 004a 00D0     		beq	.L184
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2980              		.loc 1 1127 7 is_stmt 1 view .LVU1069
1127:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 2981              		.loc 1 1127 11 is_stmt 0 view .LVU1070
 2982 004c 6D02     		lsls	r5, r5, #9
 2983              	.LVL275:
 2984              	.L184:
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2985              		.loc 1 1131 5 is_stmt 1 view .LVU1071
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2986              		.loc 1 1131 18 is_stmt 0 view .LVU1072
 2987 004e 4FF40071 		mov	r1, #512
 2988 0052 2068     		ldr	r0, [r4]
 2989              	.LVL276:
1131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 2990              		.loc 1 1131 18 view .LVU1073
 2991 0054 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 2992              	.LVL277:
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2993              		.loc 1 1132 5 is_stmt 1 view .LVU1074
1132:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2994              		.loc 1 1132 7 is_stmt 0 view .LVU1075
 2995 0058 0346     		mov	r3, r0
 2996 005a 00BB     		cbnz	r0, .L193
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2997              		.loc 1 1142 5 is_stmt 1 view .LVU1076
1142:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 2998              		.loc 1 1142 7 is_stmt 0 view .LVU1077
 2999 005c 012E     		cmp	r6, #1
 3000 005e 28D9     		bls	.L186
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3001              		.loc 1 1144 7 is_stmt 1 view .LVU1078
1144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3002              		.loc 1 1144 20 is_stmt 0 view .LVU1079
 3003 0060 2823     		movs	r3, #40
 3004 0062 2363     		str	r3, [r4, #48]
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3005              		.loc 1 1147 7 is_stmt 1 view .LVU1080
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3006              		.loc 1 1147 20 is_stmt 0 view .LVU1081
 3007 0064 2946     		mov	r1, r5
 3008 0066 2068     		ldr	r0, [r4]
 3009              	.LVL278:
1147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3010              		.loc 1 1147 20 view .LVU1082
 3011 0068 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3012              	.LVL279:
 3013              	.L187:
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3014              		.loc 1 1156 5 is_stmt 1 view .LVU1083
1156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3015              		.loc 1 1156 7 is_stmt 0 view .LVU1084
 3016 006c 40B3     		cbz	r0, .L188
ARM GAS  D:\Temp\cccH9bx8.s 			page 129


1159:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3017              		.loc 1 1159 7 is_stmt 1 view .LVU1085
 3018 006e 2368     		ldr	r3, [r4]
 3019 0070 1D4A     		ldr	r2, .L194
 3020 0072 9A63     		str	r2, [r3, #56]
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3021              		.loc 1 1160 7 view .LVU1086
1160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3022              		.loc 1 1160 22 is_stmt 0 view .LVU1087
 3023 0074 A36B     		ldr	r3, [r4, #56]
 3024 0076 0343     		orrs	r3, r3, r0
 3025 0078 A363     		str	r3, [r4, #56]
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3026              		.loc 1 1161 7 is_stmt 1 view .LVU1088
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3027              		.loc 1 1161 18 is_stmt 0 view .LVU1089
 3028 007a 0120     		movs	r0, #1
 3029              	.LVL280:
1161:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3030              		.loc 1 1161 18 view .LVU1090
 3031 007c 84F83400 		strb	r0, [r4, #52]
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3032              		.loc 1 1162 7 is_stmt 1 view .LVU1091
1162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3033              		.loc 1 1162 20 is_stmt 0 view .LVU1092
 3034 0080 0023     		movs	r3, #0
 3035 0082 2363     		str	r3, [r4, #48]
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3036              		.loc 1 1163 7 is_stmt 1 view .LVU1093
1163:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3037              		.loc 1 1163 14 is_stmt 0 view .LVU1094
 3038 0084 2EE0     		b	.L182
 3039              	.LVL281:
 3040              	.L191:
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3041              		.loc 1 1096 5 is_stmt 1 view .LVU1095
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3042              		.loc 1 1096 20 is_stmt 0 view .LVU1096
 3043 0086 836B     		ldr	r3, [r0, #56]
 3044              	.LVL282:
1096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3045              		.loc 1 1096 20 view .LVU1097
 3046 0088 43F00063 		orr	r3, r3, #134217728
 3047 008c 8363     		str	r3, [r0, #56]
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3048              		.loc 1 1097 5 is_stmt 1 view .LVU1098
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3049              		.loc 1 1097 12 is_stmt 0 view .LVU1099
 3050 008e 0120     		movs	r0, #1
 3051              	.LVL283:
1097:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3052              		.loc 1 1097 12 view .LVU1100
 3053 0090 28E0     		b	.L182
 3054              	.LVL284:
 3055              	.L192:
1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3056              		.loc 1 1106 7 is_stmt 1 view .LVU1101
ARM GAS  D:\Temp\cccH9bx8.s 			page 130


1106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3057              		.loc 1 1106 22 is_stmt 0 view .LVU1102
 3058 0092 836B     		ldr	r3, [r0, #56]
 3059 0094 43F00073 		orr	r3, r3, #33554432
 3060 0098 8363     		str	r3, [r0, #56]
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3061              		.loc 1 1107 7 is_stmt 1 view .LVU1103
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3062              		.loc 1 1107 14 is_stmt 0 view .LVU1104
 3063 009a 0120     		movs	r0, #1
 3064              	.LVL285:
1107:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3065              		.loc 1 1107 14 view .LVU1105
 3066 009c 22E0     		b	.L182
 3067              	.LVL286:
 3068              	.L193:
1135:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3069              		.loc 1 1135 7 is_stmt 1 view .LVU1106
 3070 009e 2268     		ldr	r2, [r4]
 3071 00a0 1149     		ldr	r1, .L194
 3072 00a2 9163     		str	r1, [r2, #56]
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3073              		.loc 1 1136 7 view .LVU1107
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3074              		.loc 1 1136 22 is_stmt 0 view .LVU1108
 3075 00a4 A06B     		ldr	r0, [r4, #56]
 3076              	.LVL287:
1136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3077              		.loc 1 1136 22 view .LVU1109
 3078 00a6 1843     		orrs	r0, r0, r3
 3079 00a8 A063     		str	r0, [r4, #56]
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3080              		.loc 1 1137 7 is_stmt 1 view .LVU1110
1137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3081              		.loc 1 1137 18 is_stmt 0 view .LVU1111
 3082 00aa 0120     		movs	r0, #1
 3083 00ac 84F83400 		strb	r0, [r4, #52]
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3084              		.loc 1 1138 7 is_stmt 1 view .LVU1112
1138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3085              		.loc 1 1138 14 is_stmt 0 view .LVU1113
 3086 00b0 18E0     		b	.L182
 3087              	.LVL288:
 3088              	.L186:
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3089              		.loc 1 1151 7 is_stmt 1 view .LVU1114
1151:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3090              		.loc 1 1151 20 is_stmt 0 view .LVU1115
 3091 00b2 1823     		movs	r3, #24
 3092 00b4 2363     		str	r3, [r4, #48]
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3093              		.loc 1 1154 7 is_stmt 1 view .LVU1116
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3094              		.loc 1 1154 20 is_stmt 0 view .LVU1117
 3095 00b6 2946     		mov	r1, r5
 3096 00b8 2068     		ldr	r0, [r4]
 3097              	.LVL289:
ARM GAS  D:\Temp\cccH9bx8.s 			page 131


1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3098              		.loc 1 1154 20 view .LVU1118
 3099 00ba FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3100              	.LVL290:
1154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3101              		.loc 1 1154 20 view .LVU1119
 3102 00be D5E7     		b	.L187
 3103              	.L188:
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3104              		.loc 1 1167 5 is_stmt 1 view .LVU1120
1167:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3105              		.loc 1 1167 26 is_stmt 0 view .LVU1121
 3106 00c0 4FF0FF33 		mov	r3, #-1
 3107 00c4 0093     		str	r3, [sp]
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3108              		.loc 1 1168 5 is_stmt 1 view .LVU1122
1168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3109              		.loc 1 1168 26 is_stmt 0 view .LVU1123
 3110 00c6 0197     		str	r7, [sp, #4]
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3111              		.loc 1 1169 5 is_stmt 1 view .LVU1124
1169:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3112              		.loc 1 1169 26 is_stmt 0 view .LVU1125
 3113 00c8 9023     		movs	r3, #144
 3114 00ca 0293     		str	r3, [sp, #8]
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3115              		.loc 1 1170 5 is_stmt 1 view .LVU1126
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3116              		.loc 1 1170 26 is_stmt 0 view .LVU1127
 3117 00cc 0025     		movs	r5, #0
 3118              	.LVL291:
1170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3119              		.loc 1 1170 26 view .LVU1128
 3120 00ce 0395     		str	r5, [sp, #12]
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 3121              		.loc 1 1171 5 is_stmt 1 view .LVU1129
1171:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     config.DPSM          = SDIO_DPSM_ENABLE;
 3122              		.loc 1 1171 26 is_stmt 0 view .LVU1130
 3123 00d0 0495     		str	r5, [sp, #16]
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 3124              		.loc 1 1172 5 is_stmt 1 view .LVU1131
1172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_ConfigData(hsd->Instance, &config);
 3125              		.loc 1 1172 26 is_stmt 0 view .LVU1132
 3126 00d2 0123     		movs	r3, #1
 3127 00d4 0593     		str	r3, [sp, #20]
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3128              		.loc 1 1173 5 is_stmt 1 view .LVU1133
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3129              		.loc 1 1173 11 is_stmt 0 view .LVU1134
 3130 00d6 6946     		mov	r1, sp
 3131 00d8 2068     		ldr	r0, [r4]
 3132              	.LVL292:
1173:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3133              		.loc 1 1173 11 view .LVU1135
 3134 00da FFF7FEFF 		bl	SDIO_ConfigData
 3135              	.LVL293:
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  D:\Temp\cccH9bx8.s 			page 132


 3136              		.loc 1 1175 5 is_stmt 1 view .LVU1136
1175:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3137              		.loc 1 1175 12 is_stmt 0 view .LVU1137
 3138 00de 2846     		mov	r0, r5
 3139 00e0 00E0     		b	.L182
 3140              	.LVL294:
 3141              	.L189:
1179:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3142              		.loc 1 1179 12 view .LVU1138
 3143 00e2 0220     		movs	r0, #2
 3144              	.LVL295:
 3145              	.L182:
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3146              		.loc 1 1181 1 view .LVU1139
 3147 00e4 07B0     		add	sp, sp, #28
 3148              	.LCFI41:
 3149              		.cfi_def_cfa_offset 20
 3150              		@ sp needed
 3151 00e6 F0BD     		pop	{r4, r5, r6, r7, pc}
 3152              	.LVL296:
 3153              	.L195:
1181:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3154              		.loc 1 1181 1 view .LVU1140
 3155              		.align	2
 3156              	.L194:
 3157 00e8 FF054000 		.word	4195839
 3158              		.cfi_endproc
 3159              	.LFE138:
 3161              		.section	.text.HAL_SD_ReadBlocks_DMA,"ax",%progbits
 3162              		.align	1
 3163              		.global	HAL_SD_ReadBlocks_DMA
 3164              		.syntax unified
 3165              		.thumb
 3166              		.thumb_func
 3167              		.fpu fpv4-sp-d16
 3169              	HAL_SD_ReadBlocks_DMA:
 3170              	.LVL297:
 3171              	.LFB139:
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3172              		.loc 1 1197 1 is_stmt 1 view -0
 3173              		.cfi_startproc
 3174              		@ args = 0, pretend = 0, frame = 24
 3175              		@ frame_needed = 0, uses_anonymous_args = 0
1197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3176              		.loc 1 1197 1 is_stmt 0 view .LVU1142
 3177 0000 2DE9F041 		push	{r4, r5, r6, r7, r8, lr}
 3178              	.LCFI42:
 3179              		.cfi_def_cfa_offset 24
 3180              		.cfi_offset 4, -24
 3181              		.cfi_offset 5, -20
 3182              		.cfi_offset 6, -16
 3183              		.cfi_offset 7, -12
 3184              		.cfi_offset 8, -8
 3185              		.cfi_offset 14, -4
 3186 0004 86B0     		sub	sp, sp, #24
 3187              	.LCFI43:
 3188              		.cfi_def_cfa_offset 48
ARM GAS  D:\Temp\cccH9bx8.s 			page 133


 3189 0006 0446     		mov	r4, r0
1198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 3190              		.loc 1 1198 3 is_stmt 1 view .LVU1143
1199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3191              		.loc 1 1199 3 view .LVU1144
1200:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3192              		.loc 1 1200 3 view .LVU1145
 3193              	.LVL298:
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3194              		.loc 1 1202 3 view .LVU1146
1202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3195              		.loc 1 1202 5 is_stmt 0 view .LVU1147
 3196 0008 A1B1     		cbz	r1, .L207
 3197 000a 1746     		mov	r7, r2
 3198 000c 1E46     		mov	r6, r3
 3199 000e 0A46     		mov	r2, r1
 3200              	.LVL299:
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3201              		.loc 1 1208 3 is_stmt 1 view .LVU1148
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3202              		.loc 1 1208 9 is_stmt 0 view .LVU1149
 3203 0010 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 3204              	.LVL300:
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3205              		.loc 1 1208 9 view .LVU1150
 3206 0014 DBB2     		uxtb	r3, r3
1208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3207              		.loc 1 1208 5 view .LVU1151
 3208 0016 012B     		cmp	r3, #1
 3209 0018 40F08780 		bne	.L205
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3210              		.loc 1 1210 5 is_stmt 1 view .LVU1152
1210:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3211              		.loc 1 1210 20 is_stmt 0 view .LVU1153
 3212 001c 0023     		movs	r3, #0
 3213 001e 8363     		str	r3, [r0, #56]
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3214              		.loc 1 1212 5 is_stmt 1 view .LVU1154
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3215              		.loc 1 1212 13 is_stmt 0 view .LVU1155
 3216 0020 BB19     		adds	r3, r7, r6
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3217              		.loc 1 1212 45 view .LVU1156
 3218 0022 C16D     		ldr	r1, [r0, #92]
 3219              	.LVL301:
1212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3220              		.loc 1 1212 7 view .LVU1157
 3221 0024 8B42     		cmp	r3, r1
 3222 0026 0BD9     		bls	.L199
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3223              		.loc 1 1214 7 is_stmt 1 view .LVU1158
1214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3224              		.loc 1 1214 22 is_stmt 0 view .LVU1159
 3225 0028 836B     		ldr	r3, [r0, #56]
 3226 002a 43F00073 		orr	r3, r3, #33554432
 3227 002e 8363     		str	r3, [r0, #56]
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
ARM GAS  D:\Temp\cccH9bx8.s 			page 134


 3228              		.loc 1 1215 7 is_stmt 1 view .LVU1160
1215:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3229              		.loc 1 1215 14 is_stmt 0 view .LVU1161
 3230 0030 0125     		movs	r5, #1
 3231 0032 7BE0     		b	.L198
 3232              	.LVL302:
 3233              	.L207:
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3234              		.loc 1 1204 5 is_stmt 1 view .LVU1162
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3235              		.loc 1 1204 20 is_stmt 0 view .LVU1163
 3236 0034 836B     		ldr	r3, [r0, #56]
 3237              	.LVL303:
1204:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3238              		.loc 1 1204 20 view .LVU1164
 3239 0036 43F00063 		orr	r3, r3, #134217728
 3240 003a 8363     		str	r3, [r0, #56]
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3241              		.loc 1 1205 5 is_stmt 1 view .LVU1165
1205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3242              		.loc 1 1205 12 is_stmt 0 view .LVU1166
 3243 003c 0125     		movs	r5, #1
 3244 003e 75E0     		b	.L198
 3245              	.LVL304:
 3246              	.L199:
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3247              		.loc 1 1218 5 is_stmt 1 view .LVU1167
1218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3248              		.loc 1 1218 16 is_stmt 0 view .LVU1168
 3249 0040 0323     		movs	r3, #3
 3250 0042 80F83430 		strb	r3, [r0, #52]
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3251              		.loc 1 1221 5 is_stmt 1 view .LVU1169
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3252              		.loc 1 1221 8 is_stmt 0 view .LVU1170
 3253 0046 0368     		ldr	r3, [r0]
1221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3254              		.loc 1 1221 26 view .LVU1171
 3255 0048 0021     		movs	r1, #0
 3256 004a D962     		str	r1, [r3, #44]
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 3257              		.loc 1 1224 5 is_stmt 1 view .LVU1172
 3258 004c 0068     		ldr	r0, [r0]
 3259              	.LVL305:
1224:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 3260              		.loc 1 1224 5 is_stmt 0 view .LVU1173
 3261 004e C36B     		ldr	r3, [r0, #60]
 3262 0050 43F44A73 		orr	r3, r3, #808
 3263 0054 43F00203 		orr	r3, r3, #2
 3264 0058 C363     		str	r3, [r0, #60]
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3265              		.loc 1 1230 5 is_stmt 1 view .LVU1174
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3266              		.loc 1 1230 8 is_stmt 0 view .LVU1175
 3267 005a 236C     		ldr	r3, [r4, #64]
1230:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3268              		.loc 1 1230 35 view .LVU1176
ARM GAS  D:\Temp\cccH9bx8.s 			page 135


 3269 005c 3548     		ldr	r0, .L209
 3270 005e D863     		str	r0, [r3, #60]
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3271              		.loc 1 1233 5 is_stmt 1 view .LVU1177
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3272              		.loc 1 1233 8 is_stmt 0 view .LVU1178
 3273 0060 236C     		ldr	r3, [r4, #64]
1233:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3274              		.loc 1 1233 36 view .LVU1179
 3275 0062 3548     		ldr	r0, .L209+4
 3276 0064 D864     		str	r0, [r3, #76]
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3277              		.loc 1 1236 5 is_stmt 1 view .LVU1180
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3278              		.loc 1 1236 8 is_stmt 0 view .LVU1181
 3279 0066 236C     		ldr	r3, [r4, #64]
1236:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3280              		.loc 1 1236 36 view .LVU1182
 3281 0068 1965     		str	r1, [r3, #80]
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3282              		.loc 1 1239 5 is_stmt 1 view .LVU1183
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3283              		.loc 1 1239 52 is_stmt 0 view .LVU1184
 3284 006a 2168     		ldr	r1, [r4]
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3285              		.loc 1 1239 87 view .LVU1185
 3286 006c 4FEA4628 		lsl	r8, r6, #9
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3287              		.loc 1 1239 8 view .LVU1186
 3288 0070 4FEA9803 		lsr	r3, r8, #2
 3289 0074 8031     		adds	r1, r1, #128
 3290 0076 206C     		ldr	r0, [r4, #64]
 3291 0078 FFF7FEFF 		bl	HAL_DMA_Start_IT
 3292              	.LVL306:
1239:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3293              		.loc 1 1239 7 view .LVU1187
 3294 007c 0546     		mov	r5, r0
 3295 007e B8B9     		cbnz	r0, .L208
1250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3296              		.loc 1 1250 7 is_stmt 1 view .LVU1188
 3297 0080 2E4B     		ldr	r3, .L209+8
 3298 0082 0122     		movs	r2, #1
 3299 0084 1A60     		str	r2, [r3]
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3300              		.loc 1 1252 7 view .LVU1189
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3301              		.loc 1 1252 21 is_stmt 0 view .LVU1190
 3302 0086 636C     		ldr	r3, [r4, #68]
1252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3303              		.loc 1 1252 9 view .LVU1191
 3304 0088 9342     		cmp	r3, r2
 3305 008a 00D0     		beq	.L201
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3306              		.loc 1 1254 9 is_stmt 1 view .LVU1192
1254:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3307              		.loc 1 1254 13 is_stmt 0 view .LVU1193
 3308 008c 7F02     		lsls	r7, r7, #9
ARM GAS  D:\Temp\cccH9bx8.s 			page 136


 3309              	.LVL307:
 3310              	.L201:
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3311              		.loc 1 1258 7 is_stmt 1 view .LVU1194
1258:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3312              		.loc 1 1258 20 is_stmt 0 view .LVU1195
 3313 008e 4FF40071 		mov	r1, #512
 3314 0092 2068     		ldr	r0, [r4]
 3315 0094 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 3316              	.LVL308:
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3317              		.loc 1 1259 7 is_stmt 1 view .LVU1196
1259:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3318              		.loc 1 1259 9 is_stmt 0 view .LVU1197
 3319 0098 0346     		mov	r3, r0
 3320 009a C8B1     		cbz	r0, .L202
1262:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3321              		.loc 1 1262 9 is_stmt 1 view .LVU1198
 3322 009c 2268     		ldr	r2, [r4]
 3323 009e 2849     		ldr	r1, .L209+12
 3324 00a0 9163     		str	r1, [r2, #56]
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3325              		.loc 1 1263 9 view .LVU1199
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3326              		.loc 1 1263 24 is_stmt 0 view .LVU1200
 3327 00a2 A06B     		ldr	r0, [r4, #56]
 3328              	.LVL309:
1263:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3329              		.loc 1 1263 24 view .LVU1201
 3330 00a4 1843     		orrs	r0, r0, r3
 3331 00a6 A063     		str	r0, [r4, #56]
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 3332              		.loc 1 1264 9 is_stmt 1 view .LVU1202
1264:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 3333              		.loc 1 1264 20 is_stmt 0 view .LVU1203
 3334 00a8 0125     		movs	r5, #1
 3335 00aa 84F83450 		strb	r5, [r4, #52]
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3336              		.loc 1 1265 9 is_stmt 1 view .LVU1204
1265:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3337              		.loc 1 1265 16 is_stmt 0 view .LVU1205
 3338 00ae 3DE0     		b	.L198
 3339              	.LVL310:
 3340              	.L208:
1241:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       __HAL_SD_CLEAR_FLAG(hsd, SDIO_STATIC_FLAGS);
 3341              		.loc 1 1241 7 is_stmt 1 view .LVU1206
 3342 00b0 2268     		ldr	r2, [r4]
 3343 00b2 D36B     		ldr	r3, [r2, #60]
 3344 00b4 23F49573 		bic	r3, r3, #298
 3345 00b8 D363     		str	r3, [r2, #60]
1242:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3346              		.loc 1 1242 7 view .LVU1207
 3347 00ba 2368     		ldr	r3, [r4]
 3348 00bc 204A     		ldr	r2, .L209+12
 3349 00be 9A63     		str	r2, [r3, #56]
1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3350              		.loc 1 1243 7 view .LVU1208
ARM GAS  D:\Temp\cccH9bx8.s 			page 137


1243:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3351              		.loc 1 1243 22 is_stmt 0 view .LVU1209
 3352 00c0 A36B     		ldr	r3, [r4, #56]
 3353 00c2 43F08043 		orr	r3, r3, #1073741824
 3354 00c6 A363     		str	r3, [r4, #56]
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3355              		.loc 1 1244 7 is_stmt 1 view .LVU1210
1244:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3356              		.loc 1 1244 18 is_stmt 0 view .LVU1211
 3357 00c8 0125     		movs	r5, #1
 3358 00ca 84F83450 		strb	r5, [r4, #52]
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3359              		.loc 1 1245 7 is_stmt 1 view .LVU1212
1245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3360              		.loc 1 1245 14 is_stmt 0 view .LVU1213
 3361 00ce 2DE0     		b	.L198
 3362              	.LVL311:
 3363              	.L202:
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3364              		.loc 1 1269 7 is_stmt 1 view .LVU1214
1269:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3365              		.loc 1 1269 28 is_stmt 0 view .LVU1215
 3366 00d0 4FF0FF33 		mov	r3, #-1
 3367 00d4 0093     		str	r3, [sp]
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3368              		.loc 1 1270 7 is_stmt 1 view .LVU1216
1270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3369              		.loc 1 1270 28 is_stmt 0 view .LVU1217
 3370 00d6 CDF80480 		str	r8, [sp, #4]
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3371              		.loc 1 1271 7 is_stmt 1 view .LVU1218
1271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_SDIO;
 3372              		.loc 1 1271 28 is_stmt 0 view .LVU1219
 3373 00da 9023     		movs	r3, #144
 3374 00dc 0293     		str	r3, [sp, #8]
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3375              		.loc 1 1272 7 is_stmt 1 view .LVU1220
1272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3376              		.loc 1 1272 28 is_stmt 0 view .LVU1221
 3377 00de 0223     		movs	r3, #2
 3378 00e0 0393     		str	r3, [sp, #12]
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3379              		.loc 1 1273 7 is_stmt 1 view .LVU1222
1273:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3380              		.loc 1 1273 28 is_stmt 0 view .LVU1223
 3381 00e2 0023     		movs	r3, #0
 3382 00e4 0493     		str	r3, [sp, #16]
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3383              		.loc 1 1274 7 is_stmt 1 view .LVU1224
1274:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3384              		.loc 1 1274 28 is_stmt 0 view .LVU1225
 3385 00e6 0123     		movs	r3, #1
 3386 00e8 0593     		str	r3, [sp, #20]
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3387              		.loc 1 1275 7 is_stmt 1 view .LVU1226
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3388              		.loc 1 1275 13 is_stmt 0 view .LVU1227
ARM GAS  D:\Temp\cccH9bx8.s 			page 138


 3389 00ea 6946     		mov	r1, sp
 3390 00ec 2068     		ldr	r0, [r4]
 3391              	.LVL312:
1275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3392              		.loc 1 1275 13 view .LVU1228
 3393 00ee FFF7FEFF 		bl	SDIO_ConfigData
 3394              	.LVL313:
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3395              		.loc 1 1278 7 is_stmt 1 view .LVU1229
1278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3396              		.loc 1 1278 9 is_stmt 0 view .LVU1230
 3397 00f2 012E     		cmp	r6, #1
 3398 00f4 12D9     		bls	.L203
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3399              		.loc 1 1280 9 is_stmt 1 view .LVU1231
1280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3400              		.loc 1 1280 22 is_stmt 0 view .LVU1232
 3401 00f6 8223     		movs	r3, #130
 3402 00f8 2363     		str	r3, [r4, #48]
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3403              		.loc 1 1283 9 is_stmt 1 view .LVU1233
1283:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3404              		.loc 1 1283 22 is_stmt 0 view .LVU1234
 3405 00fa 3946     		mov	r1, r7
 3406 00fc 2068     		ldr	r0, [r4]
 3407 00fe FFF7FEFF 		bl	SDMMC_CmdReadMultiBlock
 3408              	.LVL314:
 3409              	.L204:
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3410              		.loc 1 1292 7 is_stmt 1 view .LVU1235
1292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3411              		.loc 1 1292 9 is_stmt 0 view .LVU1236
 3412 0102 98B1     		cbz	r0, .L198
1295:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3413              		.loc 1 1295 9 is_stmt 1 view .LVU1237
 3414 0104 2368     		ldr	r3, [r4]
 3415 0106 0E4A     		ldr	r2, .L209+12
 3416 0108 9A63     		str	r2, [r3, #56]
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3417              		.loc 1 1296 9 view .LVU1238
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3418              		.loc 1 1296 24 is_stmt 0 view .LVU1239
 3419 010a A36B     		ldr	r3, [r4, #56]
 3420 010c 1843     		orrs	r0, r0, r3
 3421              	.LVL315:
1296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3422              		.loc 1 1296 24 view .LVU1240
 3423 010e A063     		str	r0, [r4, #56]
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 3424              		.loc 1 1297 9 is_stmt 1 view .LVU1241
1297:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 3425              		.loc 1 1297 20 is_stmt 0 view .LVU1242
 3426 0110 0125     		movs	r5, #1
 3427 0112 84F83450 		strb	r5, [r4, #52]
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 3428              		.loc 1 1298 9 is_stmt 1 view .LVU1243
1298:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
ARM GAS  D:\Temp\cccH9bx8.s 			page 139


 3429              		.loc 1 1298 22 is_stmt 0 view .LVU1244
 3430 0116 0023     		movs	r3, #0
 3431 0118 2363     		str	r3, [r4, #48]
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3432              		.loc 1 1299 9 is_stmt 1 view .LVU1245
1299:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3433              		.loc 1 1299 16 is_stmt 0 view .LVU1246
 3434 011a 07E0     		b	.L198
 3435              	.L203:
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3436              		.loc 1 1287 9 is_stmt 1 view .LVU1247
1287:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3437              		.loc 1 1287 22 is_stmt 0 view .LVU1248
 3438 011c 8123     		movs	r3, #129
 3439 011e 2363     		str	r3, [r4, #48]
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3440              		.loc 1 1290 9 is_stmt 1 view .LVU1249
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3441              		.loc 1 1290 22 is_stmt 0 view .LVU1250
 3442 0120 3946     		mov	r1, r7
 3443 0122 2068     		ldr	r0, [r4]
 3444 0124 FFF7FEFF 		bl	SDMMC_CmdReadSingleBlock
 3445              	.LVL316:
1290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3446              		.loc 1 1290 22 view .LVU1251
 3447 0128 EBE7     		b	.L204
 3448              	.LVL317:
 3449              	.L205:
1307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3450              		.loc 1 1307 12 view .LVU1252
 3451 012a 0225     		movs	r5, #2
 3452              	.LVL318:
 3453              	.L198:
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3454              		.loc 1 1309 1 view .LVU1253
 3455 012c 2846     		mov	r0, r5
 3456 012e 06B0     		add	sp, sp, #24
 3457              	.LCFI44:
 3458              		.cfi_def_cfa_offset 24
 3459              		@ sp needed
 3460 0130 BDE8F081 		pop	{r4, r5, r6, r7, r8, pc}
 3461              	.LVL319:
 3462              	.L210:
1309:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3463              		.loc 1 1309 1 view .LVU1254
 3464              		.align	2
 3465              	.L209:
 3466 0134 00000000 		.word	SD_DMAReceiveCplt
 3467 0138 00000000 		.word	SD_DMAError
 3468 013c 8C852542 		.word	1109755276
 3469 0140 FF054000 		.word	4195839
 3470              		.cfi_endproc
 3471              	.LFE139:
 3473              		.section	.text.HAL_SD_WriteBlocks_DMA,"ax",%progbits
 3474              		.align	1
 3475              		.global	HAL_SD_WriteBlocks_DMA
 3476              		.syntax unified
ARM GAS  D:\Temp\cccH9bx8.s 			page 140


 3477              		.thumb
 3478              		.thumb_func
 3479              		.fpu fpv4-sp-d16
 3481              	HAL_SD_WriteBlocks_DMA:
 3482              	.LVL320:
 3483              	.LFB140:
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3484              		.loc 1 1325 1 is_stmt 1 view -0
 3485              		.cfi_startproc
 3486              		@ args = 0, pretend = 0, frame = 24
 3487              		@ frame_needed = 0, uses_anonymous_args = 0
1325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_DataInitTypeDef config;
 3488              		.loc 1 1325 1 is_stmt 0 view .LVU1256
 3489 0000 F0B5     		push	{r4, r5, r6, r7, lr}
 3490              	.LCFI45:
 3491              		.cfi_def_cfa_offset 20
 3492              		.cfi_offset 4, -20
 3493              		.cfi_offset 5, -16
 3494              		.cfi_offset 6, -12
 3495              		.cfi_offset 7, -8
 3496              		.cfi_offset 14, -4
 3497 0002 87B0     		sub	sp, sp, #28
 3498              	.LCFI46:
 3499              		.cfi_def_cfa_offset 48
 3500 0004 0446     		mov	r4, r0
1326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 3501              		.loc 1 1326 3 is_stmt 1 view .LVU1257
1327:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t add = BlockAdd;
 3502              		.loc 1 1327 3 view .LVU1258
1328:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3503              		.loc 1 1328 3 view .LVU1259
 3504              	.LVL321:
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3505              		.loc 1 1330 3 view .LVU1260
1330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3506              		.loc 1 1330 5 is_stmt 0 view .LVU1261
 3507 0006 0029     		cmp	r1, #0
 3508 0008 43D0     		beq	.L223
 3509 000a 1546     		mov	r5, r2
 3510 000c 1E46     		mov	r6, r3
 3511 000e 0F46     		mov	r7, r1
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3512              		.loc 1 1336 3 is_stmt 1 view .LVU1262
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3513              		.loc 1 1336 9 is_stmt 0 view .LVU1263
 3514 0010 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 3515              	.LVL322:
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3516              		.loc 1 1336 9 view .LVU1264
 3517 0014 DBB2     		uxtb	r3, r3
1336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3518              		.loc 1 1336 5 view .LVU1265
 3519 0016 012B     		cmp	r3, #1
 3520 0018 40F08980 		bne	.L221
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3521              		.loc 1 1338 5 is_stmt 1 view .LVU1266
1338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 141


 3522              		.loc 1 1338 20 is_stmt 0 view .LVU1267
 3523 001c 0023     		movs	r3, #0
 3524 001e 8363     		str	r3, [r0, #56]
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3525              		.loc 1 1340 5 is_stmt 1 view .LVU1268
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3526              		.loc 1 1340 13 is_stmt 0 view .LVU1269
 3527 0020 9319     		adds	r3, r2, r6
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3528              		.loc 1 1340 45 view .LVU1270
 3529 0022 C26D     		ldr	r2, [r0, #92]
 3530              	.LVL323:
1340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3531              		.loc 1 1340 7 view .LVU1271
 3532 0024 9342     		cmp	r3, r2
 3533 0026 3AD8     		bhi	.L224
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3534              		.loc 1 1346 5 is_stmt 1 view .LVU1272
1346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3535              		.loc 1 1346 16 is_stmt 0 view .LVU1273
 3536 0028 0323     		movs	r3, #3
 3537 002a 80F83430 		strb	r3, [r0, #52]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3538              		.loc 1 1349 5 is_stmt 1 view .LVU1274
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3539              		.loc 1 1349 8 is_stmt 0 view .LVU1275
 3540 002e 0368     		ldr	r3, [r0]
1349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3541              		.loc 1 1349 26 view .LVU1276
 3542 0030 0022     		movs	r2, #0
 3543 0032 DA62     		str	r2, [r3, #44]
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 3544              		.loc 1 1353 5 is_stmt 1 view .LVU1277
 3545 0034 0168     		ldr	r1, [r0]
 3546              	.LVL324:
1353:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 3547              		.loc 1 1353 5 is_stmt 0 view .LVU1278
 3548 0036 CB6B     		ldr	r3, [r1, #60]
 3549 0038 43F40673 		orr	r3, r3, #536
 3550 003c 43F00203 		orr	r3, r3, #2
 3551 0040 CB63     		str	r3, [r1, #60]
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3552              		.loc 1 1359 5 is_stmt 1 view .LVU1279
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3553              		.loc 1 1359 8 is_stmt 0 view .LVU1280
 3554 0042 C36B     		ldr	r3, [r0, #60]
1359:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3555              		.loc 1 1359 35 view .LVU1281
 3556 0044 3C49     		ldr	r1, .L226
 3557 0046 D963     		str	r1, [r3, #60]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3558              		.loc 1 1362 5 is_stmt 1 view .LVU1282
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3559              		.loc 1 1362 8 is_stmt 0 view .LVU1283
 3560 0048 C36B     		ldr	r3, [r0, #60]
1362:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3561              		.loc 1 1362 36 view .LVU1284
ARM GAS  D:\Temp\cccH9bx8.s 			page 142


 3562 004a 3C49     		ldr	r1, .L226+4
 3563 004c D964     		str	r1, [r3, #76]
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3564              		.loc 1 1365 5 is_stmt 1 view .LVU1285
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3565              		.loc 1 1365 8 is_stmt 0 view .LVU1286
 3566 004e C36B     		ldr	r3, [r0, #60]
1365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3567              		.loc 1 1365 36 view .LVU1287
 3568 0050 1A65     		str	r2, [r3, #80]
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3569              		.loc 1 1367 5 is_stmt 1 view .LVU1288
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3570              		.loc 1 1367 19 is_stmt 0 view .LVU1289
 3571 0052 436C     		ldr	r3, [r0, #68]
1367:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3572              		.loc 1 1367 7 view .LVU1290
 3573 0054 012B     		cmp	r3, #1
 3574 0056 00D0     		beq	.L215
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3575              		.loc 1 1369 7 is_stmt 1 view .LVU1291
1369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3576              		.loc 1 1369 11 is_stmt 0 view .LVU1292
 3577 0058 6D02     		lsls	r5, r5, #9
 3578              	.LVL325:
 3579              	.L215:
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3580              		.loc 1 1373 5 is_stmt 1 view .LVU1293
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3581              		.loc 1 1373 18 is_stmt 0 view .LVU1294
 3582 005a 4FF40071 		mov	r1, #512
 3583 005e 2068     		ldr	r0, [r4]
 3584              	.LVL326:
1373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 3585              		.loc 1 1373 18 view .LVU1295
 3586 0060 FFF7FEFF 		bl	SDMMC_CmdBlockLength
 3587              	.LVL327:
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3588              		.loc 1 1374 5 is_stmt 1 view .LVU1296
1374:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3589              		.loc 1 1374 7 is_stmt 0 view .LVU1297
 3590 0064 0346     		mov	r3, r0
 3591 0066 00BB     		cbnz	r0, .L225
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3592              		.loc 1 1384 5 is_stmt 1 view .LVU1298
1384:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3593              		.loc 1 1384 7 is_stmt 0 view .LVU1299
 3594 0068 012E     		cmp	r6, #1
 3595 006a 28D9     		bls	.L217
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3596              		.loc 1 1386 7 is_stmt 1 view .LVU1300
1386:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3597              		.loc 1 1386 20 is_stmt 0 view .LVU1301
 3598 006c A023     		movs	r3, #160
 3599 006e 2363     		str	r3, [r4, #48]
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3600              		.loc 1 1389 7 is_stmt 1 view .LVU1302
ARM GAS  D:\Temp\cccH9bx8.s 			page 143


1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3601              		.loc 1 1389 20 is_stmt 0 view .LVU1303
 3602 0070 2946     		mov	r1, r5
 3603 0072 2068     		ldr	r0, [r4]
 3604              	.LVL328:
1389:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3605              		.loc 1 1389 20 view .LVU1304
 3606 0074 FFF7FEFF 		bl	SDMMC_CmdWriteMultiBlock
 3607              	.LVL329:
 3608              	.L218:
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3609              		.loc 1 1398 5 is_stmt 1 view .LVU1305
1398:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3610              		.loc 1 1398 7 is_stmt 0 view .LVU1306
 3611 0078 40B3     		cbz	r0, .L219
1401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3612              		.loc 1 1401 7 is_stmt 1 view .LVU1307
 3613 007a 2368     		ldr	r3, [r4]
 3614 007c 304A     		ldr	r2, .L226+8
 3615 007e 9A63     		str	r2, [r3, #56]
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3616              		.loc 1 1402 7 view .LVU1308
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3617              		.loc 1 1402 22 is_stmt 0 view .LVU1309
 3618 0080 A36B     		ldr	r3, [r4, #56]
 3619 0082 1843     		orrs	r0, r0, r3
 3620              	.LVL330:
1402:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3621              		.loc 1 1402 22 view .LVU1310
 3622 0084 A063     		str	r0, [r4, #56]
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3623              		.loc 1 1403 7 is_stmt 1 view .LVU1311
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3624              		.loc 1 1403 18 is_stmt 0 view .LVU1312
 3625 0086 0125     		movs	r5, #1
 3626              	.LVL331:
1403:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3627              		.loc 1 1403 18 view .LVU1313
 3628 0088 84F83450 		strb	r5, [r4, #52]
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3629              		.loc 1 1404 7 is_stmt 1 view .LVU1314
1404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3630              		.loc 1 1404 20 is_stmt 0 view .LVU1315
 3631 008c 0023     		movs	r3, #0
 3632 008e 2363     		str	r3, [r4, #48]
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3633              		.loc 1 1405 7 is_stmt 1 view .LVU1316
1405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3634              		.loc 1 1405 14 is_stmt 0 view .LVU1317
 3635 0090 4EE0     		b	.L213
 3636              	.LVL332:
 3637              	.L223:
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3638              		.loc 1 1332 5 is_stmt 1 view .LVU1318
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3639              		.loc 1 1332 20 is_stmt 0 view .LVU1319
 3640 0092 836B     		ldr	r3, [r0, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 144


 3641              	.LVL333:
1332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 3642              		.loc 1 1332 20 view .LVU1320
 3643 0094 43F00063 		orr	r3, r3, #134217728
 3644 0098 8363     		str	r3, [r0, #56]
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3645              		.loc 1 1333 5 is_stmt 1 view .LVU1321
1333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3646              		.loc 1 1333 12 is_stmt 0 view .LVU1322
 3647 009a 0125     		movs	r5, #1
 3648 009c 48E0     		b	.L213
 3649              	.LVL334:
 3650              	.L224:
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3651              		.loc 1 1342 7 is_stmt 1 view .LVU1323
1342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3652              		.loc 1 1342 22 is_stmt 0 view .LVU1324
 3653 009e 836B     		ldr	r3, [r0, #56]
 3654 00a0 43F00073 		orr	r3, r3, #33554432
 3655 00a4 8363     		str	r3, [r0, #56]
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3656              		.loc 1 1343 7 is_stmt 1 view .LVU1325
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3657              		.loc 1 1343 14 is_stmt 0 view .LVU1326
 3658 00a6 0125     		movs	r5, #1
 3659              	.LVL335:
1343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3660              		.loc 1 1343 14 view .LVU1327
 3661 00a8 42E0     		b	.L213
 3662              	.LVL336:
 3663              	.L225:
1377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 3664              		.loc 1 1377 7 is_stmt 1 view .LVU1328
 3665 00aa 2268     		ldr	r2, [r4]
 3666 00ac 2449     		ldr	r1, .L226+8
 3667 00ae 9163     		str	r1, [r2, #56]
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3668              		.loc 1 1378 7 view .LVU1329
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3669              		.loc 1 1378 22 is_stmt 0 view .LVU1330
 3670 00b0 A06B     		ldr	r0, [r4, #56]
 3671              	.LVL337:
1378:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3672              		.loc 1 1378 22 view .LVU1331
 3673 00b2 1843     		orrs	r0, r0, r3
 3674 00b4 A063     		str	r0, [r4, #56]
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3675              		.loc 1 1379 7 is_stmt 1 view .LVU1332
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3676              		.loc 1 1379 18 is_stmt 0 view .LVU1333
 3677 00b6 0125     		movs	r5, #1
 3678              	.LVL338:
1379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3679              		.loc 1 1379 18 view .LVU1334
 3680 00b8 84F83450 		strb	r5, [r4, #52]
1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3681              		.loc 1 1380 7 is_stmt 1 view .LVU1335
ARM GAS  D:\Temp\cccH9bx8.s 			page 145


1380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3682              		.loc 1 1380 14 is_stmt 0 view .LVU1336
 3683 00bc 38E0     		b	.L213
 3684              	.LVL339:
 3685              	.L217:
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3686              		.loc 1 1393 7 is_stmt 1 view .LVU1337
1393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3687              		.loc 1 1393 20 is_stmt 0 view .LVU1338
 3688 00be 9023     		movs	r3, #144
 3689 00c0 2363     		str	r3, [r4, #48]
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3690              		.loc 1 1396 7 is_stmt 1 view .LVU1339
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3691              		.loc 1 1396 20 is_stmt 0 view .LVU1340
 3692 00c2 2946     		mov	r1, r5
 3693 00c4 2068     		ldr	r0, [r4]
 3694              	.LVL340:
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3695              		.loc 1 1396 20 view .LVU1341
 3696 00c6 FFF7FEFF 		bl	SDMMC_CmdWriteSingleBlock
 3697              	.LVL341:
1396:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3698              		.loc 1 1396 20 view .LVU1342
 3699 00ca D5E7     		b	.L218
 3700              	.L219:
1409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3701              		.loc 1 1409 5 is_stmt 1 view .LVU1343
 3702 00cc 1D4B     		ldr	r3, .L226+12
 3703 00ce 0122     		movs	r2, #1
 3704 00d0 1A60     		str	r2, [r3]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3705              		.loc 1 1412 5 view .LVU1344
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3706              		.loc 1 1412 69 is_stmt 0 view .LVU1345
 3707 00d2 2268     		ldr	r2, [r4]
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3708              		.loc 1 1412 87 view .LVU1346
 3709 00d4 7602     		lsls	r6, r6, #9
 3710              	.LVL342:
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3711              		.loc 1 1412 8 view .LVU1347
 3712 00d6 B308     		lsrs	r3, r6, #2
 3713 00d8 8032     		adds	r2, r2, #128
 3714 00da 3946     		mov	r1, r7
 3715 00dc E06B     		ldr	r0, [r4, #60]
 3716              	.LVL343:
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3717              		.loc 1 1412 8 view .LVU1348
 3718 00de FFF7FEFF 		bl	HAL_DMA_Start_IT
 3719              	.LVL344:
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3720              		.loc 1 1412 7 view .LVU1349
 3721 00e2 0546     		mov	r5, r0
 3722              	.LVL345:
1412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3723              		.loc 1 1412 7 view .LVU1350
ARM GAS  D:\Temp\cccH9bx8.s 			page 146


 3724 00e4 98B1     		cbz	r0, .L220
1415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 3725              		.loc 1 1415 7 is_stmt 1 view .LVU1351
 3726 00e6 2268     		ldr	r2, [r4]
 3727 00e8 D36B     		ldr	r3, [r2, #60]
 3728 00ea 23F40673 		bic	r3, r3, #536
 3729 00ee 23F00203 		bic	r3, r3, #2
 3730 00f2 D363     		str	r3, [r2, #60]
1419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_DMA;
 3731              		.loc 1 1419 7 view .LVU1352
 3732 00f4 2368     		ldr	r3, [r4]
 3733 00f6 124A     		ldr	r2, .L226+8
 3734 00f8 9A63     		str	r2, [r3, #56]
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3735              		.loc 1 1420 7 view .LVU1353
1420:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3736              		.loc 1 1420 22 is_stmt 0 view .LVU1354
 3737 00fa A36B     		ldr	r3, [r4, #56]
 3738 00fc 43F08043 		orr	r3, r3, #1073741824
 3739 0100 A363     		str	r3, [r4, #56]
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3740              		.loc 1 1421 7 is_stmt 1 view .LVU1355
1421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 3741              		.loc 1 1421 18 is_stmt 0 view .LVU1356
 3742 0102 0125     		movs	r5, #1
 3743 0104 84F83450 		strb	r5, [r4, #52]
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3744              		.loc 1 1422 7 is_stmt 1 view .LVU1357
1422:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3745              		.loc 1 1422 20 is_stmt 0 view .LVU1358
 3746 0108 0023     		movs	r3, #0
 3747 010a 2363     		str	r3, [r4, #48]
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3748              		.loc 1 1423 7 is_stmt 1 view .LVU1359
1423:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3749              		.loc 1 1423 14 is_stmt 0 view .LVU1360
 3750 010c 10E0     		b	.L213
 3751              	.L220:
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3752              		.loc 1 1428 7 is_stmt 1 view .LVU1361
1428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataLength    = BLOCKSIZE * NumberOfBlocks;
 3753              		.loc 1 1428 28 is_stmt 0 view .LVU1362
 3754 010e 4FF0FF33 		mov	r3, #-1
 3755 0112 0093     		str	r3, [sp]
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3756              		.loc 1 1429 7 is_stmt 1 view .LVU1363
1429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DataBlockSize = SDIO_DATABLOCK_SIZE_512B;
 3757              		.loc 1 1429 28 is_stmt 0 view .LVU1364
 3758 0114 0196     		str	r6, [sp, #4]
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3759              		.loc 1 1430 7 is_stmt 1 view .LVU1365
1430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferDir   = SDIO_TRANSFER_DIR_TO_CARD;
 3760              		.loc 1 1430 28 is_stmt 0 view .LVU1366
 3761 0116 9023     		movs	r3, #144
 3762 0118 0293     		str	r3, [sp, #8]
1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3763              		.loc 1 1431 7 is_stmt 1 view .LVU1367
ARM GAS  D:\Temp\cccH9bx8.s 			page 147


1431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.TransferMode  = SDIO_TRANSFER_MODE_BLOCK;
 3764              		.loc 1 1431 28 is_stmt 0 view .LVU1368
 3765 011a 0023     		movs	r3, #0
 3766 011c 0393     		str	r3, [sp, #12]
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3767              		.loc 1 1432 7 is_stmt 1 view .LVU1369
1432:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       config.DPSM          = SDIO_DPSM_ENABLE;
 3768              		.loc 1 1432 28 is_stmt 0 view .LVU1370
 3769 011e 0493     		str	r3, [sp, #16]
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3770              		.loc 1 1433 7 is_stmt 1 view .LVU1371
1433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       (void)SDIO_ConfigData(hsd->Instance, &config);
 3771              		.loc 1 1433 28 is_stmt 0 view .LVU1372
 3772 0120 0123     		movs	r3, #1
 3773 0122 0593     		str	r3, [sp, #20]
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3774              		.loc 1 1434 7 is_stmt 1 view .LVU1373
1434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3775              		.loc 1 1434 13 is_stmt 0 view .LVU1374
 3776 0124 6946     		mov	r1, sp
 3777 0126 2068     		ldr	r0, [r4]
 3778 0128 FFF7FEFF 		bl	SDIO_ConfigData
 3779              	.LVL346:
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3780              		.loc 1 1436 7 is_stmt 1 view .LVU1375
1436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3781              		.loc 1 1436 14 is_stmt 0 view .LVU1376
 3782 012c 00E0     		b	.L213
 3783              	.LVL347:
 3784              	.L221:
1441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 3785              		.loc 1 1441 12 view .LVU1377
 3786 012e 0225     		movs	r5, #2
 3787              	.LVL348:
 3788              	.L213:
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3789              		.loc 1 1443 1 view .LVU1378
 3790 0130 2846     		mov	r0, r5
 3791 0132 07B0     		add	sp, sp, #28
 3792              	.LCFI47:
 3793              		.cfi_def_cfa_offset 20
 3794              		@ sp needed
 3795 0134 F0BD     		pop	{r4, r5, r6, r7, pc}
 3796              	.LVL349:
 3797              	.L227:
1443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3798              		.loc 1 1443 1 view .LVU1379
 3799 0136 00BF     		.align	2
 3800              	.L226:
 3801 0138 00000000 		.word	SD_DMATransmitCplt
 3802 013c 00000000 		.word	SD_DMAError
 3803 0140 FF054000 		.word	4195839
 3804 0144 8C852542 		.word	1109755276
 3805              		.cfi_endproc
 3806              	.LFE140:
 3808              		.section	.text.HAL_SD_Erase,"ax",%progbits
 3809              		.align	1
ARM GAS  D:\Temp\cccH9bx8.s 			page 148


 3810              		.global	HAL_SD_Erase
 3811              		.syntax unified
 3812              		.thumb
 3813              		.thumb_func
 3814              		.fpu fpv4-sp-d16
 3816              	HAL_SD_Erase:
 3817              	.LVL350:
 3818              	.LFB141:
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 3819              		.loc 1 1455 1 is_stmt 1 view -0
 3820              		.cfi_startproc
 3821              		@ args = 0, pretend = 0, frame = 0
 3822              		@ frame_needed = 0, uses_anonymous_args = 0
1456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t start_add = BlockStartAdd;
 3823              		.loc 1 1456 3 view .LVU1381
1457:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t end_add = BlockEndAdd;
 3824              		.loc 1 1457 3 view .LVU1382
1458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3825              		.loc 1 1458 3 view .LVU1383
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3826              		.loc 1 1460 3 view .LVU1384
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3827              		.loc 1 1460 9 is_stmt 0 view .LVU1385
 3828 0000 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 3829 0004 DBB2     		uxtb	r3, r3
1460:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 3830              		.loc 1 1460 5 view .LVU1386
 3831 0006 012B     		cmp	r3, #1
 3832 0008 74D1     		bne	.L238
1455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 3833              		.loc 1 1455 1 view .LVU1387
 3834 000a 70B5     		push	{r4, r5, r6, lr}
 3835              	.LCFI48:
 3836              		.cfi_def_cfa_offset 16
 3837              		.cfi_offset 4, -16
 3838              		.cfi_offset 5, -12
 3839              		.cfi_offset 6, -8
 3840              		.cfi_offset 14, -4
 3841 000c 0446     		mov	r4, r0
 3842 000e 0E46     		mov	r6, r1
 3843 0010 1546     		mov	r5, r2
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3844              		.loc 1 1462 5 is_stmt 1 view .LVU1388
1462:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3845              		.loc 1 1462 20 is_stmt 0 view .LVU1389
 3846 0012 0023     		movs	r3, #0
 3847 0014 8363     		str	r3, [r0, #56]
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3848              		.loc 1 1464 5 is_stmt 1 view .LVU1390
1464:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3849              		.loc 1 1464 7 is_stmt 0 view .LVU1391
 3850 0016 9142     		cmp	r1, r2
 3851 0018 14D8     		bhi	.L243
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3852              		.loc 1 1470 5 is_stmt 1 view .LVU1392
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3853              		.loc 1 1470 30 is_stmt 0 view .LVU1393
ARM GAS  D:\Temp\cccH9bx8.s 			page 149


 3854 001a C36D     		ldr	r3, [r0, #92]
1470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3855              		.loc 1 1470 7 view .LVU1394
 3856 001c 9342     		cmp	r3, r2
 3857 001e 17D3     		bcc	.L244
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3858              		.loc 1 1476 5 is_stmt 1 view .LVU1395
1476:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3859              		.loc 1 1476 16 is_stmt 0 view .LVU1396
 3860 0020 0323     		movs	r3, #3
 3861 0022 80F83430 		strb	r3, [r0, #52]
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3862              		.loc 1 1479 5 is_stmt 1 view .LVU1397
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3863              		.loc 1 1479 21 is_stmt 0 view .LVU1398
 3864 0026 C36C     		ldr	r3, [r0, #76]
1479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3865              		.loc 1 1479 7 view .LVU1399
 3866 0028 13F0200F 		tst	r3, #32
 3867 002c 16D1     		bne	.L232
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3868              		.loc 1 1482 7 is_stmt 1 view .LVU1400
 3869 002e 0368     		ldr	r3, [r0]
 3870 0030 314A     		ldr	r2, .L247
 3871              	.LVL351:
1482:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_REQUEST_NOT_APPLICABLE;
 3872              		.loc 1 1482 7 is_stmt 0 view .LVU1401
 3873 0032 9A63     		str	r2, [r3, #56]
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3874              		.loc 1 1483 7 is_stmt 1 view .LVU1402
1483:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3875              		.loc 1 1483 22 is_stmt 0 view .LVU1403
 3876 0034 836B     		ldr	r3, [r0, #56]
 3877 0036 43F08063 		orr	r3, r3, #67108864
 3878 003a 8363     		str	r3, [r0, #56]
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3879              		.loc 1 1484 7 is_stmt 1 view .LVU1404
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3880              		.loc 1 1484 18 is_stmt 0 view .LVU1405
 3881 003c 0120     		movs	r0, #1
 3882              	.LVL352:
1484:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3883              		.loc 1 1484 18 view .LVU1406
 3884 003e 84F83400 		strb	r0, [r4, #52]
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3885              		.loc 1 1485 7 is_stmt 1 view .LVU1407
1485:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3886              		.loc 1 1485 14 is_stmt 0 view .LVU1408
 3887 0042 04E0     		b	.L229
 3888              	.LVL353:
 3889              	.L243:
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3890              		.loc 1 1466 7 is_stmt 1 view .LVU1409
1466:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3891              		.loc 1 1466 22 is_stmt 0 view .LVU1410
 3892 0044 836B     		ldr	r3, [r0, #56]
 3893 0046 43F00063 		orr	r3, r3, #134217728
ARM GAS  D:\Temp\cccH9bx8.s 			page 150


 3894 004a 8363     		str	r3, [r0, #56]
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3895              		.loc 1 1467 7 is_stmt 1 view .LVU1411
1467:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3896              		.loc 1 1467 14 is_stmt 0 view .LVU1412
 3897 004c 0120     		movs	r0, #1
 3898              	.LVL354:
 3899              	.L229:
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 3900              		.loc 1 1549 1 view .LVU1413
 3901 004e 70BD     		pop	{r4, r5, r6, pc}
 3902              	.LVL355:
 3903              	.L244:
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3904              		.loc 1 1472 7 is_stmt 1 view .LVU1414
1472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3905              		.loc 1 1472 22 is_stmt 0 view .LVU1415
 3906 0050 836B     		ldr	r3, [r0, #56]
 3907 0052 43F00073 		orr	r3, r3, #33554432
 3908 0056 8363     		str	r3, [r0, #56]
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3909              		.loc 1 1473 7 is_stmt 1 view .LVU1416
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3910              		.loc 1 1473 14 is_stmt 0 view .LVU1417
 3911 0058 0120     		movs	r0, #1
 3912              	.LVL356:
1473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3913              		.loc 1 1473 14 view .LVU1418
 3914 005a F8E7     		b	.L229
 3915              	.LVL357:
 3916              	.L232:
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3917              		.loc 1 1488 5 is_stmt 1 view .LVU1419
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3918              		.loc 1 1488 9 is_stmt 0 view .LVU1420
 3919 005c 0021     		movs	r1, #0
 3920              	.LVL358:
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3921              		.loc 1 1488 9 view .LVU1421
 3922 005e 0068     		ldr	r0, [r0]
 3923              	.LVL359:
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3924              		.loc 1 1488 9 view .LVU1422
 3925 0060 FFF7FEFF 		bl	SDIO_GetResponse
 3926              	.LVL360:
1488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3927              		.loc 1 1488 7 view .LVU1423
 3928 0064 10F0007F 		tst	r0, #33554432
 3929 0068 16D1     		bne	.L245
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3930              		.loc 1 1498 5 is_stmt 1 view .LVU1424
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3931              		.loc 1 1498 19 is_stmt 0 view .LVU1425
 3932 006a 636C     		ldr	r3, [r4, #68]
1498:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3933              		.loc 1 1498 7 view .LVU1426
 3934 006c 012B     		cmp	r3, #1
ARM GAS  D:\Temp\cccH9bx8.s 			page 151


 3935 006e 01D0     		beq	.L234
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       end_add   *= 512U;
 3936              		.loc 1 1500 7 is_stmt 1 view .LVU1427
1500:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       end_add   *= 512U;
 3937              		.loc 1 1500 17 is_stmt 0 view .LVU1428
 3938 0070 7602     		lsls	r6, r6, #9
 3939              	.LVL361:
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3940              		.loc 1 1501 7 is_stmt 1 view .LVU1429
1501:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3941              		.loc 1 1501 17 is_stmt 0 view .LVU1430
 3942 0072 6D02     		lsls	r5, r5, #9
 3943              	.LVL362:
 3944              	.L234:
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3945              		.loc 1 1505 5 is_stmt 1 view .LVU1431
1505:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 3946              		.loc 1 1505 7 is_stmt 0 view .LVU1432
 3947 0074 032B     		cmp	r3, #3
 3948 0076 1FD0     		beq	.L235
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3949              		.loc 1 1508 7 is_stmt 1 view .LVU1433
1508:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3950              		.loc 1 1508 20 is_stmt 0 view .LVU1434
 3951 0078 3146     		mov	r1, r6
 3952 007a 2068     		ldr	r0, [r4]
 3953 007c FFF7FEFF 		bl	SDMMC_CmdSDEraseStartAdd
 3954              	.LVL363:
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3955              		.loc 1 1509 7 is_stmt 1 view .LVU1435
1509:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 3956              		.loc 1 1509 9 is_stmt 0 view .LVU1436
 3957 0080 0346     		mov	r3, r0
 3958 0082 A0B1     		cbz	r0, .L236
1512:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 3959              		.loc 1 1512 9 is_stmt 1 view .LVU1437
 3960 0084 2268     		ldr	r2, [r4]
 3961 0086 1C49     		ldr	r1, .L247
 3962 0088 9163     		str	r1, [r2, #56]
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3963              		.loc 1 1513 9 view .LVU1438
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3964              		.loc 1 1513 24 is_stmt 0 view .LVU1439
 3965 008a A06B     		ldr	r0, [r4, #56]
 3966              	.LVL364:
1513:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 3967              		.loc 1 1513 24 view .LVU1440
 3968 008c 1843     		orrs	r0, r0, r3
 3969 008e A063     		str	r0, [r4, #56]
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 3970              		.loc 1 1514 9 is_stmt 1 view .LVU1441
1514:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 3971              		.loc 1 1514 20 is_stmt 0 view .LVU1442
 3972 0090 0120     		movs	r0, #1
 3973 0092 84F83400 		strb	r0, [r4, #52]
1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3974              		.loc 1 1515 9 is_stmt 1 view .LVU1443
ARM GAS  D:\Temp\cccH9bx8.s 			page 152


1515:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 3975              		.loc 1 1515 16 is_stmt 0 view .LVU1444
 3976 0096 DAE7     		b	.L229
 3977              	.LVL365:
 3978              	.L245:
1491:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= HAL_SD_ERROR_LOCK_UNLOCK_FAILED;
 3979              		.loc 1 1491 7 is_stmt 1 view .LVU1445
 3980 0098 2368     		ldr	r3, [r4]
 3981 009a 174A     		ldr	r2, .L247
 3982 009c 9A63     		str	r2, [r3, #56]
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3983              		.loc 1 1492 7 view .LVU1446
1492:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 3984              		.loc 1 1492 22 is_stmt 0 view .LVU1447
 3985 009e A36B     		ldr	r3, [r4, #56]
 3986 00a0 43F40063 		orr	r3, r3, #2048
 3987 00a4 A363     		str	r3, [r4, #56]
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3988              		.loc 1 1493 7 is_stmt 1 view .LVU1448
1493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 3989              		.loc 1 1493 18 is_stmt 0 view .LVU1449
 3990 00a6 0120     		movs	r0, #1
 3991 00a8 84F83400 		strb	r0, [r4, #52]
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3992              		.loc 1 1494 7 is_stmt 1 view .LVU1450
1494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 3993              		.loc 1 1494 14 is_stmt 0 view .LVU1451
 3994 00ac CFE7     		b	.L229
 3995              	.LVL366:
 3996              	.L236:
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3997              		.loc 1 1519 7 is_stmt 1 view .LVU1452
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 3998              		.loc 1 1519 20 is_stmt 0 view .LVU1453
 3999 00ae 2946     		mov	r1, r5
 4000 00b0 2068     		ldr	r0, [r4]
 4001              	.LVL367:
1519:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(errorstate != HAL_SD_ERROR_NONE)
 4002              		.loc 1 1519 20 view .LVU1454
 4003 00b2 FFF7FEFF 		bl	SDMMC_CmdSDEraseEndAdd
 4004              	.LVL368:
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4005              		.loc 1 1520 7 is_stmt 1 view .LVU1455
1520:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 4006              		.loc 1 1520 9 is_stmt 0 view .LVU1456
 4007 00b6 70B9     		cbnz	r0, .L246
 4008              	.LVL369:
 4009              	.L235:
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4010              		.loc 1 1531 5 is_stmt 1 view .LVU1457
1531:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4011              		.loc 1 1531 18 is_stmt 0 view .LVU1458
 4012 00b8 2068     		ldr	r0, [r4]
 4013 00ba FFF7FEFF 		bl	SDMMC_CmdErase
 4014              	.LVL370:
1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4015              		.loc 1 1532 5 is_stmt 1 view .LVU1459
ARM GAS  D:\Temp\cccH9bx8.s 			page 153


1532:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4016              		.loc 1 1532 7 is_stmt 0 view .LVU1460
 4017 00be 0346     		mov	r3, r0
 4018 00c0 98B1     		cbz	r0, .L237
1535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->ErrorCode |= errorstate;
 4019              		.loc 1 1535 7 is_stmt 1 view .LVU1461
 4020 00c2 2268     		ldr	r2, [r4]
 4021 00c4 0C49     		ldr	r1, .L247
 4022 00c6 9163     		str	r1, [r2, #56]
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 4023              		.loc 1 1536 7 view .LVU1462
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 4024              		.loc 1 1536 22 is_stmt 0 view .LVU1463
 4025 00c8 A06B     		ldr	r0, [r4, #56]
 4026              	.LVL371:
1536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->State = HAL_SD_STATE_READY;
 4027              		.loc 1 1536 22 view .LVU1464
 4028 00ca 1843     		orrs	r0, r0, r3
 4029 00cc A063     		str	r0, [r4, #56]
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 4030              		.loc 1 1537 7 is_stmt 1 view .LVU1465
1537:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       return HAL_ERROR;
 4031              		.loc 1 1537 18 is_stmt 0 view .LVU1466
 4032 00ce 0120     		movs	r0, #1
 4033 00d0 84F83400 		strb	r0, [r4, #52]
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4034              		.loc 1 1538 7 is_stmt 1 view .LVU1467
1538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4035              		.loc 1 1538 14 is_stmt 0 view .LVU1468
 4036 00d4 BBE7     		b	.L229
 4037              	.LVL372:
 4038              	.L246:
1523:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->ErrorCode |= errorstate;
 4039              		.loc 1 1523 9 is_stmt 1 view .LVU1469
 4040 00d6 2368     		ldr	r3, [r4]
 4041 00d8 0749     		ldr	r1, .L247
 4042 00da 9963     		str	r1, [r3, #56]
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 4043              		.loc 1 1524 9 view .LVU1470
1524:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 4044              		.loc 1 1524 24 is_stmt 0 view .LVU1471
 4045 00dc A36B     		ldr	r3, [r4, #56]
 4046 00de 0343     		orrs	r3, r3, r0
 4047 00e0 A363     		str	r3, [r4, #56]
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 4048              		.loc 1 1525 9 is_stmt 1 view .LVU1472
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 4049              		.loc 1 1525 20 is_stmt 0 view .LVU1473
 4050 00e2 0120     		movs	r0, #1
 4051              	.LVL373:
1525:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         return HAL_ERROR;
 4052              		.loc 1 1525 20 view .LVU1474
 4053 00e4 84F83400 		strb	r0, [r4, #52]
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 4054              		.loc 1 1526 9 is_stmt 1 view .LVU1475
1526:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 4055              		.loc 1 1526 16 is_stmt 0 view .LVU1476
ARM GAS  D:\Temp\cccH9bx8.s 			page 154


 4056 00e8 B1E7     		b	.L229
 4057              	.LVL374:
 4058              	.L237:
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4059              		.loc 1 1541 5 is_stmt 1 view .LVU1477
1541:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4060              		.loc 1 1541 16 is_stmt 0 view .LVU1478
 4061 00ea 0123     		movs	r3, #1
 4062 00ec 84F83430 		strb	r3, [r4, #52]
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4063              		.loc 1 1543 5 is_stmt 1 view .LVU1479
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4064              		.loc 1 1543 12 is_stmt 0 view .LVU1480
 4065 00f0 0020     		movs	r0, #0
 4066              	.LVL375:
1543:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4067              		.loc 1 1543 12 view .LVU1481
 4068 00f2 ACE7     		b	.L229
 4069              	.LVL376:
 4070              	.L238:
 4071              	.LCFI49:
 4072              		.cfi_def_cfa_offset 0
 4073              		.cfi_restore 4
 4074              		.cfi_restore 5
 4075              		.cfi_restore 6
 4076              		.cfi_restore 14
1547:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4077              		.loc 1 1547 12 view .LVU1482
 4078 00f4 0220     		movs	r0, #2
 4079              	.LVL377:
1549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4080              		.loc 1 1549 1 view .LVU1483
 4081 00f6 7047     		bx	lr
 4082              	.L248:
 4083              		.align	2
 4084              	.L247:
 4085 00f8 FF054000 		.word	4195839
 4086              		.cfi_endproc
 4087              	.LFE141:
 4089              		.section	.text.HAL_SD_GetState,"ax",%progbits
 4090              		.align	1
 4091              		.global	HAL_SD_GetState
 4092              		.syntax unified
 4093              		.thumb
 4094              		.thumb_func
 4095              		.fpu fpv4-sp-d16
 4097              	HAL_SD_GetState:
 4098              	.LVL378:
 4099              	.LFB143:
1773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return hsd->State;
 4100              		.loc 1 1773 1 is_stmt 1 view -0
 4101              		.cfi_startproc
 4102              		@ args = 0, pretend = 0, frame = 0
 4103              		@ frame_needed = 0, uses_anonymous_args = 0
 4104              		@ link register save eliminated.
1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4105              		.loc 1 1774 3 view .LVU1485
ARM GAS  D:\Temp\cccH9bx8.s 			page 155


1774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4106              		.loc 1 1774 13 is_stmt 0 view .LVU1486
 4107 0000 90F83400 		ldrb	r0, [r0, #52]	@ zero_extendqisi2
 4108              	.LVL379:
1775:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4109              		.loc 1 1775 1 view .LVU1487
 4110 0004 7047     		bx	lr
 4111              		.cfi_endproc
 4112              	.LFE143:
 4114              		.section	.text.HAL_SD_GetError,"ax",%progbits
 4115              		.align	1
 4116              		.global	HAL_SD_GetError
 4117              		.syntax unified
 4118              		.thumb
 4119              		.thumb_func
 4120              		.fpu fpv4-sp-d16
 4122              	HAL_SD_GetError:
 4123              	.LVL380:
 4124              	.LFB144:
1784:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   return hsd->ErrorCode;
 4125              		.loc 1 1784 1 is_stmt 1 view -0
 4126              		.cfi_startproc
 4127              		@ args = 0, pretend = 0, frame = 0
 4128              		@ frame_needed = 0, uses_anonymous_args = 0
 4129              		@ link register save eliminated.
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4130              		.loc 1 1785 3 view .LVU1489
1785:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4131              		.loc 1 1785 13 is_stmt 0 view .LVU1490
 4132 0000 806B     		ldr	r0, [r0, #56]
 4133              	.LVL381:
1786:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4134              		.loc 1 1786 1 view .LVU1491
 4135 0002 7047     		bx	lr
 4136              		.cfi_endproc
 4137              	.LFE144:
 4139              		.section	.text.HAL_SD_TxCpltCallback,"ax",%progbits
 4140              		.align	1
 4141              		.weak	HAL_SD_TxCpltCallback
 4142              		.syntax unified
 4143              		.thumb
 4144              		.thumb_func
 4145              		.fpu fpv4-sp-d16
 4147              	HAL_SD_TxCpltCallback:
 4148              	.LVL382:
 4149              	.LFB145:
1794:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4150              		.loc 1 1794 1 is_stmt 1 view -0
 4151              		.cfi_startproc
 4152              		@ args = 0, pretend = 0, frame = 0
 4153              		@ frame_needed = 0, uses_anonymous_args = 0
 4154              		@ link register save eliminated.
1796:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4155              		.loc 1 1796 3 view .LVU1493
1801:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4156              		.loc 1 1801 1 is_stmt 0 view .LVU1494
 4157 0000 7047     		bx	lr
ARM GAS  D:\Temp\cccH9bx8.s 			page 156


 4158              		.cfi_endproc
 4159              	.LFE145:
 4161              		.section	.text.HAL_SD_RxCpltCallback,"ax",%progbits
 4162              		.align	1
 4163              		.weak	HAL_SD_RxCpltCallback
 4164              		.syntax unified
 4165              		.thumb
 4166              		.thumb_func
 4167              		.fpu fpv4-sp-d16
 4169              	HAL_SD_RxCpltCallback:
 4170              	.LVL383:
 4171              	.LFB146:
1809:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4172              		.loc 1 1809 1 is_stmt 1 view -0
 4173              		.cfi_startproc
 4174              		@ args = 0, pretend = 0, frame = 0
 4175              		@ frame_needed = 0, uses_anonymous_args = 0
 4176              		@ link register save eliminated.
1811:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4177              		.loc 1 1811 3 view .LVU1496
1816:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4178              		.loc 1 1816 1 is_stmt 0 view .LVU1497
 4179 0000 7047     		bx	lr
 4180              		.cfi_endproc
 4181              	.LFE146:
 4183              		.section	.text.HAL_SD_ErrorCallback,"ax",%progbits
 4184              		.align	1
 4185              		.weak	HAL_SD_ErrorCallback
 4186              		.syntax unified
 4187              		.thumb
 4188              		.thumb_func
 4189              		.fpu fpv4-sp-d16
 4191              	HAL_SD_ErrorCallback:
 4192              	.LVL384:
 4193              	.LFB147:
1824:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
 4194              		.loc 1 1824 1 is_stmt 1 view -0
 4195              		.cfi_startproc
 4196              		@ args = 0, pretend = 0, frame = 0
 4197              		@ frame_needed = 0, uses_anonymous_args = 0
 4198              		@ link register save eliminated.
1826:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4199              		.loc 1 1826 3 view .LVU1499
1831:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4200              		.loc 1 1831 1 is_stmt 0 view .LVU1500
 4201 0000 7047     		bx	lr
 4202              		.cfi_endproc
 4203              	.LFE147:
 4205              		.section	.text.SD_DMAReceiveCplt,"ax",%progbits
 4206              		.align	1
 4207              		.syntax unified
 4208              		.thumb
 4209              		.thumb_func
 4210              		.fpu fpv4-sp-d16
 4212              	SD_DMAReceiveCplt:
 4213              	.LVL385:
 4214              	.LFB158:
ARM GAS  D:\Temp\cccH9bx8.s 			page 157


2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 4215              		.loc 1 2528 1 is_stmt 1 view -0
 4216              		.cfi_startproc
 4217              		@ args = 0, pretend = 0, frame = 0
 4218              		@ frame_needed = 0, uses_anonymous_args = 0
2528:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 4219              		.loc 1 2528 1 is_stmt 0 view .LVU1502
 4220 0000 10B5     		push	{r4, lr}
 4221              	.LCFI50:
 4222              		.cfi_def_cfa_offset 8
 4223              		.cfi_offset 4, -8
 4224              		.cfi_offset 14, -4
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 4225              		.loc 1 2529 3 is_stmt 1 view .LVU1503
2529:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 4226              		.loc 1 2529 21 is_stmt 0 view .LVU1504
 4227 0002 846B     		ldr	r4, [r0, #56]
 4228              	.LVL386:
2530:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4229              		.loc 1 2530 3 is_stmt 1 view .LVU1505
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4230              		.loc 1 2533 3 view .LVU1506
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4231              		.loc 1 2533 9 is_stmt 0 view .LVU1507
 4232 0004 236B     		ldr	r3, [r4, #48]
2533:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4233              		.loc 1 2533 5 view .LVU1508
 4234 0006 822B     		cmp	r3, #130
 4235 0008 11D0     		beq	.L257
 4236              	.LVL387:
 4237              	.L255:
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4238              		.loc 1 2549 3 is_stmt 1 view .LVU1509
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4239              		.loc 1 2549 6 is_stmt 0 view .LVU1510
 4240 000a 2268     		ldr	r2, [r4]
2549:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4241              		.loc 1 2549 24 view .LVU1511
 4242 000c D36A     		ldr	r3, [r2, #44]
 4243 000e 23F00803 		bic	r3, r3, #8
 4244 0012 D362     		str	r3, [r2, #44]
2552:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4245              		.loc 1 2552 3 is_stmt 1 view .LVU1512
 4246 0014 2368     		ldr	r3, [r4]
 4247 0016 40F23A52 		movw	r2, #1338
 4248 001a 9A63     		str	r2, [r3, #56]
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 4249              		.loc 1 2554 3 view .LVU1513
2554:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 4250              		.loc 1 2554 14 is_stmt 0 view .LVU1514
 4251 001c 0123     		movs	r3, #1
 4252 001e 84F83430 		strb	r3, [r4, #52]
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4253              		.loc 1 2555 3 is_stmt 1 view .LVU1515
2555:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4254              		.loc 1 2555 16 is_stmt 0 view .LVU1516
 4255 0022 0023     		movs	r3, #0
ARM GAS  D:\Temp\cccH9bx8.s 			page 158


 4256 0024 2363     		str	r3, [r4, #48]
2560:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 4257              		.loc 1 2560 3 is_stmt 1 view .LVU1517
 4258 0026 2046     		mov	r0, r4
 4259 0028 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 4260              	.LVL388:
2562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4261              		.loc 1 2562 1 is_stmt 0 view .LVU1518
 4262 002c 10BD     		pop	{r4, pc}
 4263              	.LVL389:
 4264              	.L257:
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4265              		.loc 1 2535 5 is_stmt 1 view .LVU1519
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4266              		.loc 1 2535 18 is_stmt 0 view .LVU1520
 4267 002e 2068     		ldr	r0, [r4]
 4268              	.LVL390:
2535:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4269              		.loc 1 2535 18 view .LVU1521
 4270 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 4271              	.LVL391:
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4272              		.loc 1 2536 5 is_stmt 1 view .LVU1522
2536:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4273              		.loc 1 2536 7 is_stmt 0 view .LVU1523
 4274 0034 0346     		mov	r3, r0
 4275 0036 0028     		cmp	r0, #0
 4276 0038 E7D0     		beq	.L255
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 4277              		.loc 1 2538 7 is_stmt 1 view .LVU1524
2538:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if (USE_HAL_SD_REGISTER_CALLBACKS == 1)
 4278              		.loc 1 2538 22 is_stmt 0 view .LVU1525
 4279 003a A26B     		ldr	r2, [r4, #56]
 4280 003c 1343     		orrs	r3, r3, r2
 4281 003e A363     		str	r3, [r4, #56]
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 4282              		.loc 1 2542 7 is_stmt 1 view .LVU1526
 4283 0040 2046     		mov	r0, r4
 4284              	.LVL392:
2542:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 4285              		.loc 1 2542 7 is_stmt 0 view .LVU1527
 4286 0042 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 4287              	.LVL393:
 4288 0046 E0E7     		b	.L255
 4289              		.cfi_endproc
 4290              	.LFE158:
 4292              		.section	.text.HAL_SD_AbortCallback,"ax",%progbits
 4293              		.align	1
 4294              		.weak	HAL_SD_AbortCallback
 4295              		.syntax unified
 4296              		.thumb
 4297              		.thumb_func
 4298              		.fpu fpv4-sp-d16
 4300              	HAL_SD_AbortCallback:
 4301              	.LVL394:
 4302              	.LFB148:
1839:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Prevent unused argument(s) compilation warning */
ARM GAS  D:\Temp\cccH9bx8.s 			page 159


 4303              		.loc 1 1839 1 is_stmt 1 view -0
 4304              		.cfi_startproc
 4305              		@ args = 0, pretend = 0, frame = 0
 4306              		@ frame_needed = 0, uses_anonymous_args = 0
 4307              		@ link register save eliminated.
1841:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4308              		.loc 1 1841 3 view .LVU1529
1846:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4309              		.loc 1 1846 1 is_stmt 0 view .LVU1530
 4310 0000 7047     		bx	lr
 4311              		.cfi_endproc
 4312              	.LFE148:
 4314              		.section	.text.HAL_SD_GetCardCID,"ax",%progbits
 4315              		.align	1
 4316              		.global	HAL_SD_GetCardCID
 4317              		.syntax unified
 4318              		.thumb
 4319              		.thumb_func
 4320              		.fpu fpv4-sp-d16
 4322              	HAL_SD_GetCardCID:
 4323              	.LVL395:
 4324              	.LFB149:
2050:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCID->ManufacturerID = (uint8_t)((hsd->CID[0] & 0xFF000000U) >> 24U);
 4325              		.loc 1 2050 1 is_stmt 1 view -0
 4326              		.cfi_startproc
 4327              		@ args = 0, pretend = 0, frame = 0
 4328              		@ frame_needed = 0, uses_anonymous_args = 0
 4329              		@ link register save eliminated.
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4330              		.loc 1 2051 3 view .LVU1532
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4331              		.loc 1 2051 26 is_stmt 0 view .LVU1533
 4332 0000 90F87730 		ldrb	r3, [r0, #119]	@ zero_extendqisi2
2051:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4333              		.loc 1 2051 24 view .LVU1534
 4334 0004 0B70     		strb	r3, [r1]
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4335              		.loc 1 2053 3 is_stmt 1 view .LVU1535
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4336              		.loc 1 2053 43 is_stmt 0 view .LVU1536
 4337 0006 436F     		ldr	r3, [r0, #116]
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4338              		.loc 1 2053 23 view .LVU1537
 4339 0008 C3F30F23 		ubfx	r3, r3, #8, #16
2053:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4340              		.loc 1 2053 21 view .LVU1538
 4341 000c 4B80     		strh	r3, [r1, #2]	@ movhi
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4342              		.loc 1 2055 3 is_stmt 1 view .LVU1539
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4343              		.loc 1 2055 32 is_stmt 0 view .LVU1540
 4344 000e 426F     		ldr	r2, [r0, #116]
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4345              		.loc 1 2055 71 view .LVU1541
 4346 0010 836F     		ldr	r3, [r0, #120]
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4347              		.loc 1 2055 90 view .LVU1542
ARM GAS  D:\Temp\cccH9bx8.s 			page 160


 4348 0012 1B0A     		lsrs	r3, r3, #8
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4349              		.loc 1 2055 59 view .LVU1543
 4350 0014 43EA0263 		orr	r3, r3, r2, lsl #24
2055:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4351              		.loc 1 2055 19 view .LVU1544
 4352 0018 4B60     		str	r3, [r1, #4]
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4353              		.loc 1 2057 3 is_stmt 1 view .LVU1545
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4354              		.loc 1 2057 21 is_stmt 0 view .LVU1546
 4355 001a 90F87830 		ldrb	r3, [r0, #120]	@ zero_extendqisi2
2057:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4356              		.loc 1 2057 19 view .LVU1547
 4357 001e 0B72     		strb	r3, [r1, #8]
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4358              		.loc 1 2059 3 is_stmt 1 view .LVU1548
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4359              		.loc 1 2059 19 is_stmt 0 view .LVU1549
 4360 0020 90F87F30 		ldrb	r3, [r0, #127]	@ zero_extendqisi2
2059:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4361              		.loc 1 2059 17 view .LVU1550
 4362 0024 4B72     		strb	r3, [r1, #9]
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4363              		.loc 1 2061 3 is_stmt 1 view .LVU1551
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4364              		.loc 1 2061 29 is_stmt 0 view .LVU1552
 4365 0026 C26F     		ldr	r2, [r0, #124]
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4366              		.loc 1 2061 86 view .LVU1553
 4367 0028 90F88330 		ldrb	r3, [r0, #131]	@ zero_extendqisi2
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4368              		.loc 1 2061 55 view .LVU1554
 4369 002c 43EA0223 		orr	r3, r3, r2, lsl #8
2061:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4370              		.loc 1 2061 16 view .LVU1555
 4371 0030 CB60     		str	r3, [r1, #12]
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4372              		.loc 1 2063 3 is_stmt 1 view .LVU1556
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4373              		.loc 1 2063 40 is_stmt 0 view .LVU1557
 4374 0032 D0F88030 		ldr	r3, [r0, #128]
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4375              		.loc 1 2063 21 view .LVU1558
 4376 0036 C3F30353 		ubfx	r3, r3, #20, #4
2063:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4377              		.loc 1 2063 19 view .LVU1559
 4378 003a 0B74     		strb	r3, [r1, #16]
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4379              		.loc 1 2065 3 is_stmt 1 view .LVU1560
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4380              		.loc 1 2065 44 is_stmt 0 view .LVU1561
 4381 003c D0F88030 		ldr	r3, [r0, #128]
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4382              		.loc 1 2065 24 view .LVU1562
 4383 0040 C3F30B23 		ubfx	r3, r3, #8, #12
2065:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 161


 4384              		.loc 1 2065 22 view .LVU1563
 4385 0044 4B82     		strh	r3, [r1, #18]	@ movhi
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4386              		.loc 1 2067 3 is_stmt 1 view .LVU1564
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4387              		.loc 1 2067 38 is_stmt 0 view .LVU1565
 4388 0046 D0F88030 		ldr	r3, [r0, #128]
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4389              		.loc 1 2067 19 view .LVU1566
 4390 004a C3F34603 		ubfx	r3, r3, #1, #7
2067:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4391              		.loc 1 2067 17 view .LVU1567
 4392 004e 0B75     		strb	r3, [r1, #20]
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4393              		.loc 1 2069 3 is_stmt 1 view .LVU1568
2069:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4394              		.loc 1 2069 19 is_stmt 0 view .LVU1569
 4395 0050 0123     		movs	r3, #1
 4396 0052 4B75     		strb	r3, [r1, #21]
2071:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4397              		.loc 1 2071 3 is_stmt 1 view .LVU1570
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4398              		.loc 1 2072 1 is_stmt 0 view .LVU1571
 4399 0054 0020     		movs	r0, #0
 4400              	.LVL396:
2072:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4401              		.loc 1 2072 1 view .LVU1572
 4402 0056 7047     		bx	lr
 4403              		.cfi_endproc
 4404              	.LFE149:
 4406              		.section	.text.HAL_SD_GetCardCSD,"ax",%progbits
 4407              		.align	1
 4408              		.global	HAL_SD_GetCardCSD
 4409              		.syntax unified
 4410              		.thumb
 4411              		.thumb_func
 4412              		.fpu fpv4-sp-d16
 4414              	HAL_SD_GetCardCSD:
 4415              	.LVL397:
 4416              	.LFB150:
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4417              		.loc 1 2083 1 is_stmt 1 view -0
 4418              		.cfi_startproc
 4419              		@ args = 0, pretend = 0, frame = 0
 4420              		@ frame_needed = 0, uses_anonymous_args = 0
 4421              		@ link register save eliminated.
2083:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCSD->CSDStruct = (uint8_t)((hsd->CSD[0] & 0xC0000000U) >> 30U);
 4422              		.loc 1 2083 1 is_stmt 0 view .LVU1574
 4423 0000 10B4     		push	{r4}
 4424              	.LCFI51:
 4425              		.cfi_def_cfa_offset 4
 4426              		.cfi_offset 4, -4
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4427              		.loc 1 2084 3 is_stmt 1 view .LVU1575
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4428              		.loc 1 2084 40 is_stmt 0 view .LVU1576
 4429 0002 436E     		ldr	r3, [r0, #100]
ARM GAS  D:\Temp\cccH9bx8.s 			page 162


2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4430              		.loc 1 2084 21 view .LVU1577
 4431 0004 9B0F     		lsrs	r3, r3, #30
2084:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4432              		.loc 1 2084 19 view .LVU1578
 4433 0006 0B70     		strb	r3, [r1]
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4434              		.loc 1 2086 3 is_stmt 1 view .LVU1579
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4435              		.loc 1 2086 45 is_stmt 0 view .LVU1580
 4436 0008 436E     		ldr	r3, [r0, #100]
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4437              		.loc 1 2086 26 view .LVU1581
 4438 000a C3F38363 		ubfx	r3, r3, #26, #4
2086:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4439              		.loc 1 2086 24 view .LVU1582
 4440 000e 4B70     		strb	r3, [r1, #1]
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4441              		.loc 1 2088 3 is_stmt 1 view .LVU1583
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4442              		.loc 1 2088 59 is_stmt 0 view .LVU1584
 4443 0010 90F86730 		ldrb	r3, [r0, #103]	@ zero_extendqisi2
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4444              		.loc 1 2088 21 view .LVU1585
 4445 0014 03F00303 		and	r3, r3, #3
2088:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4446              		.loc 1 2088 19 view .LVU1586
 4447 0018 8B70     		strb	r3, [r1, #2]
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4448              		.loc 1 2090 3 is_stmt 1 view .LVU1587
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4449              		.loc 1 2090 16 is_stmt 0 view .LVU1588
 4450 001a 90F86630 		ldrb	r3, [r0, #102]	@ zero_extendqisi2
2090:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4451              		.loc 1 2090 14 view .LVU1589
 4452 001e CB70     		strb	r3, [r1, #3]
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4453              		.loc 1 2092 3 is_stmt 1 view .LVU1590
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4454              		.loc 1 2092 16 is_stmt 0 view .LVU1591
 4455 0020 90F86530 		ldrb	r3, [r0, #101]	@ zero_extendqisi2
2092:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4456              		.loc 1 2092 14 view .LVU1592
 4457 0024 0B71     		strb	r3, [r1, #4]
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4458              		.loc 1 2094 3 is_stmt 1 view .LVU1593
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4459              		.loc 1 2094 25 is_stmt 0 view .LVU1594
 4460 0026 90F86430 		ldrb	r3, [r0, #100]	@ zero_extendqisi2
2094:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4461              		.loc 1 2094 23 view .LVU1595
 4462 002a 4B71     		strb	r3, [r1, #5]
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4463              		.loc 1 2096 3 is_stmt 1 view .LVU1596
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4464              		.loc 1 2096 47 is_stmt 0 view .LVU1597
 4465 002c 836E     		ldr	r3, [r0, #104]
ARM GAS  D:\Temp\cccH9bx8.s 			page 163


2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4466              		.loc 1 2096 27 view .LVU1598
 4467 002e 1B0D     		lsrs	r3, r3, #20
2096:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4468              		.loc 1 2096 25 view .LVU1599
 4469 0030 CB80     		strh	r3, [r1, #6]	@ movhi
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4470              		.loc 1 2098 3 is_stmt 1 view .LVU1600
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4471              		.loc 1 2098 60 is_stmt 0 view .LVU1601
 4472 0032 B0F86A30 		ldrh	r3, [r0, #106]
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4473              		.loc 1 2098 22 view .LVU1602
 4474 0036 03F00F03 		and	r3, r3, #15
2098:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4475              		.loc 1 2098 20 view .LVU1603
 4476 003a 0B72     		strb	r3, [r1, #8]
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4477              		.loc 1 2100 3 is_stmt 1 view .LVU1604
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4478              		.loc 1 2100 46 is_stmt 0 view .LVU1605
 4479 003c 836E     		ldr	r3, [r0, #104]
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4480              		.loc 1 2100 27 view .LVU1606
 4481 003e C3F3C033 		ubfx	r3, r3, #15, #1
2100:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4482              		.loc 1 2100 25 view .LVU1607
 4483 0042 4B72     		strb	r3, [r1, #9]
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4484              		.loc 1 2102 3 is_stmt 1 view .LVU1608
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4485              		.loc 1 2102 46 is_stmt 0 view .LVU1609
 4486 0044 836E     		ldr	r3, [r0, #104]
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4487              		.loc 1 2102 27 view .LVU1610
 4488 0046 C3F38033 		ubfx	r3, r3, #14, #1
2102:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4489              		.loc 1 2102 25 view .LVU1611
 4490 004a 8B72     		strb	r3, [r1, #10]
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4491              		.loc 1 2104 3 is_stmt 1 view .LVU1612
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4492              		.loc 1 2104 46 is_stmt 0 view .LVU1613
 4493 004c 836E     		ldr	r3, [r0, #104]
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4494              		.loc 1 2104 27 view .LVU1614
 4495 004e C3F34033 		ubfx	r3, r3, #13, #1
2104:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4496              		.loc 1 2104 25 view .LVU1615
 4497 0052 CB72     		strb	r3, [r1, #11]
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4498              		.loc 1 2106 3 is_stmt 1 view .LVU1616
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4499              		.loc 1 2106 38 is_stmt 0 view .LVU1617
 4500 0054 836E     		ldr	r3, [r0, #104]
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4501              		.loc 1 2106 19 view .LVU1618
ARM GAS  D:\Temp\cccH9bx8.s 			page 164


 4502 0056 C3F30033 		ubfx	r3, r3, #12, #1
2106:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4503              		.loc 1 2106 17 view .LVU1619
 4504 005a 0B73     		strb	r3, [r1, #12]
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4505              		.loc 1 2108 3 is_stmt 1 view .LVU1620
2108:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4506              		.loc 1 2108 19 is_stmt 0 view .LVU1621
 4507 005c 0023     		movs	r3, #0
 4508 005e 4B73     		strb	r3, [r1, #13]
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4509              		.loc 1 2110 3 is_stmt 1 view .LVU1622
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4510              		.loc 1 2110 17 is_stmt 0 view .LVU1623
 4511 0060 436C     		ldr	r3, [r0, #68]
2110:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4512              		.loc 1 2110 5 view .LVU1624
 4513 0062 002B     		cmp	r3, #0
 4514 0064 40F08880 		bne	.L261
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4515              		.loc 1 2112 5 is_stmt 1 view .LVU1625
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4516              		.loc 1 2112 35 is_stmt 0 view .LVU1626
 4517 0068 826E     		ldr	r2, [r0, #104]
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4518              		.loc 1 2112 54 view .LVU1627
 4519 006a 40F6FC73 		movw	r3, #4092
 4520 006e 03EA8203 		and	r3, r3, r2, lsl #2
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4521              		.loc 1 2112 73 view .LVU1628
 4522 0072 C26E     		ldr	r2, [r0, #108]
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4523              		.loc 1 2112 61 view .LVU1629
 4524 0074 43EA9273 		orr	r3, r3, r2, lsr #30
2112:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4525              		.loc 1 2112 22 view .LVU1630
 4526 0078 0B61     		str	r3, [r1, #16]
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4527              		.loc 1 2114 5 is_stmt 1 view .LVU1631
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4528              		.loc 1 2114 51 is_stmt 0 view .LVU1632
 4529 007a C36E     		ldr	r3, [r0, #108]
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4530              		.loc 1 2114 32 view .LVU1633
 4531 007c C3F3C263 		ubfx	r3, r3, #27, #3
2114:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4532              		.loc 1 2114 30 view .LVU1634
 4533 0080 0B75     		strb	r3, [r1, #20]
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4534              		.loc 1 2116 5 is_stmt 1 view .LVU1635
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4535              		.loc 1 2116 70 is_stmt 0 view .LVU1636
 4536 0082 90F86F30 		ldrb	r3, [r0, #111]	@ zero_extendqisi2
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4537              		.loc 1 2116 32 view .LVU1637
 4538 0086 03F00703 		and	r3, r3, #7
2116:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 165


 4539              		.loc 1 2116 30 view .LVU1638
 4540 008a 4B75     		strb	r3, [r1, #21]
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4541              		.loc 1 2118 5 is_stmt 1 view .LVU1639
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4542              		.loc 1 2118 51 is_stmt 0 view .LVU1640
 4543 008c C36E     		ldr	r3, [r0, #108]
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4544              		.loc 1 2118 32 view .LVU1641
 4545 008e C3F34253 		ubfx	r3, r3, #21, #3
2118:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4546              		.loc 1 2118 30 view .LVU1642
 4547 0092 8B75     		strb	r3, [r1, #22]
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4548              		.loc 1 2120 5 is_stmt 1 view .LVU1643
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4549              		.loc 1 2120 51 is_stmt 0 view .LVU1644
 4550 0094 C36E     		ldr	r3, [r0, #108]
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4551              		.loc 1 2120 32 view .LVU1645
 4552 0096 C3F38243 		ubfx	r3, r3, #18, #3
2120:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4553              		.loc 1 2120 30 view .LVU1646
 4554 009a CB75     		strb	r3, [r1, #23]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4555              		.loc 1 2122 5 is_stmt 1 view .LVU1647
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4556              		.loc 1 2122 46 is_stmt 0 view .LVU1648
 4557 009c C36E     		ldr	r3, [r0, #108]
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4558              		.loc 1 2122 27 view .LVU1649
 4559 009e C3F3C233 		ubfx	r3, r3, #15, #3
2122:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4560              		.loc 1 2122 25 view .LVU1650
 4561 00a2 0B76     		strb	r3, [r1, #24]
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4562              		.loc 1 2124 5 is_stmt 1 view .LVU1651
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4563              		.loc 1 2124 34 is_stmt 0 view .LVU1652
 4564 00a4 0B69     		ldr	r3, [r1, #16]
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4565              		.loc 1 2124 47 view .LVU1653
 4566 00a6 0133     		adds	r3, r3, #1
2124:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockNbr *= (1UL << ((pCSD->DeviceSizeMul & 0x07U) + 2U));
 4567              		.loc 1 2124 27 view .LVU1654
 4568 00a8 4365     		str	r3, [r0, #84]
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4569              		.loc 1 2125 5 is_stmt 1 view .LVU1655
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4570              		.loc 1 2125 43 is_stmt 0 view .LVU1656
 4571 00aa 0A7E     		ldrb	r2, [r1, #24]	@ zero_extendqisi2
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4572              		.loc 1 2125 59 view .LVU1657
 4573 00ac 02F00702 		and	r2, r2, #7
2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4574              		.loc 1 2125 68 view .LVU1658
 4575 00b0 0232     		adds	r2, r2, #2
ARM GAS  D:\Temp\cccH9bx8.s 			page 166


2125:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = (1UL << (pCSD->RdBlockLen & 0x0FU));
 4576              		.loc 1 2125 26 view .LVU1659
 4577 00b2 03FA02F2 		lsl	r2, r3, r2
 4578 00b6 4265     		str	r2, [r0, #84]
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4579              		.loc 1 2126 5 is_stmt 1 view .LVU1660
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4580              		.loc 1 2126 42 is_stmt 0 view .LVU1661
 4581 00b8 0B7A     		ldrb	r3, [r1, #8]	@ zero_extendqisi2
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4582              		.loc 1 2126 55 view .LVU1662
 4583 00ba 03F00F04 		and	r4, r3, #15
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4584              		.loc 1 2126 34 view .LVU1663
 4585 00be 0123     		movs	r3, #1
 4586 00c0 A340     		lsls	r3, r3, r4
2126:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4587              		.loc 1 2126 27 view .LVU1664
 4588 00c2 8365     		str	r3, [r0, #88]
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4589              		.loc 1 2128 5 is_stmt 1 view .LVU1665
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4590              		.loc 1 2128 82 is_stmt 0 view .LVU1666
 4591 00c4 5B0A     		lsrs	r3, r3, #9
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4592              		.loc 1 2128 55 view .LVU1667
 4593 00c6 03FB02F3 		mul	r3, r3, r2
2128:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = 512U;
 4594              		.loc 1 2128 29 view .LVU1668
 4595 00ca C365     		str	r3, [r0, #92]
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4596              		.loc 1 2129 5 is_stmt 1 view .LVU1669
2129:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4597              		.loc 1 2129 30 is_stmt 0 view .LVU1670
 4598 00cc 4FF40073 		mov	r3, #512
 4599 00d0 0366     		str	r3, [r0, #96]
 4600              	.L262:
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4601              		.loc 1 2150 3 is_stmt 1 view .LVU1671
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4602              		.loc 1 2150 42 is_stmt 0 view .LVU1672
 4603 00d2 C36E     		ldr	r3, [r0, #108]
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4604              		.loc 1 2150 23 view .LVU1673
 4605 00d4 C3F38033 		ubfx	r3, r3, #14, #1
2150:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4606              		.loc 1 2150 21 view .LVU1674
 4607 00d8 4B76     		strb	r3, [r1, #25]
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4608              		.loc 1 2152 3 is_stmt 1 view .LVU1675
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4609              		.loc 1 2152 41 is_stmt 0 view .LVU1676
 4610 00da C36E     		ldr	r3, [r0, #108]
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4611              		.loc 1 2152 22 view .LVU1677
 4612 00dc C3F3C613 		ubfx	r3, r3, #7, #7
2152:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 167


 4613              		.loc 1 2152 20 view .LVU1678
 4614 00e0 8B76     		strb	r3, [r1, #26]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4615              		.loc 1 2154 3 is_stmt 1 view .LVU1679
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4616              		.loc 1 2154 45 is_stmt 0 view .LVU1680
 4617 00e2 C36E     		ldr	r3, [r0, #108]
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4618              		.loc 1 2154 27 view .LVU1681
 4619 00e4 03F07F03 		and	r3, r3, #127
2154:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4620              		.loc 1 2154 25 view .LVU1682
 4621 00e8 CB76     		strb	r3, [r1, #27]
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4622              		.loc 1 2156 3 is_stmt 1 view .LVU1683
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4623              		.loc 1 2156 48 is_stmt 0 view .LVU1684
 4624 00ea 036F     		ldr	r3, [r0, #112]
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4625              		.loc 1 2156 29 view .LVU1685
 4626 00ec DB0F     		lsrs	r3, r3, #31
2156:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4627              		.loc 1 2156 27 view .LVU1686
 4628 00ee 0B77     		strb	r3, [r1, #28]
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4629              		.loc 1 2158 3 is_stmt 1 view .LVU1687
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4630              		.loc 1 2158 41 is_stmt 0 view .LVU1688
 4631 00f0 036F     		ldr	r3, [r0, #112]
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4632              		.loc 1 2158 22 view .LVU1689
 4633 00f2 C3F34173 		ubfx	r3, r3, #29, #2
2158:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4634              		.loc 1 2158 20 view .LVU1690
 4635 00f6 4B77     		strb	r3, [r1, #29]
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4636              		.loc 1 2160 3 is_stmt 1 view .LVU1691
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4637              		.loc 1 2160 42 is_stmt 0 view .LVU1692
 4638 00f8 036F     		ldr	r3, [r0, #112]
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4639              		.loc 1 2160 23 view .LVU1693
 4640 00fa C3F38263 		ubfx	r3, r3, #26, #3
2160:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4641              		.loc 1 2160 21 view .LVU1694
 4642 00fe 8B77     		strb	r3, [r1, #30]
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4643              		.loc 1 2162 3 is_stmt 1 view .LVU1695
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4644              		.loc 1 2162 43 is_stmt 0 view .LVU1696
 4645 0100 036F     		ldr	r3, [r0, #112]
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4646              		.loc 1 2162 24 view .LVU1697
 4647 0102 C3F38353 		ubfx	r3, r3, #22, #4
2162:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4648              		.loc 1 2162 22 view .LVU1698
 4649 0106 CB77     		strb	r3, [r1, #31]
ARM GAS  D:\Temp\cccH9bx8.s 			page 168


2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4650              		.loc 1 2164 3 is_stmt 1 view .LVU1699
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4651              		.loc 1 2164 50 is_stmt 0 view .LVU1700
 4652 0108 036F     		ldr	r3, [r0, #112]
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4653              		.loc 1 2164 31 view .LVU1701
 4654 010a C3F34053 		ubfx	r3, r3, #21, #1
2164:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4655              		.loc 1 2164 29 view .LVU1702
 4656 010e 81F82030 		strb	r3, [r1, #32]
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4657              		.loc 1 2166 3 is_stmt 1 view .LVU1703
2166:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4658              		.loc 1 2166 19 is_stmt 0 view .LVU1704
 4659 0112 0023     		movs	r3, #0
 4660 0114 81F82130 		strb	r3, [r1, #33]
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4661              		.loc 1 2168 3 is_stmt 1 view .LVU1705
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4662              		.loc 1 2168 69 is_stmt 0 view .LVU1706
 4663 0118 B0F87220 		ldrh	r2, [r0, #114]
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4664              		.loc 1 2168 31 view .LVU1707
 4665 011c 02F00102 		and	r2, r2, #1
2168:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4666              		.loc 1 2168 29 view .LVU1708
 4667 0120 81F82220 		strb	r2, [r1, #34]
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4668              		.loc 1 2170 3 is_stmt 1 view .LVU1709
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4669              		.loc 1 2170 46 is_stmt 0 view .LVU1710
 4670 0124 026F     		ldr	r2, [r0, #112]
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4671              		.loc 1 2170 27 view .LVU1711
 4672 0126 C2F3C032 		ubfx	r2, r2, #15, #1
2170:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4673              		.loc 1 2170 25 view .LVU1712
 4674 012a 81F82320 		strb	r2, [r1, #35]
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4675              		.loc 1 2172 3 is_stmt 1 view .LVU1713
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4676              		.loc 1 2172 39 is_stmt 0 view .LVU1714
 4677 012e 026F     		ldr	r2, [r0, #112]
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4678              		.loc 1 2172 20 view .LVU1715
 4679 0130 C2F38032 		ubfx	r2, r2, #14, #1
2172:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4680              		.loc 1 2172 18 view .LVU1716
 4681 0134 81F82420 		strb	r2, [r1, #36]
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4682              		.loc 1 2174 3 is_stmt 1 view .LVU1717
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4683              		.loc 1 2174 44 is_stmt 0 view .LVU1718
 4684 0138 026F     		ldr	r2, [r0, #112]
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4685              		.loc 1 2174 25 view .LVU1719
ARM GAS  D:\Temp\cccH9bx8.s 			page 169


 4686 013a C2F34032 		ubfx	r2, r2, #13, #1
2174:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4687              		.loc 1 2174 23 view .LVU1720
 4688 013e 81F82520 		strb	r2, [r1, #37]
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4689              		.loc 1 2176 3 is_stmt 1 view .LVU1721
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4690              		.loc 1 2176 44 is_stmt 0 view .LVU1722
 4691 0142 026F     		ldr	r2, [r0, #112]
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4692              		.loc 1 2176 25 view .LVU1723
 4693 0144 C2F30032 		ubfx	r2, r2, #12, #1
2176:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4694              		.loc 1 2176 23 view .LVU1724
 4695 0148 81F82620 		strb	r2, [r1, #38]
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4696              		.loc 1 2178 3 is_stmt 1 view .LVU1725
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4697              		.loc 1 2178 41 is_stmt 0 view .LVU1726
 4698 014c 026F     		ldr	r2, [r0, #112]
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4699              		.loc 1 2178 22 view .LVU1727
 4700 014e C2F38122 		ubfx	r2, r2, #10, #2
2178:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4701              		.loc 1 2178 20 view .LVU1728
 4702 0152 81F82720 		strb	r2, [r1, #39]
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4703              		.loc 1 2180 3 is_stmt 1 view .LVU1729
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4704              		.loc 1 2180 33 is_stmt 0 view .LVU1730
 4705 0156 026F     		ldr	r2, [r0, #112]
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4706              		.loc 1 2180 14 view .LVU1731
 4707 0158 C2F30122 		ubfx	r2, r2, #8, #2
2180:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4708              		.loc 1 2180 12 view .LVU1732
 4709 015c 81F82820 		strb	r2, [r1, #40]
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4710              		.loc 1 2182 3 is_stmt 1 view .LVU1733
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4711              		.loc 1 2182 38 is_stmt 0 view .LVU1734
 4712 0160 026F     		ldr	r2, [r0, #112]
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4713              		.loc 1 2182 19 view .LVU1735
 4714 0162 C2F34602 		ubfx	r2, r2, #1, #7
2182:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4715              		.loc 1 2182 17 view .LVU1736
 4716 0166 81F82920 		strb	r2, [r1, #41]
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4717              		.loc 1 2184 3 is_stmt 1 view .LVU1737
2184:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4718              		.loc 1 2184 19 is_stmt 0 view .LVU1738
 4719 016a 0122     		movs	r2, #1
 4720 016c 81F82A20 		strb	r2, [r1, #42]
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4721              		.loc 1 2186 3 is_stmt 1 view .LVU1739
2186:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
ARM GAS  D:\Temp\cccH9bx8.s 			page 170


 4722              		.loc 1 2186 10 is_stmt 0 view .LVU1740
 4723 0170 1846     		mov	r0, r3
 4724              	.LVL398:
 4725              	.L264:
2187:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4726              		.loc 1 2187 1 view .LVU1741
 4727 0172 5DF8044B 		ldr	r4, [sp], #4
 4728              	.LCFI52:
 4729              		.cfi_remember_state
 4730              		.cfi_restore 4
 4731              		.cfi_def_cfa_offset 0
 4732 0176 7047     		bx	lr
 4733              	.LVL399:
 4734              	.L261:
 4735              	.LCFI53:
 4736              		.cfi_restore_state
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4737              		.loc 1 2131 8 is_stmt 1 view .LVU1742
2131:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4738              		.loc 1 2131 10 is_stmt 0 view .LVU1743
 4739 0178 012B     		cmp	r3, #1
 4740 017a 11D1     		bne	.L263
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4741              		.loc 1 2134 5 is_stmt 1 view .LVU1744
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4742              		.loc 1 2134 35 is_stmt 0 view .LVU1745
 4743 017c 836E     		ldr	r3, [r0, #104]
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4744              		.loc 1 2134 54 view .LVU1746
 4745 017e 1B04     		lsls	r3, r3, #16
 4746 0180 03F47C13 		and	r3, r3, #4128768
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4747              		.loc 1 2134 93 view .LVU1747
 4748 0184 B0F86E20 		ldrh	r2, [r0, #110]
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4749              		.loc 1 2134 62 view .LVU1748
 4750 0188 1343     		orrs	r3, r3, r2
2134:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4751              		.loc 1 2134 22 view .LVU1749
 4752 018a 0B61     		str	r3, [r1, #16]
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4753              		.loc 1 2136 5 is_stmt 1 view .LVU1750
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4754              		.loc 1 2136 34 is_stmt 0 view .LVU1751
 4755 018c 0B69     		ldr	r3, [r1, #16]
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4756              		.loc 1 2136 53 view .LVU1752
 4757 018e 0133     		adds	r3, r3, #1
 4758 0190 9B02     		lsls	r3, r3, #10
2136:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockNbr = hsd->SdCard.BlockNbr;
 4759              		.loc 1 2136 26 view .LVU1753
 4760 0192 4365     		str	r3, [r0, #84]
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4761              		.loc 1 2137 5 is_stmt 1 view .LVU1754
2137:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.BlockSize = 512U;
 4762              		.loc 1 2137 29 is_stmt 0 view .LVU1755
 4763 0194 C365     		str	r3, [r0, #92]
ARM GAS  D:\Temp\cccH9bx8.s 			page 171


2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4764              		.loc 1 2138 5 is_stmt 1 view .LVU1756
2138:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->SdCard.LogBlockSize = hsd->SdCard.BlockSize;
 4765              		.loc 1 2138 27 is_stmt 0 view .LVU1757
 4766 0196 4FF40073 		mov	r3, #512
 4767 019a 8365     		str	r3, [r0, #88]
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4768              		.loc 1 2139 5 is_stmt 1 view .LVU1758
2139:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4769              		.loc 1 2139 30 is_stmt 0 view .LVU1759
 4770 019c 0366     		str	r3, [r0, #96]
 4771 019e 98E7     		b	.L262
 4772              	.L263:
2144:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= HAL_SD_ERROR_UNSUPPORTED_FEATURE;
 4773              		.loc 1 2144 5 is_stmt 1 view .LVU1760
 4774 01a0 0368     		ldr	r3, [r0]
 4775 01a2 054A     		ldr	r2, .L266
 4776 01a4 9A63     		str	r2, [r3, #56]
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4777              		.loc 1 2145 5 view .LVU1761
2145:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 4778              		.loc 1 2145 20 is_stmt 0 view .LVU1762
 4779 01a6 836B     		ldr	r3, [r0, #56]
 4780 01a8 43F08053 		orr	r3, r3, #268435456
 4781 01ac 8363     		str	r3, [r0, #56]
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 4782              		.loc 1 2146 5 is_stmt 1 view .LVU1763
2146:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 4783              		.loc 1 2146 16 is_stmt 0 view .LVU1764
 4784 01ae 0123     		movs	r3, #1
 4785 01b0 80F83430 		strb	r3, [r0, #52]
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4786              		.loc 1 2147 5 is_stmt 1 view .LVU1765
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4787              		.loc 1 2147 12 is_stmt 0 view .LVU1766
 4788 01b4 1846     		mov	r0, r3
 4789              	.LVL400:
2147:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 4790              		.loc 1 2147 12 view .LVU1767
 4791 01b6 DCE7     		b	.L264
 4792              	.L267:
 4793              		.align	2
 4794              	.L266:
 4795 01b8 FF054000 		.word	4195839
 4796              		.cfi_endproc
 4797              	.LFE150:
 4799              		.section	.text.SD_InitCard,"ax",%progbits
 4800              		.align	1
 4801              		.syntax unified
 4802              		.thumb
 4803              		.thumb_func
 4804              		.fpu fpv4-sp-d16
 4806              	SD_InitCard:
 4807              	.LVL401:
 4808              	.LFB162:
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4809              		.loc 1 2692 1 is_stmt 1 view -0
ARM GAS  D:\Temp\cccH9bx8.s 			page 172


 4810              		.cfi_startproc
 4811              		@ args = 0, pretend = 0, frame = 48
 4812              		@ frame_needed = 0, uses_anonymous_args = 0
2692:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardCSDTypeDef CSD;
 4813              		.loc 1 2692 1 is_stmt 0 view .LVU1769
 4814 0000 70B5     		push	{r4, r5, r6, lr}
 4815              	.LCFI54:
 4816              		.cfi_def_cfa_offset 16
 4817              		.cfi_offset 4, -16
 4818              		.cfi_offset 5, -12
 4819              		.cfi_offset 6, -8
 4820              		.cfi_offset 14, -4
 4821 0002 90B0     		sub	sp, sp, #64
 4822              	.LCFI55:
 4823              		.cfi_def_cfa_offset 80
 4824 0004 0446     		mov	r4, r0
2693:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 4825              		.loc 1 2693 3 is_stmt 1 view .LVU1770
2694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint16_t sd_rca = 1U;
 4826              		.loc 1 2694 3 view .LVU1771
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4827              		.loc 1 2695 3 view .LVU1772
2695:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4828              		.loc 1 2695 12 is_stmt 0 view .LVU1773
 4829 0006 0123     		movs	r3, #1
 4830 0008 ADF81230 		strh	r3, [sp, #18]	@ movhi
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4831              		.loc 1 2698 3 is_stmt 1 view .LVU1774
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4832              		.loc 1 2698 6 is_stmt 0 view .LVU1775
 4833 000c 0068     		ldr	r0, [r0]
 4834              	.LVL402:
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4835              		.loc 1 2698 6 view .LVU1776
 4836 000e FFF7FEFF 		bl	SDIO_GetPowerState
 4837              	.LVL403:
2698:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4838              		.loc 1 2698 5 view .LVU1777
 4839 0012 0028     		cmp	r0, #0
 4840 0014 6CD0     		beq	.L273
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4841              		.loc 1 2704 3 is_stmt 1 view .LVU1778
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4842              		.loc 1 2704 17 is_stmt 0 view .LVU1779
 4843 0016 636C     		ldr	r3, [r4, #68]
2704:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4844              		.loc 1 2704 5 view .LVU1780
 4845 0018 032B     		cmp	r3, #3
 4846 001a 45D1     		bne	.L276
 4847              	.L270:
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4848              		.loc 1 2722 3 is_stmt 1 view .LVU1781
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4849              		.loc 1 2722 17 is_stmt 0 view .LVU1782
 4850 001c 636C     		ldr	r3, [r4, #68]
2722:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4851              		.loc 1 2722 5 view .LVU1783
ARM GAS  D:\Temp\cccH9bx8.s 			page 173


 4852 001e 032B     		cmp	r3, #3
 4853 0020 5DD1     		bne	.L277
 4854              	.L271:
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4855              		.loc 1 2732 3 is_stmt 1 view .LVU1784
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4856              		.loc 1 2732 17 is_stmt 0 view .LVU1785
 4857 0022 636C     		ldr	r3, [r4, #68]
2732:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4858              		.loc 1 2732 5 view .LVU1786
 4859 0024 032B     		cmp	r3, #3
 4860 0026 1DD0     		beq	.L272
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4861              		.loc 1 2735 5 is_stmt 1 view .LVU1787
2735:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4862              		.loc 1 2735 28 is_stmt 0 view .LVU1788
 4863 0028 BDF81210 		ldrh	r1, [sp, #18]
 4864 002c 2165     		str	r1, [r4, #80]
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4865              		.loc 1 2738 5 is_stmt 1 view .LVU1789
2738:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4866              		.loc 1 2738 18 is_stmt 0 view .LVU1790
 4867 002e 0904     		lsls	r1, r1, #16
 4868 0030 2068     		ldr	r0, [r4]
 4869 0032 FFF7FEFF 		bl	SDMMC_CmdSendCSD
 4870              	.LVL404:
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4871              		.loc 1 2739 5 is_stmt 1 view .LVU1791
2739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4872              		.loc 1 2739 7 is_stmt 0 view .LVU1792
 4873 0036 0546     		mov	r5, r0
 4874 0038 0028     		cmp	r0, #0
 4875 003a 5BD1     		bne	.L268
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4876              		.loc 1 2746 7 is_stmt 1 view .LVU1793
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4877              		.loc 1 2746 22 is_stmt 0 view .LVU1794
 4878 003c 0021     		movs	r1, #0
 4879 003e 2068     		ldr	r0, [r4]
 4880              	.LVL405:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4881              		.loc 1 2746 22 view .LVU1795
 4882 0040 FFF7FEFF 		bl	SDIO_GetResponse
 4883              	.LVL406:
2746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4884              		.loc 1 2746 20 view .LVU1796
 4885 0044 6066     		str	r0, [r4, #100]
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4886              		.loc 1 2747 7 is_stmt 1 view .LVU1797
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4887              		.loc 1 2747 22 is_stmt 0 view .LVU1798
 4888 0046 0421     		movs	r1, #4
 4889 0048 2068     		ldr	r0, [r4]
 4890 004a FFF7FEFF 		bl	SDIO_GetResponse
 4891              	.LVL407:
2747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4892              		.loc 1 2747 20 view .LVU1799
ARM GAS  D:\Temp\cccH9bx8.s 			page 174


 4893 004e A066     		str	r0, [r4, #104]
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4894              		.loc 1 2748 7 is_stmt 1 view .LVU1800
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4895              		.loc 1 2748 22 is_stmt 0 view .LVU1801
 4896 0050 0821     		movs	r1, #8
 4897 0052 2068     		ldr	r0, [r4]
 4898 0054 FFF7FEFF 		bl	SDIO_GetResponse
 4899              	.LVL408:
2748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CSD[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4900              		.loc 1 2748 20 view .LVU1802
 4901 0058 E066     		str	r0, [r4, #108]
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4902              		.loc 1 2749 7 is_stmt 1 view .LVU1803
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4903              		.loc 1 2749 22 is_stmt 0 view .LVU1804
 4904 005a 0C21     		movs	r1, #12
 4905 005c 2068     		ldr	r0, [r4]
 4906 005e FFF7FEFF 		bl	SDIO_GetResponse
 4907              	.LVL409:
2749:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4908              		.loc 1 2749 20 view .LVU1805
 4909 0062 2067     		str	r0, [r4, #112]
 4910              	.LVL410:
 4911              	.L272:
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4912              		.loc 1 2754 3 is_stmt 1 view .LVU1806
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4913              		.loc 1 2754 24 is_stmt 0 view .LVU1807
 4914 0064 0421     		movs	r1, #4
 4915 0066 2068     		ldr	r0, [r4]
 4916 0068 FFF7FEFF 		bl	SDIO_GetResponse
 4917              	.LVL411:
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4918              		.loc 1 2754 68 view .LVU1808
 4919 006c 000D     		lsrs	r0, r0, #20
2754:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4920              		.loc 1 2754 21 view .LVU1809
 4921 006e E064     		str	r0, [r4, #76]
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4922              		.loc 1 2757 3 is_stmt 1 view .LVU1810
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4923              		.loc 1 2757 7 is_stmt 0 view .LVU1811
 4924 0070 05A9     		add	r1, sp, #20
 4925 0072 2046     		mov	r0, r4
 4926 0074 FFF7FEFF 		bl	HAL_SD_GetCardCSD
 4927              	.LVL412:
2757:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4928              		.loc 1 2757 6 view .LVU1812
 4929 0078 0028     		cmp	r0, #0
 4930 007a 3ED1     		bne	.L274
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4931              		.loc 1 2763 3 is_stmt 1 view .LVU1813
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 4932              		.loc 1 2763 82 is_stmt 0 view .LVU1814
 4933 007c 226D     		ldr	r2, [r4, #80]
2763:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
ARM GAS  D:\Temp\cccH9bx8.s 			page 175


 4934              		.loc 1 2763 16 view .LVU1815
 4935 007e 1204     		lsls	r2, r2, #16
 4936 0080 0023     		movs	r3, #0
 4937 0082 2068     		ldr	r0, [r4]
 4938 0084 FFF7FEFF 		bl	SDMMC_CmdSelDesel
 4939              	.LVL413:
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4940              		.loc 1 2764 3 is_stmt 1 view .LVU1816
2764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 4941              		.loc 1 2764 5 is_stmt 0 view .LVU1817
 4942 0088 0546     		mov	r5, r0
 4943 008a 98BB     		cbnz	r0, .L268
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4944              		.loc 1 2770 3 is_stmt 1 view .LVU1818
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4945              		.loc 1 2770 9 is_stmt 0 view .LVU1819
 4946 008c 2346     		mov	r3, r4
 4947 008e 53F8106B 		ldr	r6, [r3], #16
 4948 0092 93E80700 		ldm	r3, {r0, r1, r2}
 4949              	.LVL414:
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4950              		.loc 1 2770 9 view .LVU1820
 4951 0096 8DE80700 		stm	sp, {r0, r1, r2}
 4952 009a 0434     		adds	r4, r4, #4
 4953              	.LVL415:
2770:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 4954              		.loc 1 2770 9 view .LVU1821
 4955 009c 94E80E00 		ldm	r4, {r1, r2, r3}
 4956 00a0 3046     		mov	r0, r6
 4957 00a2 FFF7FEFF 		bl	SDIO_Init
 4958              	.LVL416:
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4959              		.loc 1 2773 3 is_stmt 1 view .LVU1822
2773:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 4960              		.loc 1 2773 10 is_stmt 0 view .LVU1823
 4961 00a6 25E0     		b	.L268
 4962              	.LVL417:
 4963              	.L276:
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4964              		.loc 1 2707 5 is_stmt 1 view .LVU1824
2707:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 4965              		.loc 1 2707 18 is_stmt 0 view .LVU1825
 4966 00a8 2068     		ldr	r0, [r4]
 4967 00aa FFF7FEFF 		bl	SDMMC_CmdSendCID
 4968              	.LVL418:
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4969              		.loc 1 2708 5 is_stmt 1 view .LVU1826
2708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 4970              		.loc 1 2708 7 is_stmt 0 view .LVU1827
 4971 00ae 0546     		mov	r5, r0
 4972 00b0 00BB     		cbnz	r0, .L268
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4973              		.loc 1 2715 7 is_stmt 1 view .LVU1828
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4974              		.loc 1 2715 22 is_stmt 0 view .LVU1829
 4975 00b2 0021     		movs	r1, #0
 4976 00b4 2068     		ldr	r0, [r4]
ARM GAS  D:\Temp\cccH9bx8.s 			page 176


 4977              	.LVL419:
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4978              		.loc 1 2715 22 view .LVU1830
 4979 00b6 FFF7FEFF 		bl	SDIO_GetResponse
 4980              	.LVL420:
2715:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[1U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP2);
 4981              		.loc 1 2715 20 view .LVU1831
 4982 00ba 6067     		str	r0, [r4, #116]
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4983              		.loc 1 2716 7 is_stmt 1 view .LVU1832
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4984              		.loc 1 2716 22 is_stmt 0 view .LVU1833
 4985 00bc 0421     		movs	r1, #4
 4986 00be 2068     		ldr	r0, [r4]
 4987 00c0 FFF7FEFF 		bl	SDIO_GetResponse
 4988              	.LVL421:
2716:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[2U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP3);
 4989              		.loc 1 2716 20 view .LVU1834
 4990 00c4 A067     		str	r0, [r4, #120]
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4991              		.loc 1 2717 7 is_stmt 1 view .LVU1835
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4992              		.loc 1 2717 22 is_stmt 0 view .LVU1836
 4993 00c6 0821     		movs	r1, #8
 4994 00c8 2068     		ldr	r0, [r4]
 4995 00ca FFF7FEFF 		bl	SDIO_GetResponse
 4996              	.LVL422:
2717:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->CID[3U] = SDIO_GetResponse(hsd->Instance, SDIO_RESP4);
 4997              		.loc 1 2717 20 view .LVU1837
 4998 00ce E067     		str	r0, [r4, #124]
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 4999              		.loc 1 2718 7 is_stmt 1 view .LVU1838
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5000              		.loc 1 2718 22 is_stmt 0 view .LVU1839
 5001 00d0 0C21     		movs	r1, #12
 5002 00d2 2068     		ldr	r0, [r4]
 5003 00d4 FFF7FEFF 		bl	SDIO_GetResponse
 5004              	.LVL423:
2718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5005              		.loc 1 2718 20 view .LVU1840
 5006 00d8 C4F88000 		str	r0, [r4, #128]
 5007 00dc 9EE7     		b	.L270
 5008              	.LVL424:
 5009              	.L277:
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 5010              		.loc 1 2726 5 is_stmt 1 view .LVU1841
2726:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if(errorstate != HAL_SD_ERROR_NONE)
 5011              		.loc 1 2726 18 is_stmt 0 view .LVU1842
 5012 00de 0DF11201 		add	r1, sp, #18
 5013 00e2 2068     		ldr	r0, [r4]
 5014 00e4 FFF7FEFF 		bl	SDMMC_CmdSetRelAdd
 5015              	.LVL425:
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5016              		.loc 1 2727 5 is_stmt 1 view .LVU1843
2727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5017              		.loc 1 2727 7 is_stmt 0 view .LVU1844
 5018 00e8 0546     		mov	r5, r0
ARM GAS  D:\Temp\cccH9bx8.s 			page 177


 5019 00ea 0028     		cmp	r0, #0
 5020 00ec 99D0     		beq	.L271
 5021 00ee 01E0     		b	.L268
 5022              	.LVL426:
 5023              	.L273:
2701:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5024              		.loc 1 2701 12 view .LVU1845
 5025 00f0 4FF08065 		mov	r5, #67108864
 5026              	.LVL427:
 5027              	.L268:
2774:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5028              		.loc 1 2774 1 view .LVU1846
 5029 00f4 2846     		mov	r0, r5
 5030 00f6 10B0     		add	sp, sp, #64
 5031              	.LCFI56:
 5032              		.cfi_remember_state
 5033              		.cfi_def_cfa_offset 16
 5034              		@ sp needed
 5035 00f8 70BD     		pop	{r4, r5, r6, pc}
 5036              	.LVL428:
 5037              	.L274:
 5038              	.LCFI57:
 5039              		.cfi_restore_state
2759:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5040              		.loc 1 2759 12 view .LVU1847
 5041 00fa 4FF08055 		mov	r5, #268435456
 5042 00fe F9E7     		b	.L268
 5043              		.cfi_endproc
 5044              	.LFE162:
 5046              		.section	.text.HAL_SD_InitCard,"ax",%progbits
 5047              		.align	1
 5048              		.global	HAL_SD_InitCard
 5049              		.syntax unified
 5050              		.thumb
 5051              		.thumb_func
 5052              		.fpu fpv4-sp-d16
 5054              	HAL_SD_InitCard:
 5055              	.LVL429:
 5056              	.LFB131:
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 5057              		.loc 1 404 1 is_stmt 1 view -0
 5058              		.cfi_startproc
 5059              		@ args = 0, pretend = 0, frame = 24
 5060              		@ frame_needed = 0, uses_anonymous_args = 0
 404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 5061              		.loc 1 404 1 is_stmt 0 view .LVU1849
 5062 0000 70B5     		push	{r4, r5, r6, lr}
 5063              	.LCFI58:
 5064              		.cfi_def_cfa_offset 16
 5065              		.cfi_offset 4, -16
 5066              		.cfi_offset 5, -12
 5067              		.cfi_offset 6, -8
 5068              		.cfi_offset 14, -4
 5069 0002 8AB0     		sub	sp, sp, #40
 5070              	.LCFI59:
 5071              		.cfi_def_cfa_offset 56
 5072 0004 0446     		mov	r4, r0
ARM GAS  D:\Temp\cccH9bx8.s 			page 178


 405:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_StatusTypeDef status;
 5073              		.loc 1 405 3 is_stmt 1 view .LVU1850
 406:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_InitTypeDef Init;
 5074              		.loc 1 406 3 view .LVU1851
 407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   
 5075              		.loc 1 407 3 view .LVU1852
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 5076              		.loc 1 410 3 view .LVU1853
 410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockBypass         = SDIO_CLOCK_BYPASS_DISABLE;
 5077              		.loc 1 410 28 is_stmt 0 view .LVU1854
 5078 0006 0023     		movs	r3, #0
 5079 0008 0493     		str	r3, [sp, #16]
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 5080              		.loc 1 411 3 is_stmt 1 view .LVU1855
 411:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockPowerSave      = SDIO_CLOCK_POWER_SAVE_DISABLE;
 5081              		.loc 1 411 28 is_stmt 0 view .LVU1856
 5082 000a 0593     		str	r3, [sp, #20]
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 5083              		.loc 1 412 3 is_stmt 1 view .LVU1857
 412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.BusWide             = SDIO_BUS_WIDE_1B;
 5084              		.loc 1 412 28 is_stmt 0 view .LVU1858
 5085 000c 0693     		str	r3, [sp, #24]
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 5086              		.loc 1 413 3 is_stmt 1 view .LVU1859
 413:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.HardwareFlowControl = SDIO_HARDWARE_FLOW_CONTROL_DISABLE;
 5087              		.loc 1 413 28 is_stmt 0 view .LVU1860
 5088 000e 0793     		str	r3, [sp, #28]
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 5089              		.loc 1 414 3 is_stmt 1 view .LVU1861
 414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   Init.ClockDiv            = SDIO_INIT_CLK_DIV;
 5090              		.loc 1 414 28 is_stmt 0 view .LVU1862
 5091 0010 0893     		str	r3, [sp, #32]
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5092              		.loc 1 415 3 is_stmt 1 view .LVU1863
 415:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5093              		.loc 1 415 28 is_stmt 0 view .LVU1864
 5094 0012 7623     		movs	r3, #118
 5095 0014 0993     		str	r3, [sp, #36]
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(status != HAL_OK)
 5096              		.loc 1 418 3 is_stmt 1 view .LVU1865
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(status != HAL_OK)
 5097              		.loc 1 418 12 is_stmt 0 view .LVU1866
 5098 0016 0AAB     		add	r3, sp, #40
 5099 0018 13E90700 		ldmdb	r3, {r0, r1, r2}
 5100              	.LVL430:
 418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(status != HAL_OK)
 5101              		.loc 1 418 12 view .LVU1867
 5102 001c 8DE80700 		stm	sp, {r0, r1, r2}
 5103 0020 04AB     		add	r3, sp, #16
 5104 0022 0ECB     		ldm	r3, {r1, r2, r3}
 5105 0024 2068     		ldr	r0, [r4]
 5106 0026 FFF7FEFF 		bl	SDIO_Init
 5107              	.LVL431:
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5108              		.loc 1 419 3 is_stmt 1 view .LVU1868
 419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5109              		.loc 1 419 5 is_stmt 0 view .LVU1869
ARM GAS  D:\Temp\cccH9bx8.s 			page 179


 5110 002a 18B1     		cbz	r0, .L283
 421:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5111              		.loc 1 421 12 view .LVU1870
 5112 002c 0125     		movs	r5, #1
 5113              	.LVL432:
 5114              	.L279:
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5115              		.loc 1 452 1 view .LVU1871
 5116 002e 2846     		mov	r0, r5
 5117 0030 0AB0     		add	sp, sp, #40
 5118              	.LCFI60:
 5119              		.cfi_remember_state
 5120              		.cfi_def_cfa_offset 16
 5121              		@ sp needed
 5122 0032 70BD     		pop	{r4, r5, r6, pc}
 5123              	.LVL433:
 5124              	.L283:
 5125              	.LCFI61:
 5126              		.cfi_restore_state
 452:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5127              		.loc 1 452 1 view .LVU1872
 5128 0034 0546     		mov	r5, r0
 425:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5129              		.loc 1 425 3 is_stmt 1 view .LVU1873
 5130 0036 104E     		ldr	r6, .L284
 5131 0038 0023     		movs	r3, #0
 5132 003a 3360     		str	r3, [r6]
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5133              		.loc 1 428 3 view .LVU1874
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5134              		.loc 1 428 9 is_stmt 0 view .LVU1875
 5135 003c 2068     		ldr	r0, [r4]
 5136              	.LVL434:
 428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5137              		.loc 1 428 9 view .LVU1876
 5138 003e FFF7FEFF 		bl	SDIO_PowerState_ON
 5139              	.LVL435:
 431:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5140              		.loc 1 431 3 is_stmt 1 view .LVU1877
 5141 0042 0123     		movs	r3, #1
 5142 0044 3360     		str	r3, [r6]
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5143              		.loc 1 434 3 view .LVU1878
 434:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5144              		.loc 1 434 16 is_stmt 0 view .LVU1879
 5145 0046 2046     		mov	r0, r4
 5146 0048 FFF7FEFF 		bl	SD_PowerON
 5147              	.LVL436:
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5148              		.loc 1 435 3 is_stmt 1 view .LVU1880
 435:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5149              		.loc 1 435 5 is_stmt 0 view .LVU1881
 5150 004c 0346     		mov	r3, r0
 5151 004e 30B1     		cbz	r0, .L280
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5152              		.loc 1 437 5 is_stmt 1 view .LVU1882
 437:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
ARM GAS  D:\Temp\cccH9bx8.s 			page 180


 5153              		.loc 1 437 16 is_stmt 0 view .LVU1883
 5154 0050 0125     		movs	r5, #1
 5155 0052 84F83450 		strb	r5, [r4, #52]
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5156              		.loc 1 438 5 is_stmt 1 view .LVU1884
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5157              		.loc 1 438 20 is_stmt 0 view .LVU1885
 5158 0056 A06B     		ldr	r0, [r4, #56]
 5159              	.LVL437:
 438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5160              		.loc 1 438 20 view .LVU1886
 5161 0058 1843     		orrs	r0, r0, r3
 5162 005a A063     		str	r0, [r4, #56]
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5163              		.loc 1 439 5 is_stmt 1 view .LVU1887
 439:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5164              		.loc 1 439 12 is_stmt 0 view .LVU1888
 5165 005c E7E7     		b	.L279
 5166              	.LVL438:
 5167              	.L280:
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5168              		.loc 1 443 3 is_stmt 1 view .LVU1889
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5169              		.loc 1 443 16 is_stmt 0 view .LVU1890
 5170 005e 2046     		mov	r0, r4
 5171              	.LVL439:
 443:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5172              		.loc 1 443 16 view .LVU1891
 5173 0060 FFF7FEFF 		bl	SD_InitCard
 5174              	.LVL440:
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5175              		.loc 1 444 3 is_stmt 1 view .LVU1892
 444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5176              		.loc 1 444 5 is_stmt 0 view .LVU1893
 5177 0064 0346     		mov	r3, r0
 5178 0066 0028     		cmp	r0, #0
 5179 0068 E1D0     		beq	.L279
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5180              		.loc 1 446 5 is_stmt 1 view .LVU1894
 446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5181              		.loc 1 446 16 is_stmt 0 view .LVU1895
 5182 006a 0125     		movs	r5, #1
 5183 006c 84F83450 		strb	r5, [r4, #52]
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5184              		.loc 1 447 5 is_stmt 1 view .LVU1896
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5185              		.loc 1 447 20 is_stmt 0 view .LVU1897
 5186 0070 A06B     		ldr	r0, [r4, #56]
 5187              	.LVL441:
 447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5188              		.loc 1 447 20 view .LVU1898
 5189 0072 1843     		orrs	r0, r0, r3
 5190 0074 A063     		str	r0, [r4, #56]
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5191              		.loc 1 448 5 is_stmt 1 view .LVU1899
 448:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5192              		.loc 1 448 12 is_stmt 0 view .LVU1900
ARM GAS  D:\Temp\cccH9bx8.s 			page 181


 5193 0076 DAE7     		b	.L279
 5194              	.L285:
 5195              		.align	2
 5196              	.L284:
 5197 0078 A0802542 		.word	1109754016
 5198              		.cfi_endproc
 5199              	.LFE131:
 5201              		.section	.text.HAL_SD_Init,"ax",%progbits
 5202              		.align	1
 5203              		.global	HAL_SD_Init
 5204              		.syntax unified
 5205              		.thumb
 5206              		.thumb_func
 5207              		.fpu fpv4-sp-d16
 5209              	HAL_SD_Init:
 5210              	.LVL442:
 5211              	.LFB130:
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 5212              		.loc 1 336 1 is_stmt 1 view -0
 5213              		.cfi_startproc
 5214              		@ args = 0, pretend = 0, frame = 0
 5215              		@ frame_needed = 0, uses_anonymous_args = 0
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5216              		.loc 1 338 3 view .LVU1902
 338:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5217              		.loc 1 338 5 is_stmt 0 view .LVU1903
 5218 0000 C0B1     		cbz	r0, .L289
 336:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   /* Check the SD handle allocation */
 5219              		.loc 1 336 1 view .LVU1904
 5220 0002 10B5     		push	{r4, lr}
 5221              	.LCFI62:
 5222              		.cfi_def_cfa_offset 8
 5223              		.cfi_offset 4, -8
 5224              		.cfi_offset 14, -4
 5225 0004 0446     		mov	r4, r0
 344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_EDGE(hsd->Init.ClockEdge));
 5226              		.loc 1 344 3 is_stmt 1 view .LVU1905
 345:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_BYPASS(hsd->Init.ClockBypass));
 5227              		.loc 1 345 3 view .LVU1906
 346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLOCK_POWER_SAVE(hsd->Init.ClockPowerSave));
 5228              		.loc 1 346 3 view .LVU1907
 347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_BUS_WIDE(hsd->Init.BusWide));
 5229              		.loc 1 347 3 view .LVU1908
 348:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_HARDWARE_FLOW_CONTROL(hsd->Init.HardwareFlowControl));
 5230              		.loc 1 348 3 view .LVU1909
 349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   assert_param(IS_SDIO_CLKDIV(hsd->Init.ClockDiv));
 5231              		.loc 1 349 3 view .LVU1910
 350:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5232              		.loc 1 350 3 view .LVU1911
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5233              		.loc 1 352 3 view .LVU1912
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5234              		.loc 1 352 9 is_stmt 0 view .LVU1913
 5235 0006 90F83430 		ldrb	r3, [r0, #52]	@ zero_extendqisi2
 352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5236              		.loc 1 352 5 view .LVU1914
 5237 000a 7BB1     		cbz	r3, .L295
ARM GAS  D:\Temp\cccH9bx8.s 			page 182


 5238              	.LVL443:
 5239              	.L288:
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5240              		.loc 1 376 3 is_stmt 1 view .LVU1915
 376:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5241              		.loc 1 376 14 is_stmt 0 view .LVU1916
 5242 000c 0323     		movs	r3, #3
 5243 000e 84F83430 		strb	r3, [r4, #52]
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5244              		.loc 1 379 3 is_stmt 1 view .LVU1917
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5245              		.loc 1 379 7 is_stmt 0 view .LVU1918
 5246 0012 2046     		mov	r0, r4
 5247 0014 FFF7FEFF 		bl	HAL_SD_InitCard
 5248              	.LVL444:
 379:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5249              		.loc 1 379 6 view .LVU1919
 5250 0018 0346     		mov	r3, r0
 5251 001a 70B9     		cbnz	r0, .L290
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5252              		.loc 1 385 3 is_stmt 1 view .LVU1920
 385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5253              		.loc 1 385 18 is_stmt 0 view .LVU1921
 5254 001c 0022     		movs	r2, #0
 5255 001e A263     		str	r2, [r4, #56]
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5256              		.loc 1 388 3 is_stmt 1 view .LVU1922
 388:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5257              		.loc 1 388 16 is_stmt 0 view .LVU1923
 5258 0020 2263     		str	r2, [r4, #48]
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5259              		.loc 1 391 3 is_stmt 1 view .LVU1924
 391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5260              		.loc 1 391 14 is_stmt 0 view .LVU1925
 5261 0022 0122     		movs	r2, #1
 5262 0024 84F83420 		strb	r2, [r4, #52]
 393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5263              		.loc 1 393 3 is_stmt 1 view .LVU1926
 5264              	.L287:
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5265              		.loc 1 394 1 is_stmt 0 view .LVU1927
 5266 0028 1846     		mov	r0, r3
 5267 002a 10BD     		pop	{r4, pc}
 5268              	.LVL445:
 5269              	.L295:
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5270              		.loc 1 355 5 is_stmt 1 view .LVU1928
 355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 5271              		.loc 1 355 15 is_stmt 0 view .LVU1929
 5272 002c 0377     		strb	r3, [r0, #28]
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5273              		.loc 1 372 5 is_stmt 1 view .LVU1930
 5274 002e FFF7FEFF 		bl	HAL_SD_MspInit
 5275              	.LVL446:
 372:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 5276              		.loc 1 372 5 is_stmt 0 view .LVU1931
 5277 0032 EBE7     		b	.L288
ARM GAS  D:\Temp\cccH9bx8.s 			page 183


 5278              	.LVL447:
 5279              	.L289:
 5280              	.LCFI63:
 5281              		.cfi_def_cfa_offset 0
 5282              		.cfi_restore 4
 5283              		.cfi_restore 14
 340:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5284              		.loc 1 340 12 view .LVU1932
 5285 0034 0123     		movs	r3, #1
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5286              		.loc 1 394 1 view .LVU1933
 5287 0036 1846     		mov	r0, r3
 5288              	.LVL448:
 394:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5289              		.loc 1 394 1 view .LVU1934
 5290 0038 7047     		bx	lr
 5291              	.LVL449:
 5292              	.L290:
 5293              	.LCFI64:
 5294              		.cfi_def_cfa_offset 8
 5295              		.cfi_offset 4, -8
 5296              		.cfi_offset 14, -4
 381:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5297              		.loc 1 381 12 view .LVU1935
 5298 003a 0123     		movs	r3, #1
 5299 003c F4E7     		b	.L287
 5300              		.cfi_endproc
 5301              	.LFE130:
 5303              		.section	.text.HAL_SD_GetCardStatus,"ax",%progbits
 5304              		.align	1
 5305              		.global	HAL_SD_GetCardStatus
 5306              		.syntax unified
 5307              		.thumb
 5308              		.thumb_func
 5309              		.fpu fpv4-sp-d16
 5311              	HAL_SD_GetCardStatus:
 5312              	.LVL450:
 5313              	.LFB151:
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16];
 5314              		.loc 1 2197 1 is_stmt 1 view -0
 5315              		.cfi_startproc
 5316              		@ args = 0, pretend = 0, frame = 64
 5317              		@ frame_needed = 0, uses_anonymous_args = 0
2197:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t sd_status[16];
 5318              		.loc 1 2197 1 is_stmt 0 view .LVU1937
 5319 0000 30B5     		push	{r4, r5, lr}
 5320              	.LCFI65:
 5321              		.cfi_def_cfa_offset 12
 5322              		.cfi_offset 4, -12
 5323              		.cfi_offset 5, -8
 5324              		.cfi_offset 14, -4
 5325 0002 91B0     		sub	sp, sp, #68
 5326              	.LCFI66:
 5327              		.cfi_def_cfa_offset 80
 5328 0004 0546     		mov	r5, r0
 5329 0006 0C46     		mov	r4, r1
2198:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
ARM GAS  D:\Temp\cccH9bx8.s 			page 184


 5330              		.loc 1 2198 3 is_stmt 1 view .LVU1938
2199:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5331              		.loc 1 2199 3 view .LVU1939
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5332              		.loc 1 2201 3 view .LVU1940
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5333              		.loc 1 2201 16 is_stmt 0 view .LVU1941
 5334 0008 6946     		mov	r1, sp
 5335              	.LVL451:
2201:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5336              		.loc 1 2201 16 view .LVU1942
 5337 000a FFF7FEFF 		bl	SD_SendSDStatus
 5338              	.LVL452:
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5339              		.loc 1 2202 3 is_stmt 1 view .LVU1943
2202:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5340              		.loc 1 2202 5 is_stmt 0 view .LVU1944
 5341 000e 98BB     		cbnz	r0, .L300
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5342              		.loc 1 2212 5 is_stmt 1 view .LVU1945
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5343              		.loc 1 2212 49 is_stmt 0 view .LVU1946
 5344 0010 009A     		ldr	r2, [sp]
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5345              		.loc 1 2212 29 view .LVU1947
 5346 0012 C2F38113 		ubfx	r3, r2, #6, #2
2212:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5347              		.loc 1 2212 27 view .LVU1948
 5348 0016 2370     		strb	r3, [r4]
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5349              		.loc 1 2214 5 is_stmt 1 view .LVU1949
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5350              		.loc 1 2214 28 is_stmt 0 view .LVU1950
 5351 0018 C2F34013 		ubfx	r3, r2, #5, #1
2214:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5352              		.loc 1 2214 26 view .LVU1951
 5353 001c 6370     		strb	r3, [r4, #1]
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5354              		.loc 1 2216 5 is_stmt 1 view .LVU1952
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5355              		.loc 1 2216 66 is_stmt 0 view .LVU1953
 5356 001e 130A     		lsrs	r3, r2, #8
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5357              		.loc 1 2216 25 view .LVU1954
 5358 0020 23F0FF03 		bic	r3, r3, #255
 5359 0024 43EA1263 		orr	r3, r3, r2, lsr #24
 5360 0028 9BB2     		uxth	r3, r3
2216:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5361              		.loc 1 2216 23 view .LVU1955
 5362 002a 6380     		strh	r3, [r4, #2]	@ movhi
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5363              		.loc 1 2218 5 is_stmt 1 view .LVU1956
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5364              		.loc 1 2218 46 is_stmt 0 view .LVU1957
 5365 002c 019A     		ldr	r2, [sp, #4]
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5366              		.loc 1 2218 98 view .LVU1958
ARM GAS  D:\Temp\cccH9bx8.s 			page 185


 5367 002e 1302     		lsls	r3, r2, #8
 5368 0030 03F47F03 		and	r3, r3, #16711680
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5369              		.loc 1 2218 70 view .LVU1959
 5370 0034 43EA0263 		orr	r3, r3, r2, lsl #24
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5371              		.loc 1 2219 63 view .LVU1960
 5372 0038 110A     		lsrs	r1, r2, #8
 5373 003a 01F47F41 		and	r1, r1, #65280
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5374              		.loc 1 2218 105 view .LVU1961
 5375 003e 0B43     		orrs	r3, r3, r1
2219:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5376              		.loc 1 2219 70 view .LVU1962
 5377 0040 43EA1263 		orr	r3, r3, r2, lsr #24
2218:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                                   ((sd_status[1] & 0xFF0000U) >> 8U) | ((sd_status[1] & 0xFF000000U
 5378              		.loc 1 2218 32 view .LVU1963
 5379 0044 6360     		str	r3, [r4, #4]
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5380              		.loc 1 2221 5 is_stmt 1 view .LVU1964
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5381              		.loc 1 2221 46 is_stmt 0 view .LVU1965
 5382 0046 029B     		ldr	r3, [sp, #8]
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5383              		.loc 1 2221 27 view .LVU1966
 5384 0048 DAB2     		uxtb	r2, r3
2221:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5385              		.loc 1 2221 25 view .LVU1967
 5386 004a 2272     		strb	r2, [r4, #8]
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5387              		.loc 1 2223 5 is_stmt 1 view .LVU1968
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5388              		.loc 1 2223 32 is_stmt 0 view .LVU1969
 5389 004c C3F30722 		ubfx	r2, r3, #8, #8
2223:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5390              		.loc 1 2223 30 view .LVU1970
 5391 0050 6272     		strb	r2, [r4, #9]
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5392              		.loc 1 2225 5 is_stmt 1 view .LVU1971
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5393              		.loc 1 2225 35 is_stmt 0 view .LVU1972
 5394 0052 C3F30352 		ubfx	r2, r3, #20, #4
2225:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5395              		.loc 1 2225 33 view .LVU1973
 5396 0056 A272     		strb	r2, [r4, #10]
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5397              		.loc 1 2227 5 is_stmt 1 view .LVU1974
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5398              		.loc 1 2227 67 is_stmt 0 view .LVU1975
 5399 0058 1B0C     		lsrs	r3, r3, #16
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5400              		.loc 1 2227 87 view .LVU1976
 5401 005a 039A     		ldr	r2, [sp, #12]
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5402              		.loc 1 2227 91 view .LVU1977
 5403 005c D1B2     		uxtb	r1, r2
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
ARM GAS  D:\Temp\cccH9bx8.s 			page 186


 5404              		.loc 1 2227 26 view .LVU1978
 5405 005e 23F0FF03 		bic	r3, r3, #255
 5406 0062 0B43     		orrs	r3, r3, r1
2227:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5407              		.loc 1 2227 24 view .LVU1979
 5408 0064 A381     		strh	r3, [r4, #12]	@ movhi
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5409              		.loc 1 2229 5 is_stmt 1 view .LVU1980
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5410              		.loc 1 2229 29 is_stmt 0 view .LVU1981
 5411 0066 C2F38523 		ubfx	r3, r2, #10, #6
2229:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5412              		.loc 1 2229 27 view .LVU1982
 5413 006a A373     		strb	r3, [r4, #14]
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5414              		.loc 1 2231 5 is_stmt 1 view .LVU1983
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5415              		.loc 1 2231 28 is_stmt 0 view .LVU1984
 5416 006c C2F30122 		ubfx	r2, r2, #8, #2
2231:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5417              		.loc 1 2231 26 view .LVU1985
 5418 0070 E273     		strb	r2, [r4, #15]
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5419              		.loc 1 2234 3 is_stmt 1 view .LVU1986
2234:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5420              		.loc 1 2234 10 is_stmt 0 view .LVU1987
 5421 0072 0020     		movs	r0, #0
 5422              	.LVL453:
 5423              	.L298:
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5424              		.loc 1 2235 1 view .LVU1988
 5425 0074 11B0     		add	sp, sp, #68
 5426              	.LCFI67:
 5427              		.cfi_remember_state
 5428              		.cfi_def_cfa_offset 12
 5429              		@ sp needed
 5430 0076 30BD     		pop	{r4, r5, pc}
 5431              	.LVL454:
 5432              	.L300:
 5433              	.LCFI68:
 5434              		.cfi_restore_state
2235:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5435              		.loc 1 2235 1 view .LVU1989
 5436 0078 0346     		mov	r3, r0
2205:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->ErrorCode |= errorstate;
 5437              		.loc 1 2205 5 is_stmt 1 view .LVU1990
 5438 007a 2A68     		ldr	r2, [r5]
 5439 007c 0449     		ldr	r1, .L301
 5440 007e 9163     		str	r1, [r2, #56]
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5441              		.loc 1 2206 5 view .LVU1991
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5442              		.loc 1 2206 20 is_stmt 0 view .LVU1992
 5443 0080 A86B     		ldr	r0, [r5, #56]
 5444              	.LVL455:
2206:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5445              		.loc 1 2206 20 view .LVU1993
ARM GAS  D:\Temp\cccH9bx8.s 			page 187


 5446 0082 1843     		orrs	r0, r0, r3
 5447 0084 A863     		str	r0, [r5, #56]
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5448              		.loc 1 2207 5 is_stmt 1 view .LVU1994
2207:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5449              		.loc 1 2207 16 is_stmt 0 view .LVU1995
 5450 0086 0120     		movs	r0, #1
 5451 0088 85F83400 		strb	r0, [r5, #52]
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5452              		.loc 1 2208 5 is_stmt 1 view .LVU1996
2208:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5453              		.loc 1 2208 12 is_stmt 0 view .LVU1997
 5454 008c F2E7     		b	.L298
 5455              	.L302:
 5456 008e 00BF     		.align	2
 5457              	.L301:
 5458 0090 FF054000 		.word	4195839
 5459              		.cfi_endproc
 5460              	.LFE151:
 5462              		.section	.text.HAL_SD_GetCardInfo,"ax",%progbits
 5463              		.align	1
 5464              		.global	HAL_SD_GetCardInfo
 5465              		.syntax unified
 5466              		.thumb
 5467              		.thumb_func
 5468              		.fpu fpv4-sp-d16
 5470              	HAL_SD_GetCardInfo:
 5471              	.LVL456:
 5472              	.LFB152:
2245:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardType     = (uint32_t)(hsd->SdCard.CardType);
 5473              		.loc 1 2245 1 is_stmt 1 view -0
 5474              		.cfi_startproc
 5475              		@ args = 0, pretend = 0, frame = 0
 5476              		@ frame_needed = 0, uses_anonymous_args = 0
 5477              		@ link register save eliminated.
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5478              		.loc 1 2246 3 view .LVU1999
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5479              		.loc 1 2246 51 is_stmt 0 view .LVU2000
 5480 0000 436C     		ldr	r3, [r0, #68]
2246:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->CardVersion  = (uint32_t)(hsd->SdCard.CardVersion);
 5481              		.loc 1 2246 27 view .LVU2001
 5482 0002 0B60     		str	r3, [r1]
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5483              		.loc 1 2247 3 is_stmt 1 view .LVU2002
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5484              		.loc 1 2247 51 is_stmt 0 view .LVU2003
 5485 0004 836C     		ldr	r3, [r0, #72]
2247:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->Class        = (uint32_t)(hsd->SdCard.Class);
 5486              		.loc 1 2247 27 view .LVU2004
 5487 0006 4B60     		str	r3, [r1, #4]
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5488              		.loc 1 2248 3 is_stmt 1 view .LVU2005
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
 5489              		.loc 1 2248 51 is_stmt 0 view .LVU2006
 5490 0008 C36C     		ldr	r3, [r0, #76]
2248:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->RelCardAdd   = (uint32_t)(hsd->SdCard.RelCardAdd);
ARM GAS  D:\Temp\cccH9bx8.s 			page 188


 5491              		.loc 1 2248 27 view .LVU2007
 5492 000a 8B60     		str	r3, [r1, #8]
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5493              		.loc 1 2249 3 is_stmt 1 view .LVU2008
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5494              		.loc 1 2249 51 is_stmt 0 view .LVU2009
 5495 000c 036D     		ldr	r3, [r0, #80]
2249:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockNbr     = (uint32_t)(hsd->SdCard.BlockNbr);
 5496              		.loc 1 2249 27 view .LVU2010
 5497 000e CB60     		str	r3, [r1, #12]
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5498              		.loc 1 2250 3 is_stmt 1 view .LVU2011
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5499              		.loc 1 2250 51 is_stmt 0 view .LVU2012
 5500 0010 436D     		ldr	r3, [r0, #84]
2250:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->BlockSize    = (uint32_t)(hsd->SdCard.BlockSize);
 5501              		.loc 1 2250 27 view .LVU2013
 5502 0012 0B61     		str	r3, [r1, #16]
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5503              		.loc 1 2251 3 is_stmt 1 view .LVU2014
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5504              		.loc 1 2251 51 is_stmt 0 view .LVU2015
 5505 0014 836D     		ldr	r3, [r0, #88]
2251:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockNbr  = (uint32_t)(hsd->SdCard.LogBlockNbr);
 5506              		.loc 1 2251 27 view .LVU2016
 5507 0016 4B61     		str	r3, [r1, #20]
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5508              		.loc 1 2252 3 is_stmt 1 view .LVU2017
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5509              		.loc 1 2252 51 is_stmt 0 view .LVU2018
 5510 0018 C36D     		ldr	r3, [r0, #92]
2252:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   pCardInfo->LogBlockSize = (uint32_t)(hsd->SdCard.LogBlockSize);
 5511              		.loc 1 2252 27 view .LVU2019
 5512 001a 8B61     		str	r3, [r1, #24]
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5513              		.loc 1 2253 3 is_stmt 1 view .LVU2020
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5514              		.loc 1 2253 51 is_stmt 0 view .LVU2021
 5515 001c 036E     		ldr	r3, [r0, #96]
2253:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5516              		.loc 1 2253 27 view .LVU2022
 5517 001e CB61     		str	r3, [r1, #28]
2255:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5518              		.loc 1 2255 3 is_stmt 1 view .LVU2023
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5519              		.loc 1 2256 1 is_stmt 0 view .LVU2024
 5520 0020 0020     		movs	r0, #0
 5521              	.LVL457:
2256:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5522              		.loc 1 2256 1 view .LVU2025
 5523 0022 7047     		bx	lr
 5524              		.cfi_endproc
 5525              	.LFE152:
 5527              		.section	.text.HAL_SD_ConfigWideBusOperation,"ax",%progbits
 5528              		.align	1
 5529              		.global	HAL_SD_ConfigWideBusOperation
 5530              		.syntax unified
ARM GAS  D:\Temp\cccH9bx8.s 			page 189


 5531              		.thumb
 5532              		.thumb_func
 5533              		.fpu fpv4-sp-d16
 5535              	HAL_SD_ConfigWideBusOperation:
 5536              	.LVL458:
 5537              	.LFB153:
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef Init;
 5538              		.loc 1 2270 1 is_stmt 1 view -0
 5539              		.cfi_startproc
 5540              		@ args = 0, pretend = 0, frame = 24
 5541              		@ frame_needed = 0, uses_anonymous_args = 0
2270:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SDIO_InitTypeDef Init;
 5542              		.loc 1 2270 1 is_stmt 0 view .LVU2027
 5543 0000 30B5     		push	{r4, r5, lr}
 5544              	.LCFI69:
 5545              		.cfi_def_cfa_offset 12
 5546              		.cfi_offset 4, -12
 5547              		.cfi_offset 5, -8
 5548              		.cfi_offset 14, -4
 5549 0002 8BB0     		sub	sp, sp, #44
 5550              	.LCFI70:
 5551              		.cfi_def_cfa_offset 56
 5552 0004 0446     		mov	r4, r0
 5553 0006 0D46     		mov	r5, r1
2271:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 5554              		.loc 1 2271 3 is_stmt 1 view .LVU2028
2272:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5555              		.loc 1 2272 3 view .LVU2029
2275:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5556              		.loc 1 2275 3 view .LVU2030
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5557              		.loc 1 2278 3 view .LVU2031
2278:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5558              		.loc 1 2278 14 is_stmt 0 view .LVU2032
 5559 0008 0323     		movs	r3, #3
 5560 000a 80F83430 		strb	r3, [r0, #52]
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5561              		.loc 1 2280 3 is_stmt 1 view .LVU2033
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5562              		.loc 1 2280 17 is_stmt 0 view .LVU2034
 5563 000e 436C     		ldr	r3, [r0, #68]
2280:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5564              		.loc 1 2280 5 view .LVU2035
 5565 0010 032B     		cmp	r3, #3
 5566 0012 1CD0     		beq	.L305
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5567              		.loc 1 2282 5 is_stmt 1 view .LVU2036
2282:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5568              		.loc 1 2282 7 is_stmt 0 view .LVU2037
 5569 0014 B1F5805F 		cmp	r1, #4096
 5570 0018 08D0     		beq	.L313
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5571              		.loc 1 2286 10 is_stmt 1 view .LVU2038
2286:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5572              		.loc 1 2286 12 is_stmt 0 view .LVU2039
 5573 001a B1F5006F 		cmp	r1, #2048
 5574 001e 0AD0     		beq	.L314
ARM GAS  D:\Temp\cccH9bx8.s 			page 190


2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5575              		.loc 1 2292 10 is_stmt 1 view .LVU2040
2292:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5576              		.loc 1 2292 12 is_stmt 0 view .LVU2041
 5577 0020 79B1     		cbz	r1, .L315
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5578              		.loc 1 2301 7 is_stmt 1 view .LVU2042
2301:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5579              		.loc 1 2301 22 is_stmt 0 view .LVU2043
 5580 0022 836B     		ldr	r3, [r0, #56]
 5581 0024 43F00063 		orr	r3, r3, #134217728
 5582 0028 8363     		str	r3, [r0, #56]
 5583 002a 14E0     		b	.L307
 5584              	.L313:
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5585              		.loc 1 2284 7 is_stmt 1 view .LVU2044
2284:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5586              		.loc 1 2284 22 is_stmt 0 view .LVU2045
 5587 002c 836B     		ldr	r3, [r0, #56]
 5588 002e 43F08053 		orr	r3, r3, #268435456
 5589 0032 8363     		str	r3, [r0, #56]
 5590 0034 0FE0     		b	.L307
 5591              	.L314:
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5592              		.loc 1 2288 7 is_stmt 1 view .LVU2046
2288:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5593              		.loc 1 2288 20 is_stmt 0 view .LVU2047
 5594 0036 FFF7FEFF 		bl	SD_WideBus_Enable
 5595              	.LVL459:
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5596              		.loc 1 2290 7 is_stmt 1 view .LVU2048
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5597              		.loc 1 2290 22 is_stmt 0 view .LVU2049
 5598 003a A36B     		ldr	r3, [r4, #56]
 5599 003c 1843     		orrs	r0, r0, r3
 5600              	.LVL460:
2290:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5601              		.loc 1 2290 22 view .LVU2050
 5602 003e A063     		str	r0, [r4, #56]
 5603 0040 09E0     		b	.L307
 5604              	.LVL461:
 5605              	.L315:
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5606              		.loc 1 2294 7 is_stmt 1 view .LVU2051
2294:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5607              		.loc 1 2294 20 is_stmt 0 view .LVU2052
 5608 0042 FFF7FEFF 		bl	SD_WideBus_Disable
 5609              	.LVL462:
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5610              		.loc 1 2296 7 is_stmt 1 view .LVU2053
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5611              		.loc 1 2296 22 is_stmt 0 view .LVU2054
 5612 0046 A36B     		ldr	r3, [r4, #56]
 5613 0048 1843     		orrs	r0, r0, r3
 5614              	.LVL463:
2296:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5615              		.loc 1 2296 22 view .LVU2055
ARM GAS  D:\Temp\cccH9bx8.s 			page 191


 5616 004a A063     		str	r0, [r4, #56]
 5617 004c 03E0     		b	.L307
 5618              	.LVL464:
 5619              	.L305:
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5620              		.loc 1 2307 5 is_stmt 1 view .LVU2056
2307:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5621              		.loc 1 2307 20 is_stmt 0 view .LVU2057
 5622 004e 836B     		ldr	r3, [r0, #56]
 5623 0050 43F08053 		orr	r3, r3, #268435456
 5624 0054 8363     		str	r3, [r0, #56]
 5625              	.LVL465:
 5626              	.L307:
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5627              		.loc 1 2310 3 is_stmt 1 view .LVU2058
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5628              		.loc 1 2310 9 is_stmt 0 view .LVU2059
 5629 0056 A36B     		ldr	r3, [r4, #56]
2310:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5630              		.loc 1 2310 5 view .LVU2060
 5631 0058 3BB1     		cbz	r3, .L310
2313:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 5632              		.loc 1 2313 5 is_stmt 1 view .LVU2061
 5633 005a 2368     		ldr	r3, [r4]
 5634 005c 104A     		ldr	r2, .L316
 5635 005e 9A63     		str	r2, [r3, #56]
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5636              		.loc 1 2314 5 view .LVU2062
2314:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     return HAL_ERROR;
 5637              		.loc 1 2314 16 is_stmt 0 view .LVU2063
 5638 0060 0120     		movs	r0, #1
 5639 0062 84F83400 		strb	r0, [r4, #52]
2315:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5640              		.loc 1 2315 5 is_stmt 1 view .LVU2064
 5641              	.L311:
2333:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5642              		.loc 1 2333 1 is_stmt 0 view .LVU2065
 5643 0066 0BB0     		add	sp, sp, #44
 5644              	.LCFI71:
 5645              		.cfi_remember_state
 5646              		.cfi_def_cfa_offset 12
 5647              		@ sp needed
 5648 0068 30BD     		pop	{r4, r5, pc}
 5649              	.LVL466:
 5650              	.L310:
 5651              	.LCFI72:
 5652              		.cfi_restore_state
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
 5653              		.loc 1 2320 5 is_stmt 1 view .LVU2066
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
 5654              		.loc 1 2320 41 is_stmt 0 view .LVU2067
 5655 006a 6368     		ldr	r3, [r4, #4]
2320:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockBypass         = hsd->Init.ClockBypass;
 5656              		.loc 1 2320 30 view .LVU2068
 5657 006c 0493     		str	r3, [sp, #16]
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5658              		.loc 1 2321 5 is_stmt 1 view .LVU2069
ARM GAS  D:\Temp\cccH9bx8.s 			page 192


2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5659              		.loc 1 2321 41 is_stmt 0 view .LVU2070
 5660 006e A368     		ldr	r3, [r4, #8]
2321:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockPowerSave      = hsd->Init.ClockPowerSave;
 5661              		.loc 1 2321 30 view .LVU2071
 5662 0070 0593     		str	r3, [sp, #20]
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5663              		.loc 1 2322 5 is_stmt 1 view .LVU2072
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5664              		.loc 1 2322 41 is_stmt 0 view .LVU2073
 5665 0072 E368     		ldr	r3, [r4, #12]
2322:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.BusWide             = WideMode;
 5666              		.loc 1 2322 30 view .LVU2074
 5667 0074 0693     		str	r3, [sp, #24]
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5668              		.loc 1 2323 5 is_stmt 1 view .LVU2075
2323:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.HardwareFlowControl = hsd->Init.HardwareFlowControl;
 5669              		.loc 1 2323 30 is_stmt 0 view .LVU2076
 5670 0076 0795     		str	r5, [sp, #28]
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5671              		.loc 1 2324 5 is_stmt 1 view .LVU2077
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5672              		.loc 1 2324 41 is_stmt 0 view .LVU2078
 5673 0078 6369     		ldr	r3, [r4, #20]
2324:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     Init.ClockDiv            = hsd->Init.ClockDiv;
 5674              		.loc 1 2324 30 view .LVU2079
 5675 007a 0893     		str	r3, [sp, #32]
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5676              		.loc 1 2325 5 is_stmt 1 view .LVU2080
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5677              		.loc 1 2325 41 is_stmt 0 view .LVU2081
 5678 007c A369     		ldr	r3, [r4, #24]
2325:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     (void)SDIO_Init(hsd->Instance, Init);
 5679              		.loc 1 2325 30 view .LVU2082
 5680 007e 0993     		str	r3, [sp, #36]
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5681              		.loc 1 2326 5 is_stmt 1 view .LVU2083
2326:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5682              		.loc 1 2326 11 is_stmt 0 view .LVU2084
 5683 0080 0AAB     		add	r3, sp, #40
 5684 0082 13E90700 		ldmdb	r3, {r0, r1, r2}
 5685 0086 8DE80700 		stm	sp, {r0, r1, r2}
 5686 008a 04AB     		add	r3, sp, #16
 5687 008c 0ECB     		ldm	r3, {r1, r2, r3}
 5688 008e 2068     		ldr	r0, [r4]
 5689 0090 FFF7FEFF 		bl	SDIO_Init
 5690              	.LVL467:
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5691              		.loc 1 2330 3 is_stmt 1 view .LVU2085
2330:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5692              		.loc 1 2330 14 is_stmt 0 view .LVU2086
 5693 0094 0123     		movs	r3, #1
 5694 0096 84F83430 		strb	r3, [r4, #52]
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5695              		.loc 1 2332 3 is_stmt 1 view .LVU2087
2332:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5696              		.loc 1 2332 10 is_stmt 0 view .LVU2088
ARM GAS  D:\Temp\cccH9bx8.s 			page 193


 5697 009a 0020     		movs	r0, #0
 5698 009c E3E7     		b	.L311
 5699              	.L317:
 5700 009e 00BF     		.align	2
 5701              	.L316:
 5702 00a0 FF054000 		.word	4195839
 5703              		.cfi_endproc
 5704              	.LFE153:
 5706              		.section	.text.HAL_SD_GetCardState,"ax",%progbits
 5707              		.align	1
 5708              		.global	HAL_SD_GetCardState
 5709              		.syntax unified
 5710              		.thumb
 5711              		.thumb_func
 5712              		.fpu fpv4-sp-d16
 5714              	HAL_SD_GetCardState:
 5715              	.LVL468:
 5716              	.LFB154:
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t cardstate;
 5717              		.loc 1 2341 1 is_stmt 1 view -0
 5718              		.cfi_startproc
 5719              		@ args = 0, pretend = 0, frame = 8
 5720              		@ frame_needed = 0, uses_anonymous_args = 0
2341:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t cardstate;
 5721              		.loc 1 2341 1 is_stmt 0 view .LVU2090
 5722 0000 10B5     		push	{r4, lr}
 5723              	.LCFI73:
 5724              		.cfi_def_cfa_offset 8
 5725              		.cfi_offset 4, -8
 5726              		.cfi_offset 14, -4
 5727 0002 82B0     		sub	sp, sp, #8
 5728              	.LCFI74:
 5729              		.cfi_def_cfa_offset 16
 5730 0004 0446     		mov	r4, r0
2342:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 5731              		.loc 1 2342 3 is_stmt 1 view .LVU2091
2343:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t resp1 = 0;
 5732              		.loc 1 2343 3 view .LVU2092
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5733              		.loc 1 2344 3 view .LVU2093
2344:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5734              		.loc 1 2344 12 is_stmt 0 view .LVU2094
 5735 0006 0023     		movs	r3, #0
 5736 0008 0193     		str	r3, [sp, #4]
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5737              		.loc 1 2346 3 is_stmt 1 view .LVU2095
2346:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if(errorstate != HAL_SD_ERROR_NONE)
 5738              		.loc 1 2346 16 is_stmt 0 view .LVU2096
 5739 000a 01A9     		add	r1, sp, #4
 5740 000c FFF7FEFF 		bl	SD_SendStatus
 5741              	.LVL469:
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5742              		.loc 1 2347 3 is_stmt 1 view .LVU2097
2347:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5743              		.loc 1 2347 5 is_stmt 0 view .LVU2098
 5744 0010 18B1     		cbz	r0, .L319
 5745 0012 0346     		mov	r3, r0
ARM GAS  D:\Temp\cccH9bx8.s 			page 194


2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5746              		.loc 1 2349 5 is_stmt 1 view .LVU2099
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5747              		.loc 1 2349 20 is_stmt 0 view .LVU2100
 5748 0014 A06B     		ldr	r0, [r4, #56]
 5749              	.LVL470:
2349:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5750              		.loc 1 2349 20 view .LVU2101
 5751 0016 1843     		orrs	r0, r0, r3
 5752 0018 A063     		str	r0, [r4, #56]
 5753              	.LVL471:
 5754              	.L319:
2352:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5755              		.loc 1 2352 3 is_stmt 1 view .LVU2102
2354:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 5756              		.loc 1 2354 3 view .LVU2103
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5757              		.loc 1 2355 1 is_stmt 0 view .LVU2104
 5758 001a 0198     		ldr	r0, [sp, #4]
 5759 001c C0F34320 		ubfx	r0, r0, #9, #4
 5760              	.LVL472:
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5761              		.loc 1 2355 1 view .LVU2105
 5762 0020 02B0     		add	sp, sp, #8
 5763              	.LCFI75:
 5764              		.cfi_def_cfa_offset 8
 5765              		@ sp needed
 5766 0022 10BD     		pop	{r4, pc}
2355:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5767              		.loc 1 2355 1 view .LVU2106
 5768              		.cfi_endproc
 5769              	.LFE154:
 5771              		.section	.text.SD_DMAError,"ax",%progbits
 5772              		.align	1
 5773              		.syntax unified
 5774              		.thumb
 5775              		.thumb_func
 5776              		.fpu fpv4-sp-d16
 5778              	SD_DMAError:
 5779              	.LVL473:
 5780              	.LFB159:
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5781              		.loc 1 2570 1 is_stmt 1 view -0
 5782              		.cfi_startproc
 5783              		@ args = 0, pretend = 0, frame = 0
 5784              		@ frame_needed = 0, uses_anonymous_args = 0
2570:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5785              		.loc 1 2570 1 is_stmt 0 view .LVU2108
 5786 0000 10B5     		push	{r4, lr}
 5787              	.LCFI76:
 5788              		.cfi_def_cfa_offset 8
 5789              		.cfi_offset 4, -8
 5790              		.cfi_offset 14, -4
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5791              		.loc 1 2571 3 is_stmt 1 view .LVU2109
2571:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5792              		.loc 1 2571 21 is_stmt 0 view .LVU2110
ARM GAS  D:\Temp\cccH9bx8.s 			page 195


 5793 0002 846B     		ldr	r4, [r0, #56]
 5794              	.LVL474:
2572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t RxErrorCode, TxErrorCode;
 5795              		.loc 1 2572 3 is_stmt 1 view .LVU2111
2573:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5796              		.loc 1 2573 3 view .LVU2112
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5797              		.loc 1 2576 3 view .LVU2113
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5798              		.loc 1 2576 6 is_stmt 0 view .LVU2114
 5799 0004 FFF7FEFF 		bl	HAL_DMA_GetError
 5800              	.LVL475:
2576:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5801              		.loc 1 2576 5 view .LVU2115
 5802 0008 0228     		cmp	r0, #2
 5803 000a 0AD0     		beq	.L321
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5804              		.loc 1 2578 5 is_stmt 1 view .LVU2116
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5805              		.loc 1 2578 22 is_stmt 0 view .LVU2117
 5806 000c 236C     		ldr	r3, [r4, #64]
2578:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     TxErrorCode = hsd->hdmatx->ErrorCode;  
 5807              		.loc 1 2578 17 view .LVU2118
 5808 000e 5B6D     		ldr	r3, [r3, #84]
 5809              	.LVL476:
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5810              		.loc 1 2579 5 is_stmt 1 view .LVU2119
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5811              		.loc 1 2579 22 is_stmt 0 view .LVU2120
 5812 0010 E26B     		ldr	r2, [r4, #60]
2579:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((RxErrorCode == HAL_DMA_ERROR_TE) || (TxErrorCode == HAL_DMA_ERROR_TE))
 5813              		.loc 1 2579 17 view .LVU2121
 5814 0012 526D     		ldr	r2, [r2, #84]
 5815              	.LVL477:
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5816              		.loc 1 2580 5 is_stmt 1 view .LVU2122
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5817              		.loc 1 2580 7 is_stmt 0 view .LVU2123
 5818 0014 012B     		cmp	r3, #1
 5819 0016 05D0     		beq	.L323
2580:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 5820              		.loc 1 2580 42 discriminator 1 view .LVU2124
 5821 0018 012A     		cmp	r2, #1
 5822 001a 03D0     		beq	.L323
 5823              	.LVL478:
 5824              	.L324:
2603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 5825              		.loc 1 2603 5 is_stmt 1 view .LVU2125
 5826 001c 2046     		mov	r0, r4
 5827 001e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5828              	.LVL479:
 5829              	.L321:
2606:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5830              		.loc 1 2606 1 is_stmt 0 view .LVU2126
 5831 0022 10BD     		pop	{r4, pc}
 5832              	.LVL480:
 5833              	.L323:
ARM GAS  D:\Temp\cccH9bx8.s 			page 196


2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5834              		.loc 1 2583 7 is_stmt 1 view .LVU2127
 5835 0024 2368     		ldr	r3, [r4]
 5836              	.LVL481:
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5837              		.loc 1 2583 7 is_stmt 0 view .LVU2128
 5838 0026 0F4A     		ldr	r2, .L328
 5839              	.LVL482:
2583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5840              		.loc 1 2583 7 view .LVU2129
 5841 0028 9A63     		str	r2, [r3, #56]
2586:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 5842              		.loc 1 2586 7 is_stmt 1 view .LVU2130
 5843 002a 2268     		ldr	r2, [r4]
 5844 002c D36B     		ldr	r3, [r2, #60]
 5845 002e 23F49D73 		bic	r3, r3, #314
 5846 0032 D363     		str	r3, [r2, #60]
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
 5847              		.loc 1 2589 7 view .LVU2131
2589:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       CardState = HAL_SD_GetCardState(hsd);
 5848              		.loc 1 2589 22 is_stmt 0 view .LVU2132
 5849 0034 A36B     		ldr	r3, [r4, #56]
 5850 0036 43F08043 		orr	r3, r3, #1073741824
 5851 003a A363     		str	r3, [r4, #56]
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5852              		.loc 1 2590 7 is_stmt 1 view .LVU2133
2590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5853              		.loc 1 2590 19 is_stmt 0 view .LVU2134
 5854 003c 2046     		mov	r0, r4
 5855 003e FFF7FEFF 		bl	HAL_SD_GetCardState
 5856              	.LVL483:
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5857              		.loc 1 2591 7 is_stmt 1 view .LVU2135
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5858              		.loc 1 2591 47 is_stmt 0 view .LVU2136
 5859 0042 0538     		subs	r0, r0, #5
 5860              	.LVL484:
2591:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 5861              		.loc 1 2591 9 view .LVU2137
 5862 0044 0128     		cmp	r0, #1
 5863 0046 05D9     		bls	.L327
 5864              	.LVL485:
 5865              	.L325:
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5866              		.loc 1 2596 7 is_stmt 1 view .LVU2138
2596:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 5867              		.loc 1 2596 17 is_stmt 0 view .LVU2139
 5868 0048 0123     		movs	r3, #1
 5869 004a 84F83430 		strb	r3, [r4, #52]
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5870              		.loc 1 2597 7 is_stmt 1 view .LVU2140
2597:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 5871              		.loc 1 2597 20 is_stmt 0 view .LVU2141
 5872 004e 0023     		movs	r3, #0
 5873 0050 2363     		str	r3, [r4, #48]
 5874 0052 E3E7     		b	.L324
 5875              	.LVL486:
ARM GAS  D:\Temp\cccH9bx8.s 			page 197


 5876              	.L327:
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5877              		.loc 1 2593 9 is_stmt 1 view .LVU2142
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5878              		.loc 1 2593 27 is_stmt 0 view .LVU2143
 5879 0054 2068     		ldr	r0, [r4]
 5880              	.LVL487:
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5881              		.loc 1 2593 27 view .LVU2144
 5882 0056 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5883              	.LVL488:
2593:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 5884              		.loc 1 2593 24 view .LVU2145
 5885 005a A36B     		ldr	r3, [r4, #56]
 5886 005c 1843     		orrs	r0, r0, r3
 5887 005e A063     		str	r0, [r4, #56]
 5888 0060 F2E7     		b	.L325
 5889              	.L329:
 5890 0062 00BF     		.align	2
 5891              	.L328:
 5892 0064 FF054000 		.word	4195839
 5893              		.cfi_endproc
 5894              	.LFE159:
 5896              		.section	.text.SD_DMATxAbort,"ax",%progbits
 5897              		.align	1
 5898              		.syntax unified
 5899              		.thumb
 5900              		.thumb_func
 5901              		.fpu fpv4-sp-d16
 5903              	SD_DMATxAbort:
 5904              	.LVL489:
 5905              	.LFB160:
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5906              		.loc 1 2614 1 is_stmt 1 view -0
 5907              		.cfi_startproc
 5908              		@ args = 0, pretend = 0, frame = 0
 5909              		@ frame_needed = 0, uses_anonymous_args = 0
2614:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5910              		.loc 1 2614 1 is_stmt 0 view .LVU2147
 5911 0000 10B5     		push	{r4, lr}
 5912              	.LCFI77:
 5913              		.cfi_def_cfa_offset 8
 5914              		.cfi_offset 4, -8
 5915              		.cfi_offset 14, -4
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5916              		.loc 1 2615 3 is_stmt 1 view .LVU2148
2615:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 5917              		.loc 1 2615 21 is_stmt 0 view .LVU2149
 5918 0002 846B     		ldr	r4, [r0, #56]
 5919              	.LVL490:
2616:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5920              		.loc 1 2616 3 is_stmt 1 view .LVU2150
2619:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5921              		.loc 1 2619 3 view .LVU2151
 5922 0004 2368     		ldr	r3, [r4]
 5923 0006 40F23A52 		movw	r2, #1338
 5924 000a 9A63     		str	r2, [r3, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 198


2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5925              		.loc 1 2621 3 view .LVU2152
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5926              		.loc 1 2621 15 is_stmt 0 view .LVU2153
 5927 000c 2046     		mov	r0, r4
 5928              	.LVL491:
2621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 5929              		.loc 1 2621 15 view .LVU2154
 5930 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 5931              	.LVL492:
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5932              		.loc 1 2622 3 is_stmt 1 view .LVU2155
2622:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 5933              		.loc 1 2622 14 is_stmt 0 view .LVU2156
 5934 0012 0123     		movs	r3, #1
 5935 0014 84F83430 		strb	r3, [r4, #52]
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5936              		.loc 1 2623 3 is_stmt 1 view .LVU2157
2623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 5937              		.loc 1 2623 16 is_stmt 0 view .LVU2158
 5938 0018 0023     		movs	r3, #0
 5939 001a 2363     		str	r3, [r4, #48]
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5940              		.loc 1 2624 3 is_stmt 1 view .LVU2159
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5941              		.loc 1 2624 43 is_stmt 0 view .LVU2160
 5942 001c 0538     		subs	r0, r0, #5
 5943              	.LVL493:
2624:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5944              		.loc 1 2624 5 view .LVU2161
 5945 001e 0128     		cmp	r0, #1
 5946 0020 05D9     		bls	.L335
 5947              	.LVL494:
 5948              	.L331:
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5949              		.loc 1 2629 3 is_stmt 1 view .LVU2162
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5950              		.loc 1 2629 9 is_stmt 0 view .LVU2163
 5951 0022 A36B     		ldr	r3, [r4, #56]
2629:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 5952              		.loc 1 2629 5 view .LVU2164
 5953 0024 53B9     		cbnz	r3, .L332
2634:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 5954              		.loc 1 2634 5 is_stmt 1 view .LVU2165
 5955 0026 2046     		mov	r0, r4
 5956 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 5957              	.LVL495:
 5958              	.L330:
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5959              		.loc 1 2645 1 is_stmt 0 view .LVU2166
 5960 002c 10BD     		pop	{r4, pc}
 5961              	.LVL496:
 5962              	.L335:
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5963              		.loc 1 2626 5 is_stmt 1 view .LVU2167
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5964              		.loc 1 2626 23 is_stmt 0 view .LVU2168
ARM GAS  D:\Temp\cccH9bx8.s 			page 199


 5965 002e 2068     		ldr	r0, [r4]
 5966              	.LVL497:
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5967              		.loc 1 2626 23 view .LVU2169
 5968 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 5969              	.LVL498:
2626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 5970              		.loc 1 2626 20 view .LVU2170
 5971 0034 A36B     		ldr	r3, [r4, #56]
 5972 0036 1843     		orrs	r0, r0, r3
 5973 0038 A063     		str	r0, [r4, #56]
 5974 003a F2E7     		b	.L331
 5975              	.L332:
2642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 5976              		.loc 1 2642 5 is_stmt 1 view .LVU2171
 5977 003c 2046     		mov	r0, r4
 5978 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 5979              	.LVL499:
2645:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 5980              		.loc 1 2645 1 is_stmt 0 view .LVU2172
 5981 0042 F3E7     		b	.L330
 5982              		.cfi_endproc
 5983              	.LFE160:
 5985              		.section	.text.SD_DMARxAbort,"ax",%progbits
 5986              		.align	1
 5987              		.syntax unified
 5988              		.thumb
 5989              		.thumb_func
 5990              		.fpu fpv4-sp-d16
 5992              	SD_DMARxAbort:
 5993              	.LVL500:
 5994              	.LFB161:
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5995              		.loc 1 2653 1 is_stmt 1 view -0
 5996              		.cfi_startproc
 5997              		@ args = 0, pretend = 0, frame = 0
 5998              		@ frame_needed = 0, uses_anonymous_args = 0
2653:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   SD_HandleTypeDef* hsd = (SD_HandleTypeDef* )(hdma->Parent);
 5999              		.loc 1 2653 1 is_stmt 0 view .LVU2174
 6000 0000 10B5     		push	{r4, lr}
 6001              	.LCFI78:
 6002              		.cfi_def_cfa_offset 8
 6003              		.cfi_offset 4, -8
 6004              		.cfi_offset 14, -4
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6005              		.loc 1 2654 3 is_stmt 1 view .LVU2175
2654:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6006              		.loc 1 2654 21 is_stmt 0 view .LVU2176
 6007 0002 846B     		ldr	r4, [r0, #56]
 6008              	.LVL501:
2655:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6009              		.loc 1 2655 3 is_stmt 1 view .LVU2177
2658:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6010              		.loc 1 2658 3 view .LVU2178
 6011 0004 2368     		ldr	r3, [r4]
 6012 0006 40F23A52 		movw	r2, #1338
 6013 000a 9A63     		str	r2, [r3, #56]
ARM GAS  D:\Temp\cccH9bx8.s 			page 200


2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6014              		.loc 1 2660 3 view .LVU2179
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6015              		.loc 1 2660 15 is_stmt 0 view .LVU2180
 6016 000c 2046     		mov	r0, r4
 6017              	.LVL502:
2660:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->State = HAL_SD_STATE_READY;
 6018              		.loc 1 2660 15 view .LVU2181
 6019 000e FFF7FEFF 		bl	HAL_SD_GetCardState
 6020              	.LVL503:
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 6021              		.loc 1 2661 3 is_stmt 1 view .LVU2182
2661:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   hsd->Context = SD_CONTEXT_NONE;
 6022              		.loc 1 2661 14 is_stmt 0 view .LVU2183
 6023 0012 0123     		movs	r3, #1
 6024 0014 84F83430 		strb	r3, [r4, #52]
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6025              		.loc 1 2662 3 is_stmt 1 view .LVU2184
2662:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6026              		.loc 1 2662 16 is_stmt 0 view .LVU2185
 6027 0018 0023     		movs	r3, #0
 6028 001a 2363     		str	r3, [r4, #48]
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6029              		.loc 1 2663 3 is_stmt 1 view .LVU2186
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6030              		.loc 1 2663 43 is_stmt 0 view .LVU2187
 6031 001c 0538     		subs	r0, r0, #5
 6032              	.LVL504:
2663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6033              		.loc 1 2663 5 view .LVU2188
 6034 001e 0128     		cmp	r0, #1
 6035 0020 05D9     		bls	.L341
 6036              	.LVL505:
 6037              	.L337:
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6038              		.loc 1 2668 3 is_stmt 1 view .LVU2189
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6039              		.loc 1 2668 9 is_stmt 0 view .LVU2190
 6040 0022 A36B     		ldr	r3, [r4, #56]
2668:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6041              		.loc 1 2668 5 view .LVU2191
 6042 0024 53B9     		cbnz	r3, .L338
2673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 6043              		.loc 1 2673 5 is_stmt 1 view .LVU2192
 6044 0026 2046     		mov	r0, r4
 6045 0028 FFF7FEFF 		bl	HAL_SD_AbortCallback
 6046              	.LVL506:
 6047              	.L336:
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6048              		.loc 1 2684 1 is_stmt 0 view .LVU2193
 6049 002c 10BD     		pop	{r4, pc}
 6050              	.LVL507:
 6051              	.L341:
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6052              		.loc 1 2665 5 is_stmt 1 view .LVU2194
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6053              		.loc 1 2665 23 is_stmt 0 view .LVU2195
ARM GAS  D:\Temp\cccH9bx8.s 			page 201


 6054 002e 2068     		ldr	r0, [r4]
 6055              	.LVL508:
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6056              		.loc 1 2665 23 view .LVU2196
 6057 0030 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6058              	.LVL509:
2665:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6059              		.loc 1 2665 20 view .LVU2197
 6060 0034 A36B     		ldr	r3, [r4, #56]
 6061 0036 1843     		orrs	r0, r0, r3
 6062 0038 A063     		str	r0, [r4, #56]
 6063 003a F2E7     		b	.L337
 6064              	.L338:
2681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif
 6065              		.loc 1 2681 5 is_stmt 1 view .LVU2198
 6066 003c 2046     		mov	r0, r4
 6067 003e FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6068              	.LVL510:
2684:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6069              		.loc 1 2684 1 is_stmt 0 view .LVU2199
 6070 0042 F3E7     		b	.L336
 6071              		.cfi_endproc
 6072              	.LFE161:
 6074              		.section	.text.HAL_SD_IRQHandler,"ax",%progbits
 6075              		.align	1
 6076              		.global	HAL_SD_IRQHandler
 6077              		.syntax unified
 6078              		.thumb
 6079              		.thumb_func
 6080              		.fpu fpv4-sp-d16
 6082              	HAL_SD_IRQHandler:
 6083              	.LVL511:
 6084              	.LFB142:
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 6085              		.loc 1 1557 1 is_stmt 1 view -0
 6086              		.cfi_startproc
 6087              		@ args = 0, pretend = 0, frame = 0
 6088              		@ frame_needed = 0, uses_anonymous_args = 0
1557:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t errorstate;
 6089              		.loc 1 1557 1 is_stmt 0 view .LVU2201
 6090 0000 38B5     		push	{r3, r4, r5, lr}
 6091              	.LCFI79:
 6092              		.cfi_def_cfa_offset 16
 6093              		.cfi_offset 3, -16
 6094              		.cfi_offset 4, -12
 6095              		.cfi_offset 5, -8
 6096              		.cfi_offset 14, -4
 6097 0002 0446     		mov	r4, r0
1558:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6098              		.loc 1 1558 3 is_stmt 1 view .LVU2202
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6099              		.loc 1 1559 3 view .LVU2203
1559:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6100              		.loc 1 1559 12 is_stmt 0 view .LVU2204
 6101 0004 056B     		ldr	r5, [r0, #48]
 6102              	.LVL512:
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
ARM GAS  D:\Temp\cccH9bx8.s 			page 202


 6103              		.loc 1 1562 3 is_stmt 1 view .LVU2205
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6104              		.loc 1 1562 7 is_stmt 0 view .LVU2206
 6105 0006 0368     		ldr	r3, [r0]
 6106 0008 5A6B     		ldr	r2, [r3, #52]
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6107              		.loc 1 1562 5 view .LVU2207
 6108 000a 12F4004F 		tst	r2, #32768
 6109 000e 02D0     		beq	.L343
1562:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6110              		.loc 1 1562 60 discriminator 1 view .LVU2208
 6111 0010 15F0080F 		tst	r5, #8
 6112 0014 28D1     		bne	.L360
 6113              	.L343:
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6114              		.loc 1 1567 8 is_stmt 1 view .LVU2209
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6115              		.loc 1 1567 11 is_stmt 0 view .LVU2210
 6116 0016 5A6B     		ldr	r2, [r3, #52]
1567:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6117              		.loc 1 1567 10 view .LVU2211
 6118 0018 12F4807F 		tst	r2, #256
 6119 001c 5AD0     		beq	.L345
1569:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6120              		.loc 1 1569 5 is_stmt 1 view .LVU2212
 6121 001e 4FF48072 		mov	r2, #256
 6122 0022 9A63     		str	r2, [r3, #56]
1572:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR | SDIO_IT_RXOVERR  | SDIO_IT_TXFIFOHE |\
 6123              		.loc 1 1572 5 view .LVU2213
 6124 0024 2268     		ldr	r2, [r4]
 6125 0026 D36B     		ldr	r3, [r2, #60]
 6126 0028 23F44343 		bic	r3, r3, #49920
 6127 002c 23F03A03 		bic	r3, r3, #58
 6128 0030 D363     		str	r3, [r2, #60]
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6129              		.loc 1 1581 5 view .LVU2214
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6130              		.loc 1 1581 8 is_stmt 0 view .LVU2215
 6131 0032 2268     		ldr	r2, [r4]
1581:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     
 6132              		.loc 1 1581 26 view .LVU2216
 6133 0034 D36A     		ldr	r3, [r2, #44]
 6134 0036 23F00103 		bic	r3, r3, #1
 6135 003a D362     		str	r3, [r2, #44]
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6136              		.loc 1 1583 5 is_stmt 1 view .LVU2217
1583:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6137              		.loc 1 1583 7 is_stmt 0 view .LVU2218
 6138 003c 15F0080F 		tst	r5, #8
 6139 0040 26D0     		beq	.L346
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6140              		.loc 1 1585 7 is_stmt 1 view .LVU2219
1585:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6141              		.loc 1 1585 9 is_stmt 0 view .LVU2220
 6142 0042 15F0220F 		tst	r5, #34
 6143 0046 12D1     		bne	.L361
 6144              	.LVL513:
ARM GAS  D:\Temp\cccH9bx8.s 			page 203


 6145              	.L347:
1600:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6146              		.loc 1 1600 7 is_stmt 1 view .LVU2221
 6147 0048 2368     		ldr	r3, [r4]
 6148 004a 40F23A52 		movw	r2, #1338
 6149 004e 9A63     		str	r2, [r3, #56]
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6150              		.loc 1 1602 7 view .LVU2222
1602:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6151              		.loc 1 1602 18 is_stmt 0 view .LVU2223
 6152 0050 0123     		movs	r3, #1
 6153 0052 84F83430 		strb	r3, [r4, #52]
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 6154              		.loc 1 1603 7 is_stmt 1 view .LVU2224
1603:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(((context & SD_CONTEXT_READ_SINGLE_BLOCK) != 0U) || ((context & SD_CONTEXT_READ_MULTIPLE_B
 6155              		.loc 1 1603 20 is_stmt 0 view .LVU2225
 6156 0056 0023     		movs	r3, #0
 6157 0058 2363     		str	r3, [r4, #48]
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6158              		.loc 1 1604 7 is_stmt 1 view .LVU2226
1604:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6159              		.loc 1 1604 9 is_stmt 0 view .LVU2227
 6160 005a 15F0030F 		tst	r5, #3
 6161 005e 13D0     		beq	.L348
1609:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6162              		.loc 1 1609 9 is_stmt 1 view .LVU2228
 6163 0060 2046     		mov	r0, r4
 6164 0062 FFF7FEFF 		bl	HAL_SD_RxCpltCallback
 6165              	.LVL514:
 6166 0066 01E0     		b	.L342
 6167              	.LVL515:
 6168              	.L360:
1564:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6169              		.loc 1 1564 5 view .LVU2229
 6170 0068 FFF7FEFF 		bl	SD_Read_IT
 6171              	.LVL516:
 6172              	.L342:
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6173              		.loc 1 1765 1 is_stmt 0 view .LVU2230
 6174 006c 38BD     		pop	{r3, r4, r5, pc}
 6175              	.LVL517:
 6176              	.L361:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6177              		.loc 1 1587 9 is_stmt 1 view .LVU2231
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6178              		.loc 1 1587 22 is_stmt 0 view .LVU2232
 6179 006e 2068     		ldr	r0, [r4]
 6180              	.LVL518:
1587:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6181              		.loc 1 1587 22 view .LVU2233
 6182 0070 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6183              	.LVL519:
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6184              		.loc 1 1588 9 is_stmt 1 view .LVU2234
1588:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6185              		.loc 1 1588 11 is_stmt 0 view .LVU2235
 6186 0074 0346     		mov	r3, r0
ARM GAS  D:\Temp\cccH9bx8.s 			page 204


 6187 0076 0028     		cmp	r0, #0
 6188 0078 E6D0     		beq	.L347
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6189              		.loc 1 1590 11 is_stmt 1 view .LVU2236
1590:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6190              		.loc 1 1590 26 is_stmt 0 view .LVU2237
 6191 007a A26B     		ldr	r2, [r4, #56]
 6192 007c 1343     		orrs	r3, r3, r2
 6193 007e A363     		str	r3, [r4, #56]
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6194              		.loc 1 1594 11 is_stmt 1 view .LVU2238
 6195 0080 2046     		mov	r0, r4
 6196              	.LVL520:
1594:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6197              		.loc 1 1594 11 is_stmt 0 view .LVU2239
 6198 0082 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6199              	.LVL521:
 6200 0086 DFE7     		b	.L347
 6201              	.L348:
1617:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6202              		.loc 1 1617 9 is_stmt 1 view .LVU2240
 6203 0088 2046     		mov	r0, r4
 6204 008a FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6205              	.LVL522:
 6206 008e EDE7     		b	.L342
 6207              	.LVL523:
 6208              	.L346:
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6209              		.loc 1 1621 10 view .LVU2241
1621:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6210              		.loc 1 1621 12 is_stmt 0 view .LVU2242
 6211 0090 15F0800F 		tst	r5, #128
 6212 0094 EAD0     		beq	.L342
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6213              		.loc 1 1623 7 is_stmt 1 view .LVU2243
1623:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6214              		.loc 1 1623 9 is_stmt 0 view .LVU2244
 6215 0096 15F0200F 		tst	r5, #32
 6216 009a 0ED1     		bne	.L362
 6217              	.LVL524:
 6218              	.L349:
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6219              		.loc 1 1636 7 is_stmt 1 view .LVU2245
1636:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6220              		.loc 1 1636 9 is_stmt 0 view .LVU2246
 6221 009c 15F0030F 		tst	r5, #3
 6222 00a0 E4D1     		bne	.L342
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6223              		.loc 1 1640 9 is_stmt 1 view .LVU2247
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6224              		.loc 1 1640 12 is_stmt 0 view .LVU2248
 6225 00a2 2268     		ldr	r2, [r4]
1640:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6226              		.loc 1 1640 30 view .LVU2249
 6227 00a4 D36A     		ldr	r3, [r2, #44]
 6228 00a6 23F00803 		bic	r3, r3, #8
 6229 00aa D362     		str	r3, [r2, #44]
ARM GAS  D:\Temp\cccH9bx8.s 			page 205


1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6230              		.loc 1 1642 9 is_stmt 1 view .LVU2250
1642:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6231              		.loc 1 1642 20 is_stmt 0 view .LVU2251
 6232 00ac 0123     		movs	r3, #1
 6233 00ae 84F83430 		strb	r3, [r4, #52]
1647:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6234              		.loc 1 1647 9 is_stmt 1 view .LVU2252
 6235 00b2 2046     		mov	r0, r4
 6236 00b4 FFF7FEFF 		bl	HAL_SD_TxCpltCallback
 6237              	.LVL525:
 6238 00b8 D8E7     		b	.L342
 6239              	.LVL526:
 6240              	.L362:
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6241              		.loc 1 1625 9 view .LVU2253
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6242              		.loc 1 1625 22 is_stmt 0 view .LVU2254
 6243 00ba 2068     		ldr	r0, [r4]
 6244              	.LVL527:
1625:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         if(errorstate != HAL_SD_ERROR_NONE)
 6245              		.loc 1 1625 22 view .LVU2255
 6246 00bc FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6247              	.LVL528:
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6248              		.loc 1 1626 9 is_stmt 1 view .LVU2256
1626:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6249              		.loc 1 1626 11 is_stmt 0 view .LVU2257
 6250 00c0 0346     		mov	r3, r0
 6251 00c2 0028     		cmp	r0, #0
 6252 00c4 EAD0     		beq	.L349
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6253              		.loc 1 1628 11 is_stmt 1 view .LVU2258
1628:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6254              		.loc 1 1628 26 is_stmt 0 view .LVU2259
 6255 00c6 A26B     		ldr	r2, [r4, #56]
 6256 00c8 1343     		orrs	r3, r3, r2
 6257 00ca A363     		str	r3, [r4, #56]
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6258              		.loc 1 1632 11 is_stmt 1 view .LVU2260
 6259 00cc 2046     		mov	r0, r4
 6260              	.LVL529:
1632:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6261              		.loc 1 1632 11 is_stmt 0 view .LVU2261
 6262 00ce FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6263              	.LVL530:
 6264 00d2 E3E7     		b	.L349
 6265              	.LVL531:
 6266              	.L345:
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6267              		.loc 1 1657 8 is_stmt 1 view .LVU2262
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6268              		.loc 1 1657 12 is_stmt 0 view .LVU2263
 6269 00d4 5A6B     		ldr	r2, [r3, #52]
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6270              		.loc 1 1657 10 view .LVU2264
 6271 00d6 12F4804F 		tst	r2, #16384
ARM GAS  D:\Temp\cccH9bx8.s 			page 206


 6272 00da 02D0     		beq	.L350
1657:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6273              		.loc 1 1657 65 discriminator 1 view .LVU2265
 6274 00dc 15F0080F 		tst	r5, #8
 6275 00e0 55D1     		bne	.L363
 6276              	.L350:
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 6277              		.loc 1 1663 8 is_stmt 1 view .LVU2266
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 6278              		.loc 1 1663 11 is_stmt 0 view .LVU2267
 6279 00e2 596B     		ldr	r1, [r3, #52]
1663:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #else /* SDIO_STA_STBITERR not defined */
 6280              		.loc 1 1663 10 view .LVU2268
 6281 00e4 40F23A22 		movw	r2, #570
 6282 00e8 1142     		tst	r1, r2
 6283 00ea BFD0     		beq	.L342
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6284              		.loc 1 1669 5 is_stmt 1 view .LVU2269
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6285              		.loc 1 1669 8 is_stmt 0 view .LVU2270
 6286 00ec 5A6B     		ldr	r2, [r3, #52]
1669:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6287              		.loc 1 1669 7 view .LVU2271
 6288 00ee 12F0020F 		tst	r2, #2
 6289 00f2 03D0     		beq	.L351
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6290              		.loc 1 1671 7 is_stmt 1 view .LVU2272
1671:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6291              		.loc 1 1671 22 is_stmt 0 view .LVU2273
 6292 00f4 A26B     		ldr	r2, [r4, #56]
 6293 00f6 42F00202 		orr	r2, r2, #2
 6294 00fa A263     		str	r2, [r4, #56]
 6295              	.L351:
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6296              		.loc 1 1673 5 is_stmt 1 view .LVU2274
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6297              		.loc 1 1673 8 is_stmt 0 view .LVU2275
 6298 00fc 5A6B     		ldr	r2, [r3, #52]
1673:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6299              		.loc 1 1673 7 view .LVU2276
 6300 00fe 12F0080F 		tst	r2, #8
 6301 0102 03D0     		beq	.L352
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6302              		.loc 1 1675 7 is_stmt 1 view .LVU2277
1675:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6303              		.loc 1 1675 22 is_stmt 0 view .LVU2278
 6304 0104 A26B     		ldr	r2, [r4, #56]
 6305 0106 42F00802 		orr	r2, r2, #8
 6306 010a A263     		str	r2, [r4, #56]
 6307              	.L352:
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6308              		.loc 1 1677 5 is_stmt 1 view .LVU2279
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6309              		.loc 1 1677 8 is_stmt 0 view .LVU2280
 6310 010c 5A6B     		ldr	r2, [r3, #52]
1677:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6311              		.loc 1 1677 7 view .LVU2281
ARM GAS  D:\Temp\cccH9bx8.s 			page 207


 6312 010e 12F0200F 		tst	r2, #32
 6313 0112 03D0     		beq	.L353
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6314              		.loc 1 1679 7 is_stmt 1 view .LVU2282
1679:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6315              		.loc 1 1679 22 is_stmt 0 view .LVU2283
 6316 0114 A26B     		ldr	r2, [r4, #56]
 6317 0116 42F02002 		orr	r2, r2, #32
 6318 011a A263     		str	r2, [r4, #56]
 6319              	.L353:
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6320              		.loc 1 1681 5 is_stmt 1 view .LVU2284
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6321              		.loc 1 1681 8 is_stmt 0 view .LVU2285
 6322 011c 5A6B     		ldr	r2, [r3, #52]
1681:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6323              		.loc 1 1681 7 view .LVU2286
 6324 011e 12F0100F 		tst	r2, #16
 6325 0122 03D0     		beq	.L354
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6326              		.loc 1 1683 7 is_stmt 1 view .LVU2287
1683:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6327              		.loc 1 1683 22 is_stmt 0 view .LVU2288
 6328 0124 A26B     		ldr	r2, [r4, #56]
 6329 0126 42F01002 		orr	r2, r2, #16
 6330 012a A263     		str	r2, [r4, #56]
 6331              	.L354:
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6332              		.loc 1 1686 5 is_stmt 1 view .LVU2289
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6333              		.loc 1 1686 8 is_stmt 0 view .LVU2290
 6334 012c 5A6B     		ldr	r2, [r3, #52]
1686:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6335              		.loc 1 1686 7 view .LVU2291
 6336 012e 12F4007F 		tst	r2, #512
 6337 0132 03D0     		beq	.L355
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6338              		.loc 1 1688 7 is_stmt 1 view .LVU2292
1688:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6339              		.loc 1 1688 22 is_stmt 0 view .LVU2293
 6340 0134 A26B     		ldr	r2, [r4, #56]
 6341 0136 42F00802 		orr	r2, r2, #8
 6342 013a A263     		str	r2, [r4, #56]
 6343              	.L355:
1694:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6344              		.loc 1 1694 5 is_stmt 1 view .LVU2294
 6345 013c 40F23A72 		movw	r2, #1850
 6346 0140 9A63     		str	r2, [r3, #56]
1697:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                              SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR | SDIO_IT_STBITERR);
 6347              		.loc 1 1697 5 view .LVU2295
 6348 0142 2268     		ldr	r2, [r4]
 6349 0144 D36B     		ldr	r3, [r2, #60]
 6350 0146 23F44E73 		bic	r3, r3, #824
 6351 014a 23F00203 		bic	r3, r3, #2
 6352 014e D363     		str	r3, [r2, #60]
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6353              		.loc 1 1708 5 view .LVU2296
ARM GAS  D:\Temp\cccH9bx8.s 			page 208


1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6354              		.loc 1 1708 23 is_stmt 0 view .LVU2297
 6355 0150 2068     		ldr	r0, [r4]
 6356              	.LVL532:
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6357              		.loc 1 1708 23 view .LVU2298
 6358 0152 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6359              	.LVL533:
1708:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6360              		.loc 1 1708 20 view .LVU2299
 6361 0156 A36B     		ldr	r3, [r4, #56]
 6362 0158 1843     		orrs	r0, r0, r3
 6363 015a A063     		str	r0, [r4, #56]
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6364              		.loc 1 1710 5 is_stmt 1 view .LVU2300
1710:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6365              		.loc 1 1710 7 is_stmt 0 view .LVU2301
 6366 015c 15F0080F 		tst	r5, #8
 6367 0160 19D1     		bne	.L364
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6368              		.loc 1 1721 10 is_stmt 1 view .LVU2302
1721:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6369              		.loc 1 1721 12 is_stmt 0 view .LVU2303
 6370 0162 15F0800F 		tst	r5, #128
 6371 0166 81D0     		beq	.L342
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6372              		.loc 1 1724 7 is_stmt 1 view .LVU2304
1724:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6373              		.loc 1 1724 9 is_stmt 0 view .LVU2305
 6374 0168 15F0300F 		tst	r5, #48
 6375 016c 1CD1     		bne	.L365
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6376              		.loc 1 1734 12 is_stmt 1 view .LVU2306
1734:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6377              		.loc 1 1734 14 is_stmt 0 view .LVU2307
 6378 016e 15F0030F 		tst	r5, #3
 6379 0172 26D0     		beq	.L358
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6380              		.loc 1 1737 9 is_stmt 1 view .LVU2308
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6381              		.loc 1 1737 12 is_stmt 0 view .LVU2309
 6382 0174 236C     		ldr	r3, [r4, #64]
1737:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6383              		.loc 1 1737 40 view .LVU2310
 6384 0176 184A     		ldr	r2, .L366
 6385 0178 1A65     		str	r2, [r3, #80]
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6386              		.loc 1 1739 9 is_stmt 1 view .LVU2311
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6387              		.loc 1 1739 12 is_stmt 0 view .LVU2312
 6388 017a 206C     		ldr	r0, [r4, #64]
 6389 017c FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6390              	.LVL534:
1739:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6391              		.loc 1 1739 11 view .LVU2313
 6392 0180 0028     		cmp	r0, #0
 6393 0182 3FF473AF 		beq	.L342
ARM GAS  D:\Temp\cccH9bx8.s 			page 209


1741:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 6394              		.loc 1 1741 11 is_stmt 1 view .LVU2314
 6395 0186 206C     		ldr	r0, [r4, #64]
 6396 0188 FFF7FEFF 		bl	SD_DMARxAbort
 6397              	.LVL535:
 6398 018c 6EE7     		b	.L342
 6399              	.LVL536:
 6400              	.L363:
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6401              		.loc 1 1659 5 view .LVU2315
 6402 018e 2046     		mov	r0, r4
 6403              	.LVL537:
1659:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6404              		.loc 1 1659 5 is_stmt 0 view .LVU2316
 6405 0190 FFF7FEFF 		bl	SD_Write_IT
 6406              	.LVL538:
 6407 0194 6AE7     		b	.L342
 6408              	.L364:
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6409              		.loc 1 1713 7 is_stmt 1 view .LVU2317
1713:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       hsd->Context = SD_CONTEXT_NONE;
 6410              		.loc 1 1713 18 is_stmt 0 view .LVU2318
 6411 0196 0123     		movs	r3, #1
 6412 0198 84F83430 		strb	r3, [r4, #52]
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6413              		.loc 1 1714 7 is_stmt 1 view .LVU2319
1714:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6414              		.loc 1 1714 20 is_stmt 0 view .LVU2320
 6415 019c 0023     		movs	r3, #0
 6416 019e 2363     		str	r3, [r4, #48]
1718:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6417              		.loc 1 1718 7 is_stmt 1 view .LVU2321
 6418 01a0 2046     		mov	r0, r4
 6419 01a2 FFF7FEFF 		bl	HAL_SD_ErrorCallback
 6420              	.LVL539:
 6421 01a6 61E7     		b	.L342
 6422              	.L365:
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6423              		.loc 1 1727 9 view .LVU2322
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6424              		.loc 1 1727 12 is_stmt 0 view .LVU2323
 6425 01a8 E36B     		ldr	r3, [r4, #60]
1727:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         /* Abort DMA in IT mode */
 6426              		.loc 1 1727 40 view .LVU2324
 6427 01aa 0C4A     		ldr	r2, .L366+4
 6428 01ac 1A65     		str	r2, [r3, #80]
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6429              		.loc 1 1729 9 is_stmt 1 view .LVU2325
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6430              		.loc 1 1729 12 is_stmt 0 view .LVU2326
 6431 01ae E06B     		ldr	r0, [r4, #60]
 6432 01b0 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6433              	.LVL540:
1729:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         {
 6434              		.loc 1 1729 11 view .LVU2327
 6435 01b4 0028     		cmp	r0, #0
 6436 01b6 3FF459AF 		beq	.L342
ARM GAS  D:\Temp\cccH9bx8.s 			page 210


1731:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         }
 6437              		.loc 1 1731 11 is_stmt 1 view .LVU2328
 6438 01ba E06B     		ldr	r0, [r4, #60]
 6439 01bc FFF7FEFF 		bl	SD_DMATxAbort
 6440              	.LVL541:
 6441 01c0 54E7     		b	.L342
 6442              	.L358:
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6443              		.loc 1 1746 9 view .LVU2329
1746:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->State = HAL_SD_STATE_READY;
 6444              		.loc 1 1746 24 is_stmt 0 view .LVU2330
 6445 01c2 0023     		movs	r3, #0
 6446 01c4 A363     		str	r3, [r4, #56]
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 6447              		.loc 1 1747 9 is_stmt 1 view .LVU2331
1747:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****         hsd->Context = SD_CONTEXT_NONE;
 6448              		.loc 1 1747 20 is_stmt 0 view .LVU2332
 6449 01c6 0122     		movs	r2, #1
 6450 01c8 84F83420 		strb	r2, [r4, #52]
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6451              		.loc 1 1748 9 is_stmt 1 view .LVU2333
1748:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #if defined (USE_HAL_SD_REGISTER_CALLBACKS) && (USE_HAL_SD_REGISTER_CALLBACKS == 1U)
 6452              		.loc 1 1748 22 is_stmt 0 view .LVU2334
 6453 01cc 2363     		str	r3, [r4, #48]
1752:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6454              		.loc 1 1752 9 is_stmt 1 view .LVU2335
 6455 01ce 2046     		mov	r0, r4
 6456 01d0 FFF7FEFF 		bl	HAL_SD_AbortCallback
 6457              	.LVL542:
1764:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6458              		.loc 1 1764 3 view .LVU2336
1765:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6459              		.loc 1 1765 1 is_stmt 0 view .LVU2337
 6460 01d4 4AE7     		b	.L342
 6461              	.L367:
 6462 01d6 00BF     		.align	2
 6463              	.L366:
 6464 01d8 00000000 		.word	SD_DMARxAbort
 6465 01dc 00000000 		.word	SD_DMATxAbort
 6466              		.cfi_endproc
 6467              	.LFE142:
 6469              		.section	.text.HAL_SD_Abort,"ax",%progbits
 6470              		.align	1
 6471              		.global	HAL_SD_Abort
 6472              		.syntax unified
 6473              		.thumb
 6474              		.thumb_func
 6475              		.fpu fpv4-sp-d16
 6477              	HAL_SD_Abort:
 6478              	.LVL543:
 6479              	.LFB155:
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6480              		.loc 1 2364 1 is_stmt 1 view -0
 6481              		.cfi_startproc
 6482              		@ args = 0, pretend = 0, frame = 0
 6483              		@ frame_needed = 0, uses_anonymous_args = 0
2364:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
ARM GAS  D:\Temp\cccH9bx8.s 			page 211


 6484              		.loc 1 2364 1 is_stmt 0 view .LVU2339
 6485 0000 10B5     		push	{r4, lr}
 6486              	.LCFI80:
 6487              		.cfi_def_cfa_offset 8
 6488              		.cfi_offset 4, -8
 6489              		.cfi_offset 14, -4
 6490 0002 0446     		mov	r4, r0
2365:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6491              		.loc 1 2365 3 is_stmt 1 view .LVU2340
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6492              		.loc 1 2366 3 view .LVU2341
2366:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6493              		.loc 1 2366 12 is_stmt 0 view .LVU2342
 6494 0004 016B     		ldr	r1, [r0, #48]
 6495              	.LVL544:
2369:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 6496              		.loc 1 2369 3 is_stmt 1 view .LVU2343
 6497 0006 0268     		ldr	r2, [r0]
 6498 0008 D36B     		ldr	r3, [r2, #60]
 6499 000a 23F49D73 		bic	r3, r3, #314
 6500 000e D363     		str	r3, [r2, #60]
2373:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6501              		.loc 1 2373 3 view .LVU2344
 6502 0010 0368     		ldr	r3, [r0]
 6503 0012 40F23A52 		movw	r2, #1338
 6504 0016 9A63     		str	r2, [r3, #56]
2375:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6505              		.loc 1 2375 3 view .LVU2345
 6506 0018 0268     		ldr	r2, [r0]
 6507 001a D36A     		ldr	r3, [r2, #44]
 6508 001c 23F00103 		bic	r3, r3, #1
 6509 0020 D362     		str	r3, [r2, #44]
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6510              		.loc 1 2377 3 view .LVU2346
2377:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6511              		.loc 1 2377 6 is_stmt 0 view .LVU2347
 6512 0022 11F0800F 		tst	r1, #128
 6513 0026 0AD0     		beq	.L369
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6514              		.loc 1 2380 5 is_stmt 1 view .LVU2348
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6515              		.loc 1 2380 8 is_stmt 0 view .LVU2349
 6516 0028 0268     		ldr	r2, [r0]
2380:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6517              		.loc 1 2380 26 view .LVU2350
 6518 002a D36A     		ldr	r3, [r2, #44]
 6519 002c 23F00803 		bic	r3, r3, #8
 6520 0030 D362     		str	r3, [r2, #44]
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6521              		.loc 1 2383 5 is_stmt 1 view .LVU2351
2383:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6522              		.loc 1 2383 8 is_stmt 0 view .LVU2352
 6523 0032 11F0300F 		tst	r1, #48
 6524 0036 11D1     		bne	.L375
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6525              		.loc 1 2391 10 is_stmt 1 view .LVU2353
2391:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
ARM GAS  D:\Temp\cccH9bx8.s 			page 212


 6526              		.loc 1 2391 13 is_stmt 0 view .LVU2354
 6527 0038 11F0030F 		tst	r1, #3
 6528 003c 18D1     		bne	.L376
 6529              	.LVL545:
 6530              	.L369:
2401:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6531              		.loc 1 2401 5 is_stmt 1 view .LVU2355
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6532              		.loc 1 2404 3 view .LVU2356
2404:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6533              		.loc 1 2404 14 is_stmt 0 view .LVU2357
 6534 003e 0123     		movs	r3, #1
 6535 0040 84F83430 		strb	r3, [r4, #52]
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6536              		.loc 1 2407 3 is_stmt 1 view .LVU2358
2407:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6537              		.loc 1 2407 16 is_stmt 0 view .LVU2359
 6538 0044 0023     		movs	r3, #0
 6539 0046 2363     		str	r3, [r4, #48]
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6540              		.loc 1 2409 3 is_stmt 1 view .LVU2360
2409:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6541              		.loc 1 2409 15 is_stmt 0 view .LVU2361
 6542 0048 2046     		mov	r0, r4
 6543 004a FFF7FEFF 		bl	HAL_SD_GetCardState
 6544              	.LVL546:
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6545              		.loc 1 2410 3 is_stmt 1 view .LVU2362
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6546              		.loc 1 2410 43 is_stmt 0 view .LVU2363
 6547 004e 0538     		subs	r0, r0, #5
 6548              	.LVL547:
2410:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6549              		.loc 1 2410 5 view .LVU2364
 6550 0050 0128     		cmp	r0, #1
 6551 0052 17D9     		bls	.L377
 6552              	.LVL548:
 6553              	.L371:
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6554              		.loc 1 2414 3 is_stmt 1 view .LVU2365
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6555              		.loc 1 2414 9 is_stmt 0 view .LVU2366
 6556 0054 A36B     		ldr	r3, [r4, #56]
2414:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6557              		.loc 1 2414 5 view .LVU2367
 6558 0056 D3B9     		cbnz	r3, .L373
2418:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6559              		.loc 1 2418 10 view .LVU2368
 6560 0058 0020     		movs	r0, #0
 6561              	.L372:
2419:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6562              		.loc 1 2419 1 view .LVU2369
 6563 005a 10BD     		pop	{r4, pc}
 6564              	.LVL549:
 6565              	.L375:
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6566              		.loc 1 2385 7 is_stmt 1 view .LVU2370
ARM GAS  D:\Temp\cccH9bx8.s 			page 213


2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6567              		.loc 1 2385 10 is_stmt 0 view .LVU2371
 6568 005c C06B     		ldr	r0, [r0, #60]
 6569              	.LVL550:
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6570              		.loc 1 2385 10 view .LVU2372
 6571 005e FFF7FEFF 		bl	HAL_DMA_Abort
 6572              	.LVL551:
2385:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6573              		.loc 1 2385 9 view .LVU2373
 6574 0062 0028     		cmp	r0, #0
 6575 0064 EBD0     		beq	.L369
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6576              		.loc 1 2387 9 is_stmt 1 view .LVU2374
2387:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6577              		.loc 1 2387 24 is_stmt 0 view .LVU2375
 6578 0066 A36B     		ldr	r3, [r4, #56]
 6579 0068 43F08043 		orr	r3, r3, #1073741824
 6580 006c A363     		str	r3, [r4, #56]
 6581 006e E6E7     		b	.L369
 6582              	.LVL552:
 6583              	.L376:
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6584              		.loc 1 2393 7 is_stmt 1 view .LVU2376
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6585              		.loc 1 2393 10 is_stmt 0 view .LVU2377
 6586 0070 006C     		ldr	r0, [r0, #64]
 6587              	.LVL553:
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6588              		.loc 1 2393 10 view .LVU2378
 6589 0072 FFF7FEFF 		bl	HAL_DMA_Abort
 6590              	.LVL554:
2393:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6591              		.loc 1 2393 9 view .LVU2379
 6592 0076 0028     		cmp	r0, #0
 6593 0078 E1D0     		beq	.L369
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6594              		.loc 1 2395 9 is_stmt 1 view .LVU2380
2395:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6595              		.loc 1 2395 24 is_stmt 0 view .LVU2381
 6596 007a A36B     		ldr	r3, [r4, #56]
 6597 007c 43F08043 		orr	r3, r3, #1073741824
 6598 0080 A363     		str	r3, [r4, #56]
 6599 0082 DCE7     		b	.L369
 6600              	.LVL555:
 6601              	.L377:
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6602              		.loc 1 2412 5 is_stmt 1 view .LVU2382
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6603              		.loc 1 2412 22 is_stmt 0 view .LVU2383
 6604 0084 2068     		ldr	r0, [r4]
 6605              	.LVL556:
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6606              		.loc 1 2412 22 view .LVU2384
 6607 0086 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6608              	.LVL557:
2412:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
ARM GAS  D:\Temp\cccH9bx8.s 			page 214


 6609              		.loc 1 2412 20 view .LVU2385
 6610 008a A063     		str	r0, [r4, #56]
 6611 008c E2E7     		b	.L371
 6612              	.L373:
2416:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   }
 6613              		.loc 1 2416 12 view .LVU2386
 6614 008e 0120     		movs	r0, #1
 6615 0090 E3E7     		b	.L372
 6616              		.cfi_endproc
 6617              	.LFE155:
 6619              		.section	.text.HAL_SD_Abort_IT,"ax",%progbits
 6620              		.align	1
 6621              		.global	HAL_SD_Abort_IT
 6622              		.syntax unified
 6623              		.thumb
 6624              		.thumb_func
 6625              		.fpu fpv4-sp-d16
 6627              	HAL_SD_Abort_IT:
 6628              	.LVL558:
 6629              	.LFB156:
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6630              		.loc 1 2428 1 is_stmt 1 view -0
 6631              		.cfi_startproc
 6632              		@ args = 0, pretend = 0, frame = 0
 6633              		@ frame_needed = 0, uses_anonymous_args = 0
2428:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   HAL_SD_CardStateTypeDef CardState;
 6634              		.loc 1 2428 1 is_stmt 0 view .LVU2388
 6635 0000 10B5     		push	{r4, lr}
 6636              	.LCFI81:
 6637              		.cfi_def_cfa_offset 8
 6638              		.cfi_offset 4, -8
 6639              		.cfi_offset 14, -4
 6640 0002 0446     		mov	r4, r0
2429:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   uint32_t context = hsd->Context;
 6641              		.loc 1 2429 3 is_stmt 1 view .LVU2389
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6642              		.loc 1 2430 3 view .LVU2390
2430:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6643              		.loc 1 2430 12 is_stmt 0 view .LVU2391
 6644 0004 026B     		ldr	r2, [r0, #48]
 6645              	.LVL559:
2433:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****                            SDIO_IT_TXUNDERR| SDIO_IT_RXOVERR);
 6646              		.loc 1 2433 3 is_stmt 1 view .LVU2392
 6647 0006 0168     		ldr	r1, [r0]
 6648 0008 CB6B     		ldr	r3, [r1, #60]
 6649 000a 23F49D73 		bic	r3, r3, #314
 6650 000e CB63     		str	r3, [r1, #60]
2436:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6651              		.loc 1 2436 3 view .LVU2393
 6652 0010 0168     		ldr	r1, [r0]
 6653 0012 CB6A     		ldr	r3, [r1, #44]
 6654 0014 23F00103 		bic	r3, r3, #1
 6655 0018 CB62     		str	r3, [r1, #44]
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6656              		.loc 1 2438 3 view .LVU2394
2438:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****   {
 6657              		.loc 1 2438 6 is_stmt 0 view .LVU2395
ARM GAS  D:\Temp\cccH9bx8.s 			page 215


 6658 001a 12F0800F 		tst	r2, #128
 6659 001e 25D0     		beq	.L379
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6660              		.loc 1 2441 5 is_stmt 1 view .LVU2396
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6661              		.loc 1 2441 8 is_stmt 0 view .LVU2397
 6662 0020 0168     		ldr	r1, [r0]
2441:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6663              		.loc 1 2441 26 view .LVU2398
 6664 0022 CB6A     		ldr	r3, [r1, #44]
 6665 0024 23F00803 		bic	r3, r3, #8
 6666 0028 CB62     		str	r3, [r1, #44]
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6667              		.loc 1 2444 5 is_stmt 1 view .LVU2399
2444:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6668              		.loc 1 2444 8 is_stmt 0 view .LVU2400
 6669 002a 12F0300F 		tst	r2, #48
 6670 002e 05D1     		bne	.L386
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6671              		.loc 1 2453 10 is_stmt 1 view .LVU2401
2453:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6672              		.loc 1 2453 13 is_stmt 0 view .LVU2402
 6673 0030 12F0030F 		tst	r2, #3
 6674 0034 0ED1     		bne	.L387
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6675              		.loc 1 2493 10 view .LVU2403
 6676 0036 0023     		movs	r3, #0
 6677              	.LVL560:
 6678              	.L381:
2494:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6679              		.loc 1 2494 1 view .LVU2404
 6680 0038 1846     		mov	r0, r3
 6681 003a 10BD     		pop	{r4, pc}
 6682              	.LVL561:
 6683              	.L386:
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6684              		.loc 1 2446 7 is_stmt 1 view .LVU2405
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6685              		.loc 1 2446 10 is_stmt 0 view .LVU2406
 6686 003c C36B     		ldr	r3, [r0, #60]
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6687              		.loc 1 2446 38 view .LVU2407
 6688 003e 194A     		ldr	r2, .L390
 6689              	.LVL562:
2446:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmatx) != HAL_OK)
 6690              		.loc 1 2446 38 view .LVU2408
 6691 0040 1A65     		str	r2, [r3, #80]
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6692              		.loc 1 2447 7 is_stmt 1 view .LVU2409
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6693              		.loc 1 2447 10 is_stmt 0 view .LVU2410
 6694 0042 C06B     		ldr	r0, [r0, #60]
 6695              	.LVL563:
2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6696              		.loc 1 2447 10 view .LVU2411
 6697 0044 FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6698              	.LVL564:
ARM GAS  D:\Temp\cccH9bx8.s 			page 216


2447:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6699              		.loc 1 2447 9 view .LVU2412
 6700 0048 0346     		mov	r3, r0
 6701 004a 0028     		cmp	r0, #0
 6702 004c F4D0     		beq	.L381
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6703              		.loc 1 2449 9 is_stmt 1 view .LVU2413
2449:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6704              		.loc 1 2449 21 is_stmt 0 view .LVU2414
 6705 004e 0023     		movs	r3, #0
 6706 0050 E363     		str	r3, [r4, #60]
 6707 0052 F1E7     		b	.L381
 6708              	.LVL565:
 6709              	.L387:
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6710              		.loc 1 2455 7 is_stmt 1 view .LVU2415
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6711              		.loc 1 2455 10 is_stmt 0 view .LVU2416
 6712 0054 036C     		ldr	r3, [r0, #64]
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6713              		.loc 1 2455 38 view .LVU2417
 6714 0056 144A     		ldr	r2, .L390+4
 6715              	.LVL566:
2455:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       if(HAL_DMA_Abort_IT(hsd->hdmarx) != HAL_OK)
 6716              		.loc 1 2455 38 view .LVU2418
 6717 0058 1A65     		str	r2, [r3, #80]
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6718              		.loc 1 2456 7 is_stmt 1 view .LVU2419
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6719              		.loc 1 2456 10 is_stmt 0 view .LVU2420
 6720 005a 006C     		ldr	r0, [r0, #64]
 6721              	.LVL567:
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6722              		.loc 1 2456 10 view .LVU2421
 6723 005c FFF7FEFF 		bl	HAL_DMA_Abort_IT
 6724              	.LVL568:
2456:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       {
 6725              		.loc 1 2456 9 view .LVU2422
 6726 0060 0346     		mov	r3, r0
 6727 0062 0028     		cmp	r0, #0
 6728 0064 E8D0     		beq	.L381
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6729              		.loc 1 2458 9 is_stmt 1 view .LVU2423
2458:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****       }
 6730              		.loc 1 2458 21 is_stmt 0 view .LVU2424
 6731 0066 0023     		movs	r3, #0
 6732 0068 2364     		str	r3, [r4, #64]
 6733 006a E5E7     		b	.L381
 6734              	.LVL569:
 6735              	.L379:
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6736              		.loc 1 2470 5 is_stmt 1 view .LVU2425
 6737 006c 0368     		ldr	r3, [r0]
 6738 006e 40F23A52 		movw	r2, #1338
 6739              	.LVL570:
2470:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** 
 6740              		.loc 1 2470 5 is_stmt 0 view .LVU2426
ARM GAS  D:\Temp\cccH9bx8.s 			page 217


 6741 0072 9A63     		str	r2, [r3, #56]
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6742              		.loc 1 2472 5 is_stmt 1 view .LVU2427
2472:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->State = HAL_SD_STATE_READY;
 6743              		.loc 1 2472 17 is_stmt 0 view .LVU2428
 6744 0074 FFF7FEFF 		bl	HAL_SD_GetCardState
 6745              	.LVL571:
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6746              		.loc 1 2473 5 is_stmt 1 view .LVU2429
2473:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     hsd->Context = SD_CONTEXT_NONE;
 6747              		.loc 1 2473 16 is_stmt 0 view .LVU2430
 6748 0078 0123     		movs	r3, #1
 6749 007a 84F83430 		strb	r3, [r4, #52]
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6750              		.loc 1 2474 5 is_stmt 1 view .LVU2431
2474:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     if((CardState == HAL_SD_CARD_RECEIVING) || (CardState == HAL_SD_CARD_SENDING))
 6751              		.loc 1 2474 18 is_stmt 0 view .LVU2432
 6752 007e 0023     		movs	r3, #0
 6753 0080 2363     		str	r3, [r4, #48]
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6754              		.loc 1 2475 5 is_stmt 1 view .LVU2433
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6755              		.loc 1 2475 45 is_stmt 0 view .LVU2434
 6756 0082 0538     		subs	r0, r0, #5
 6757              	.LVL572:
2475:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6758              		.loc 1 2475 7 view .LVU2435
 6759 0084 0128     		cmp	r0, #1
 6760 0086 03D9     		bls	.L388
 6761              	.LVL573:
 6762              	.L382:
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6763              		.loc 1 2479 5 is_stmt 1 view .LVU2436
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6764              		.loc 1 2479 11 is_stmt 0 view .LVU2437
 6765 0088 A36B     		ldr	r3, [r4, #56]
2479:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     {
 6766              		.loc 1 2479 7 view .LVU2438
 6767 008a 33B1     		cbz	r3, .L389
2481:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6768              		.loc 1 2481 14 view .LVU2439
 6769 008c 0123     		movs	r3, #1
 6770 008e D3E7     		b	.L381
 6771              	.LVL574:
 6772              	.L388:
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6773              		.loc 1 2477 7 is_stmt 1 view .LVU2440
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6774              		.loc 1 2477 24 is_stmt 0 view .LVU2441
 6775 0090 2068     		ldr	r0, [r4]
 6776              	.LVL575:
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6777              		.loc 1 2477 24 view .LVU2442
 6778 0092 FFF7FEFF 		bl	SDMMC_CmdStopTransfer
 6779              	.LVL576:
2477:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c ****     }
 6780              		.loc 1 2477 22 view .LVU2443
ARM GAS  D:\Temp\cccH9bx8.s 			page 218


 6781 0096 A063     		str	r0, [r4, #56]
 6782 0098 F6E7     		b	.L382
 6783              	.L389:
2488:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** #endif /* USE_HAL_SD_REGISTER_CALLBACKS */
 6784              		.loc 1 2488 7 is_stmt 1 view .LVU2444
 6785 009a 2046     		mov	r0, r4
 6786 009c FFF7FEFF 		bl	HAL_SD_AbortCallback
 6787              	.LVL577:
2493:Drivers/STM32F4xx_HAL_Driver/Src/stm32f4xx_hal_sd.c **** }
 6788              		.loc 1 2493 10 is_stmt 0 view .LVU2445
 6789 00a0 0023     		movs	r3, #0
 6790 00a2 C9E7     		b	.L381
 6791              	.L391:
 6792              		.align	2
 6793              	.L390:
 6794 00a4 00000000 		.word	SD_DMATxAbort
 6795 00a8 00000000 		.word	SD_DMARxAbort
 6796              		.cfi_endproc
 6797              	.LFE156:
 6799              		.text
 6800              	.Letext0:
 6801              		.file 2 "c:\\stm32\\gnu mcu eclipse\\arm embedded gcc\\8.2.1-1.4-20190214-0604\\arm-none-eabi\\inc
 6802              		.file 3 "c:\\stm32\\gnu mcu eclipse\\arm embedded gcc\\8.2.1-1.4-20190214-0604\\arm-none-eabi\\inc
 6803              		.file 4 "Drivers/CMSIS/Include/core_cm4.h"
 6804              		.file 5 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/system_stm32f4xx.h"
 6805              		.file 6 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f407xx.h"
 6806              		.file 7 "Drivers/CMSIS/Device/ST/STM32F4xx/Include/stm32f4xx.h"
 6807              		.file 8 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_def.h"
 6808              		.file 9 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_dma.h"
 6809              		.file 10 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_ll_sdmmc.h"
 6810              		.file 11 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal_sd.h"
 6811              		.file 12 "Drivers/STM32F4xx_HAL_Driver/Inc/stm32f4xx_hal.h"
ARM GAS  D:\Temp\cccH9bx8.s 			page 219


DEFINED SYMBOLS
                            *ABS*:0000000000000000 stm32f4xx_hal_sd.c
  D:\Temp\cccH9bx8.s:18     .text.SD_DMATransmitCplt:0000000000000000 $t
  D:\Temp\cccH9bx8.s:25     .text.SD_DMATransmitCplt:0000000000000000 SD_DMATransmitCplt
  D:\Temp\cccH9bx8.s:52     .text.SD_PowerON:0000000000000000 $t
  D:\Temp\cccH9bx8.s:58     .text.SD_PowerON:0000000000000000 SD_PowerON
  D:\Temp\cccH9bx8.s:274    .text.SD_PowerON:00000000000000bc $d
  D:\Temp\cccH9bx8.s:279    .text.SD_PowerOFF:0000000000000000 $t
  D:\Temp\cccH9bx8.s:285    .text.SD_PowerOFF:0000000000000000 SD_PowerOFF
  D:\Temp\cccH9bx8.s:311    .text.SD_Read_IT:0000000000000000 $t
  D:\Temp\cccH9bx8.s:317    .text.SD_Read_IT:0000000000000000 SD_Read_IT
  D:\Temp\cccH9bx8.s:420    .text.SD_Write_IT:0000000000000000 $t
  D:\Temp\cccH9bx8.s:426    .text.SD_Write_IT:0000000000000000 SD_Write_IT
  D:\Temp\cccH9bx8.s:543    .text.SD_SendSDStatus:0000000000000000 $t
  D:\Temp\cccH9bx8.s:549    .text.SD_SendSDStatus:0000000000000000 SD_SendSDStatus
  D:\Temp\cccH9bx8.s:831    .text.SD_FindSCR:0000000000000000 $t
  D:\Temp\cccH9bx8.s:837    .text.SD_FindSCR:0000000000000000 SD_FindSCR
  D:\Temp\cccH9bx8.s:1102   .text.SD_WideBus_Enable:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1108   .text.SD_WideBus_Enable:0000000000000000 SD_WideBus_Enable
  D:\Temp\cccH9bx8.s:1207   .text.SD_WideBus_Disable:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1213   .text.SD_WideBus_Disable:0000000000000000 SD_WideBus_Disable
  D:\Temp\cccH9bx8.s:1312   .text.SD_SendStatus:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1318   .text.SD_SendStatus:0000000000000000 SD_SendStatus
  D:\Temp\cccH9bx8.s:1383   .text.HAL_SD_MspInit:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1390   .text.HAL_SD_MspInit:0000000000000000 HAL_SD_MspInit
  D:\Temp\cccH9bx8.s:1405   .text.HAL_SD_MspDeInit:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1412   .text.HAL_SD_MspDeInit:0000000000000000 HAL_SD_MspDeInit
  D:\Temp\cccH9bx8.s:1427   .text.HAL_SD_DeInit:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1434   .text.HAL_SD_DeInit:0000000000000000 HAL_SD_DeInit
  D:\Temp\cccH9bx8.s:1488   .text.HAL_SD_ReadBlocks:0000000000000000 $t
  D:\Temp\cccH9bx8.s:1495   .text.HAL_SD_ReadBlocks:0000000000000000 HAL_SD_ReadBlocks
  D:\Temp\cccH9bx8.s:2087   .text.HAL_SD_ReadBlocks:0000000000000268 $d
  D:\Temp\cccH9bx8.s:2092   .text.HAL_SD_WriteBlocks:0000000000000000 $t
  D:\Temp\cccH9bx8.s:2099   .text.HAL_SD_WriteBlocks:0000000000000000 HAL_SD_WriteBlocks
  D:\Temp\cccH9bx8.s:2608   .text.HAL_SD_WriteBlocks:0000000000000218 $d
  D:\Temp\cccH9bx8.s:2613   .text.HAL_SD_ReadBlocks_IT:0000000000000000 $t
  D:\Temp\cccH9bx8.s:2620   .text.HAL_SD_ReadBlocks_IT:0000000000000000 HAL_SD_ReadBlocks_IT
  D:\Temp\cccH9bx8.s:2881   .text.HAL_SD_ReadBlocks_IT:00000000000000ec $d
  D:\Temp\cccH9bx8.s:2886   .text.HAL_SD_WriteBlocks_IT:0000000000000000 $t
  D:\Temp\cccH9bx8.s:2893   .text.HAL_SD_WriteBlocks_IT:0000000000000000 HAL_SD_WriteBlocks_IT
  D:\Temp\cccH9bx8.s:3157   .text.HAL_SD_WriteBlocks_IT:00000000000000e8 $d
  D:\Temp\cccH9bx8.s:3162   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 $t
  D:\Temp\cccH9bx8.s:3169   .text.HAL_SD_ReadBlocks_DMA:0000000000000000 HAL_SD_ReadBlocks_DMA
  D:\Temp\cccH9bx8.s:3466   .text.HAL_SD_ReadBlocks_DMA:0000000000000134 $d
  D:\Temp\cccH9bx8.s:4212   .text.SD_DMAReceiveCplt:0000000000000000 SD_DMAReceiveCplt
  D:\Temp\cccH9bx8.s:5778   .text.SD_DMAError:0000000000000000 SD_DMAError
  D:\Temp\cccH9bx8.s:3474   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 $t
  D:\Temp\cccH9bx8.s:3481   .text.HAL_SD_WriteBlocks_DMA:0000000000000000 HAL_SD_WriteBlocks_DMA
  D:\Temp\cccH9bx8.s:3801   .text.HAL_SD_WriteBlocks_DMA:0000000000000138 $d
  D:\Temp\cccH9bx8.s:3809   .text.HAL_SD_Erase:0000000000000000 $t
  D:\Temp\cccH9bx8.s:3816   .text.HAL_SD_Erase:0000000000000000 HAL_SD_Erase
  D:\Temp\cccH9bx8.s:4085   .text.HAL_SD_Erase:00000000000000f8 $d
  D:\Temp\cccH9bx8.s:4090   .text.HAL_SD_GetState:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4097   .text.HAL_SD_GetState:0000000000000000 HAL_SD_GetState
  D:\Temp\cccH9bx8.s:4115   .text.HAL_SD_GetError:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4122   .text.HAL_SD_GetError:0000000000000000 HAL_SD_GetError
  D:\Temp\cccH9bx8.s:4140   .text.HAL_SD_TxCpltCallback:0000000000000000 $t
ARM GAS  D:\Temp\cccH9bx8.s 			page 220


  D:\Temp\cccH9bx8.s:4147   .text.HAL_SD_TxCpltCallback:0000000000000000 HAL_SD_TxCpltCallback
  D:\Temp\cccH9bx8.s:4162   .text.HAL_SD_RxCpltCallback:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4169   .text.HAL_SD_RxCpltCallback:0000000000000000 HAL_SD_RxCpltCallback
  D:\Temp\cccH9bx8.s:4184   .text.HAL_SD_ErrorCallback:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4191   .text.HAL_SD_ErrorCallback:0000000000000000 HAL_SD_ErrorCallback
  D:\Temp\cccH9bx8.s:4206   .text.SD_DMAReceiveCplt:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4293   .text.HAL_SD_AbortCallback:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4300   .text.HAL_SD_AbortCallback:0000000000000000 HAL_SD_AbortCallback
  D:\Temp\cccH9bx8.s:4315   .text.HAL_SD_GetCardCID:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4322   .text.HAL_SD_GetCardCID:0000000000000000 HAL_SD_GetCardCID
  D:\Temp\cccH9bx8.s:4407   .text.HAL_SD_GetCardCSD:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4414   .text.HAL_SD_GetCardCSD:0000000000000000 HAL_SD_GetCardCSD
  D:\Temp\cccH9bx8.s:4795   .text.HAL_SD_GetCardCSD:00000000000001b8 $d
  D:\Temp\cccH9bx8.s:4800   .text.SD_InitCard:0000000000000000 $t
  D:\Temp\cccH9bx8.s:4806   .text.SD_InitCard:0000000000000000 SD_InitCard
  D:\Temp\cccH9bx8.s:5047   .text.HAL_SD_InitCard:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5054   .text.HAL_SD_InitCard:0000000000000000 HAL_SD_InitCard
  D:\Temp\cccH9bx8.s:5197   .text.HAL_SD_InitCard:0000000000000078 $d
  D:\Temp\cccH9bx8.s:5202   .text.HAL_SD_Init:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5209   .text.HAL_SD_Init:0000000000000000 HAL_SD_Init
  D:\Temp\cccH9bx8.s:5304   .text.HAL_SD_GetCardStatus:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5311   .text.HAL_SD_GetCardStatus:0000000000000000 HAL_SD_GetCardStatus
  D:\Temp\cccH9bx8.s:5458   .text.HAL_SD_GetCardStatus:0000000000000090 $d
  D:\Temp\cccH9bx8.s:5463   .text.HAL_SD_GetCardInfo:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5470   .text.HAL_SD_GetCardInfo:0000000000000000 HAL_SD_GetCardInfo
  D:\Temp\cccH9bx8.s:5528   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5535   .text.HAL_SD_ConfigWideBusOperation:0000000000000000 HAL_SD_ConfigWideBusOperation
  D:\Temp\cccH9bx8.s:5702   .text.HAL_SD_ConfigWideBusOperation:00000000000000a0 $d
  D:\Temp\cccH9bx8.s:5707   .text.HAL_SD_GetCardState:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5714   .text.HAL_SD_GetCardState:0000000000000000 HAL_SD_GetCardState
  D:\Temp\cccH9bx8.s:5772   .text.SD_DMAError:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5892   .text.SD_DMAError:0000000000000064 $d
  D:\Temp\cccH9bx8.s:5897   .text.SD_DMATxAbort:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5903   .text.SD_DMATxAbort:0000000000000000 SD_DMATxAbort
  D:\Temp\cccH9bx8.s:5986   .text.SD_DMARxAbort:0000000000000000 $t
  D:\Temp\cccH9bx8.s:5992   .text.SD_DMARxAbort:0000000000000000 SD_DMARxAbort
  D:\Temp\cccH9bx8.s:6075   .text.HAL_SD_IRQHandler:0000000000000000 $t
  D:\Temp\cccH9bx8.s:6082   .text.HAL_SD_IRQHandler:0000000000000000 HAL_SD_IRQHandler
  D:\Temp\cccH9bx8.s:6464   .text.HAL_SD_IRQHandler:00000000000001d8 $d
  D:\Temp\cccH9bx8.s:6470   .text.HAL_SD_Abort:0000000000000000 $t
  D:\Temp\cccH9bx8.s:6477   .text.HAL_SD_Abort:0000000000000000 HAL_SD_Abort
  D:\Temp\cccH9bx8.s:6620   .text.HAL_SD_Abort_IT:0000000000000000 $t
  D:\Temp\cccH9bx8.s:6627   .text.HAL_SD_Abort_IT:0000000000000000 HAL_SD_Abort_IT
  D:\Temp\cccH9bx8.s:6794   .text.HAL_SD_Abort_IT:00000000000000a4 $d

UNDEFINED SYMBOLS
SDMMC_CmdGoIdleState
SDMMC_CmdOperCond
SDMMC_CmdAppCommand
SDMMC_CmdAppOperCommand
SDIO_GetResponse
SDIO_PowerState_OFF
SDIO_ReadFIFO
SDIO_WriteFIFO
HAL_GetTick
SDMMC_CmdBlockLength
SDIO_ConfigData
ARM GAS  D:\Temp\cccH9bx8.s 			page 221


SDMMC_CmdStatusRegister
SDMMC_CmdSendSCR
SDMMC_CmdBusWidth
SDMMC_CmdSendStatus
SDMMC_CmdReadMultiBlock
SDMMC_CmdReadSingleBlock
SDMMC_CmdStopTransfer
SDMMC_CmdWriteMultiBlock
SDMMC_CmdWriteSingleBlock
HAL_DMA_Start_IT
SDMMC_CmdSDEraseStartAdd
SDMMC_CmdSDEraseEndAdd
SDMMC_CmdErase
SDIO_GetPowerState
SDMMC_CmdSendCSD
SDMMC_CmdSelDesel
SDIO_Init
SDMMC_CmdSendCID
SDMMC_CmdSetRelAdd
SDIO_PowerState_ON
HAL_DMA_GetError
HAL_DMA_Abort_IT
HAL_DMA_Abort
